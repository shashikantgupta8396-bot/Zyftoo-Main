{
    "sourceFile": "Ninico/components/layout/header/Header6.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 7,
            "patches": [
                {
                    "date": 1752698561945,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1752743596939,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -8,9 +8,10 @@\n import HeaderSticky4 from \"../HeaderSticky4\"\r\n import LoginPopup from \"@/components/Modal/LoginModal\";\r\n import Profilebar from \"@/components/layout/header/Profilebar\";\r\n import { useContext } from 'react';\r\n-import AuthContext from '@/components/context/AuthContext';\r\n+import Profilebar from \"@/components/layout/Profilebar\"\r\n+import AuthContext from '@/components/context/AuthContext'\r\n \r\n \r\n \r\n export default function Header4({ scroll, isMobileMenu, handleMobileMenu, isCartSidebar, handleCartSidebar, showSticky = true }) { \r\n"
                },
                {
                    "date": 1752743854545,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -8,9 +8,8 @@\n import HeaderSticky4 from \"../HeaderSticky4\"\r\n import LoginPopup from \"@/components/Modal/LoginModal\";\r\n import Profilebar from \"@/components/layout/header/Profilebar\";\r\n import { useContext } from 'react';\r\n-import Profilebar from \"@/components/layout/Profilebar\"\r\n import AuthContext from '@/components/context/AuthContext'\r\n \r\n \r\n \r\n"
                },
                {
                    "date": 1752743911209,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -6,9 +6,9 @@\n import HeaderTabSticky from \"../HeaderTabSticky\"\r\n import HeaderSticky from \"../HeaderSticky\"\r\n import HeaderSticky4 from \"../HeaderSticky4\"\r\n import LoginPopup from \"@/components/Modal/LoginModal\";\r\n-import Profilebar from \"@/components/layout/header/Profilebar\";\r\n+import Profilebar from \"@/components/layout/Profilebar\";\r\n import { useContext } from 'react';\r\n import AuthContext from '@/components/context/AuthContext'\r\n \r\n \r\n"
                },
                {
                    "date": 1752744716017,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -120,23 +120,19 @@\n                         }}\r\n                       >\r\n                         <i className=\"fal fa-user\" />\r\n                       </button>\r\n-\r\n-                      {showProfilebar && (\r\n-                        <div className=\"profilebar-hover-area\">\r\n-                          <Profilebar\r\n-                            onLoginClick={() => {\r\n-                              setShowProfilebar(false);\r\n-                              setShowLogin(true);\r\n-                            }}\r\n-                            user={user}\r\n-                            logout={logout}\r\n-                          />\r\n-                        </div>\r\n-                      )}\r\n                     </div>\r\n \r\n+                    <Profilebar\r\n+                      show={showProfilebar}\r\n+                      onClose={() => setShowProfilebar(false)}\r\n+                      onLoginClick={() => {\r\n+                        setShowProfilebar(false);\r\n+                        setShowLogin(true);\r\n+                      }}\r\n+                    />\r\n+\r\n                     {showLogin && (\r\n                       <LoginPopup\r\n                         show={showLogin}\r\n                         onClose={() => setShowLogin(false)}\r\n"
                },
                {
                    "date": 1752745842472,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -108,30 +108,42 @@\n                       }}\r\n                       onMouseLeave={() => {\r\n                         profilebarTimer.current = setTimeout(() => {\r\n                           setShowProfilebar(false);\r\n-                        }, 200);\r\n+                        }, 300);\r\n                       }}\r\n                     >\r\n                       <button\r\n                         className=\"zy-header-login-icon\"\r\n                         onClick={(e) => {\r\n                           e.stopPropagation();\r\n-                          setShowProfilebar(false);\r\n+                          setShowProfilebar(!showProfilebar);\r\n                         }}\r\n                       >\r\n                         <i className=\"fal fa-user\" />\r\n                       </button>\r\n                     </div>\r\n \r\n-                    <Profilebar\r\n-                      show={showProfilebar}\r\n-                      onClose={() => setShowProfilebar(false)}\r\n-                      onLoginClick={() => {\r\n-                        setShowProfilebar(false);\r\n-                        setShowLogin(true);\r\n+                    <div\r\n+                      onMouseEnter={() => {\r\n+                        clearTimeout(profilebarTimer.current);\r\n+                        setShowProfilebar(true);\r\n                       }}\r\n-                    />\r\n+                      onMouseLeave={() => {\r\n+                        profilebarTimer.current = setTimeout(() => {\r\n+                          setShowProfilebar(false);\r\n+                        }, 300);\r\n+                      }}\r\n+                    >\r\n+                      <Profilebar\r\n+                        show={showProfilebar}\r\n+                        onClose={() => setShowProfilebar(false)}\r\n+                        onLoginClick={() => {\r\n+                          setShowProfilebar(false);\r\n+                          setShowLogin(true);\r\n+                        }}\r\n+                      />\r\n+                    </div>\r\n \r\n                     {showLogin && (\r\n                       <LoginPopup\r\n                         show={showLogin}\r\n"
                },
                {
                    "date": 1752746869290,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -7,16 +7,18 @@\n import HeaderSticky from \"../HeaderSticky\"\r\n import HeaderSticky4 from \"../HeaderSticky4\"\r\n import LoginPopup from \"@/components/Modal/LoginModal\";\r\n import Profilebar from \"@/components/layout/Profilebar\";\r\n+import UserProfile from \"@/components/layout/userProfile\";\r\n import { useContext } from 'react';\r\n import AuthContext from '@/components/context/AuthContext'\r\n \r\n \r\n \r\n export default function Header4({ scroll, isMobileMenu, handleMobileMenu, isCartSidebar, handleCartSidebar, showSticky = true }) { \r\n   const [showProfilebar, setShowProfilebar] = useState(false); // for hover sidebar\r\n   const [showLogin, setShowLogin] = useState(false);\r\n+  const [showUserProfile, setShowUserProfile] = useState(false);\r\n   const [scrollY, setScrollY] = useState(0);             // to track position\r\n   const [showStickyHeader, setShowStickyHeader] = useState(false);  //\r\n   const wrapperRef = useRef(null);\r\n   const profilebarTimer = useRef(null);\r\n@@ -140,8 +142,12 @@\n                         onLoginClick={() => {\r\n                           setShowProfilebar(false);\r\n                           setShowLogin(true);\r\n                         }}\r\n+                        onEditProfileClick={() => {\r\n+                          setShowProfilebar(false);\r\n+                          setShowUserProfile(true);\r\n+                        }}\r\n                       />\r\n                     </div>\r\n \r\n                     {showLogin && (\r\n@@ -149,8 +155,15 @@\n                         show={showLogin}\r\n                         onClose={() => setShowLogin(false)}\r\n                       />\r\n                     )}\r\n+                    \r\n+                    {showUserProfile && (\r\n+                      <UserProfile\r\n+                        show={showUserProfile}\r\n+                        onClose={() => setShowUserProfile(false)}\r\n+                      />\r\n+                    )}\r\n                   </div>\r\n \r\n                   <Link href=\"/wishlist\"><i className=\"fal fa-heart\" /></Link>\r\n                             </div>\r\n"
                },
                {
                    "date": 1752747844763,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -7,18 +7,16 @@\n import HeaderSticky from \"../HeaderSticky\"\r\n import HeaderSticky4 from \"../HeaderSticky4\"\r\n import LoginPopup from \"@/components/Modal/LoginModal\";\r\n import Profilebar from \"@/components/layout/Profilebar\";\r\n-import UserProfile from \"@/components/layout/userProfile\";\r\n import { useContext } from 'react';\r\n import AuthContext from '@/components/context/AuthContext'\r\n \r\n \r\n \r\n export default function Header4({ scroll, isMobileMenu, handleMobileMenu, isCartSidebar, handleCartSidebar, showSticky = true }) { \r\n   const [showProfilebar, setShowProfilebar] = useState(false); // for hover sidebar\r\n   const [showLogin, setShowLogin] = useState(false);\r\n-  const [showUserProfile, setShowUserProfile] = useState(false);\r\n   const [scrollY, setScrollY] = useState(0);             // to track position\r\n   const [showStickyHeader, setShowStickyHeader] = useState(false);  //\r\n   const wrapperRef = useRef(null);\r\n   const profilebarTimer = useRef(null);\r\n@@ -142,12 +140,8 @@\n                         onLoginClick={() => {\r\n                           setShowProfilebar(false);\r\n                           setShowLogin(true);\r\n                         }}\r\n-                        onEditProfileClick={() => {\r\n-                          setShowProfilebar(false);\r\n-                          setShowUserProfile(true);\r\n-                        }}\r\n                       />\r\n                     </div>\r\n \r\n                     {showLogin && (\r\n@@ -155,15 +149,8 @@\n                         show={showLogin}\r\n                         onClose={() => setShowLogin(false)}\r\n                       />\r\n                     )}\r\n-                    \r\n-                    {showUserProfile && (\r\n-                      <UserProfile\r\n-                        show={showUserProfile}\r\n-                        onClose={() => setShowUserProfile(false)}\r\n-                      />\r\n-                    )}\r\n                   </div>\r\n \r\n                   <Link href=\"/wishlist\"><i className=\"fal fa-heart\" /></Link>\r\n                             </div>\r\n"
                }
            ],
            "date": 1752698561945,
            "name": "Commit-0",
            "content": "\"use client\";\r\nimport React, { useState, useRef, useEffect } from 'react';\r\nimport CartShow from \"@/components/elements/CartShow\"\r\nimport Link from \"next/link\"\r\nimport HeaderMobSticky from \"../HeaderMobSticky\"\r\nimport HeaderTabSticky from \"../HeaderTabSticky\"\r\nimport HeaderSticky from \"../HeaderSticky\"\r\nimport HeaderSticky4 from \"../HeaderSticky4\"\r\nimport LoginPopup from \"@/components/Modal/LoginModal\";\r\nimport Profilebar from \"@/components/layout/header/Profilebar\";\r\nimport { useContext } from 'react';\r\nimport AuthContext from '@/components/context/AuthContext';\r\n\r\n\r\n\r\nexport default function Header4({ scroll, isMobileMenu, handleMobileMenu, isCartSidebar, handleCartSidebar, showSticky = true }) { \r\n  const [showProfilebar, setShowProfilebar] = useState(false); // for hover sidebar\r\n  const [showLogin, setShowLogin] = useState(false);\r\n  const [scrollY, setScrollY] = useState(0);             // to track position\r\n  const [showStickyHeader, setShowStickyHeader] = useState(false);  //\r\n  const wrapperRef = useRef(null);\r\n  const profilebarTimer = useRef(null);\r\n  const { user, logout } = useContext(AuthContext);\r\n \r\n  // to auto-close profilebar on scroll\r\n\r\n\r\nuseEffect(() => {\r\n  let lastScrollY = window.scrollY;\r\n\r\n  const handleScroll = () => {\r\n    const currentScroll = window.scrollY;\r\n    const quarterScreen = window.innerHeight / 4;\r\n\r\n    setShowProfilebar(false); // Auto-close profilebar\r\n\r\n    if (currentScroll > lastScrollY) {\r\n      // Scrolling down\r\n      if (currentScroll > quarterScreen) {\r\n        setShowStickyHeader(true); // ✅ Show if beyond 25% screen height\r\n      }\r\n    } else {\r\n      // Scrolling up - hide instantly\r\n      setShowStickyHeader(false);\r\n    }\r\n\r\n    lastScrollY = currentScroll;\r\n  };\r\n\r\n  window.addEventListener(\"scroll\", handleScroll);\r\n  return () => {\r\n    window.removeEventListener(\"scroll\", handleScroll);\r\n  };\r\n}, []);\r\n\r\n\r\n\r\n\r\n\r\n  \r\n  return (\r\n        <>\r\n            <header className=\"platinam-light\">\r\n                <div className=\"zy-header-navbar-wrapper d-none d-xl-block\">\r\n                    <div className=\"zy-header-container\">\r\n                      <div className=\"zy-header-row\">\r\n                        \r\n                        {/* Logo */}\r\n                        <div className=\"zy-header-col-2\">\r\n                          <div className=\"zy-header-logo-wrapper text-center\">\r\n                            <div className=\"zy-header-logo\">\r\n                              <Link href=\"/\">\r\n                                <img src=\"/assets/img/logo/logo.png\" alt=\"logo\" />\r\n                              </Link>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n\r\n                        {/* Search */}\r\n                        <div className=\"zy-header-col-5\">\r\n                          <div className=\"zy-navbar-search-wrapper d-flex align-items-center\">\r\n                            <div className=\"zy-navbar-search-box\">\r\n                              <form action=\"#\">\r\n                                <div className=\"zy-navbar-search-input-wrapper position-relative\">\r\n                                  <button className=\"zy-navbar-search-icon\"><i className=\"fal fa-search\" /></button>\r\n                                  <input type=\"text\" placeholder=\"Search products...\" className=\"zy-navbar-search-input\" />\r\n                                </div>\r\n                              </form>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n\r\n                        {/* Icons */}\r\n                        <div className=\"zy-header-col-5\">\r\n                          <div className=\"zy-header-action-wrapper d-flex align-items-center justify-content-end\">\r\n                            <div className=\"zy-header-icons d-flex align-items-center\">\r\n                              <button className=\"zy-header-cart-btn\" onClick={handleCartSidebar}>\r\n                    <i className=\"fal fa-shopping-cart\" />\r\n                    <CartShow />\r\n                  </button>\r\n\r\n                  <div ref={wrapperRef} style={{ position: 'relative' }}>\r\n                    <div\r\n                      className=\"profilebar-wrapper\"\r\n                      onMouseEnter={() => {\r\n                        clearTimeout(profilebarTimer.current);\r\n                        setShowProfilebar(true);\r\n                      }}\r\n                      onMouseLeave={() => {\r\n                        profilebarTimer.current = setTimeout(() => {\r\n                          setShowProfilebar(false);\r\n                        }, 200);\r\n                      }}\r\n                    >\r\n                      <button\r\n                        className=\"zy-header-login-icon\"\r\n                        onClick={(e) => {\r\n                          e.stopPropagation();\r\n                          setShowProfilebar(false);\r\n                        }}\r\n                      >\r\n                        <i className=\"fal fa-user\" />\r\n                      </button>\r\n\r\n                      {showProfilebar && (\r\n                        <div className=\"profilebar-hover-area\">\r\n                          <Profilebar\r\n                            onLoginClick={() => {\r\n                              setShowProfilebar(false);\r\n                              setShowLogin(true);\r\n                            }}\r\n                            user={user}\r\n                            logout={logout}\r\n                          />\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n\r\n                    {showLogin && (\r\n                      <LoginPopup\r\n                        show={showLogin}\r\n                        onClose={() => setShowLogin(false)}\r\n                      />\r\n                    )}\r\n                  </div>\r\n\r\n                  <Link href=\"/wishlist\"><i className=\"fal fa-heart\" /></Link>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        \r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                \r\n            </header>\r\n             {/* Conditionally render sticky headers */}\r\n            {showSticky && (\r\n                <>\r\n                    <HeaderSticky4 scroll={scroll} isCartSidebar={isCartSidebar} handleCartSidebar={handleCartSidebar} />\r\n                    <HeaderTabSticky scroll={scroll} isMobileMenu={isMobileMenu} handleMobileMenu={handleMobileMenu} isCartSidebar={isCartSidebar} handleCartSidebar={handleCartSidebar} />\r\n                    <HeaderMobSticky scroll={scroll} isMobileMenu={isMobileMenu} handleMobileMenu={handleMobileMenu} isCartSidebar={isCartSidebar} handleCartSidebar={handleCartSidebar} />\r\n                </>\r\n            )}\r\n        </>\r\n    )\r\n}\r\n"
        }
    ]
}