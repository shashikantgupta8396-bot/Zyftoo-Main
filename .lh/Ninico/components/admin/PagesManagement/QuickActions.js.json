{
    "sourceFile": "Ninico/components/admin/PagesManagement/QuickActions.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1753197903972,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1753197903972,
            "name": "Commit-0",
            "content": "'use client'\r\nimport React from 'react'\r\n\r\nexport default function QuickActions({\r\n  mainCategories,\r\n  selectedMainCategory,\r\n  getSubcategoriesForCategory,\r\n  categoryConfig,\r\n  setCategoryConfig,\r\n  getCurrentCounts,\r\n  MAX_MAIN_CATEGORIES,\r\n  MAX_SUBCATEGORIES_PER_CATEGORY,\r\n  setError,\r\n  setSelectedMainCategory\r\n}) {\r\n  const handleSelectAllMainCategories = () => {\r\n    const { mainCategoriesCount } = getCurrentCounts()\r\n    const availableSlots = MAX_MAIN_CATEGORIES - mainCategoriesCount\r\n    \r\n    if (availableSlots <= 0) {\r\n      setError(`Cannot select more categories. Maximum ${MAX_MAIN_CATEGORIES} main categories allowed.`)\r\n      return\r\n    }\r\n    \r\n    // Add unselected main categories to categoryIds\r\n    const unselectedMainCategories = mainCategories.filter(cat => \r\n      !categoryConfig.categoryIds.includes(cat.id)\r\n    ).slice(0, availableSlots)\r\n    \r\n    if (unselectedMainCategories.length > 0) {\r\n      setCategoryConfig(prev => ({\r\n        ...prev,\r\n        categoryIds: [...prev.categoryIds, ...unselectedMainCategories.map(cat => cat.id)]\r\n      }))\r\n    }\r\n    \r\n    if (unselectedMainCategories.length < mainCategories.length - mainCategoriesCount) {\r\n      setError(`Only selected ${unselectedMainCategories.length} more categories due to limit.`)\r\n    }\r\n  }\r\n\r\n  const handleSelectAllSubcategories = () => {\r\n    if (!selectedMainCategory) {\r\n      setError('Please select a main category first to add subcategories.')\r\n      return\r\n    }\r\n    \r\n    const subcategoriesForMain = getSubcategoriesForCategory(selectedMainCategory)\r\n    const currentSubCount = subcategoriesForMain.filter(sub => \r\n      categoryConfig.categoryIds.includes(sub.id)\r\n    ).length\r\n    const availableSlots = MAX_SUBCATEGORIES_PER_CATEGORY - currentSubCount\r\n    \r\n    if (availableSlots <= 0) {\r\n      setError(`Cannot select more subcategories. Maximum ${MAX_SUBCATEGORIES_PER_CATEGORY} subcategories per main category allowed.`)\r\n      return\r\n    }\r\n    \r\n    // Add unselected subcategories to categoryIds\r\n    const unselectedSubcategories = subcategoriesForMain.filter(sub => \r\n      !categoryConfig.categoryIds.includes(sub.id)\r\n    ).slice(0, availableSlots)\r\n    \r\n    if (unselectedSubcategories.length > 0) {\r\n      setCategoryConfig(prev => ({\r\n        ...prev,\r\n        categoryIds: [...prev.categoryIds, ...unselectedSubcategories.map(sub => sub.id)]\r\n      }))\r\n    }\r\n    \r\n    if (unselectedSubcategories.length < subcategoriesForMain.length - currentSubCount) {\r\n      setError(`Only selected ${unselectedSubcategories.length} more subcategories due to limit.`)\r\n    }\r\n  }\r\n\r\n  const handleClearAllSelections = () => {\r\n    setCategoryConfig(prev => ({\r\n      ...prev,\r\n      categoryIds: []\r\n    }))\r\n    setSelectedMainCategory(null)\r\n  }\r\n\r\n  return (\r\n    <div className=\"row\">\r\n      <div className=\"col-12\">\r\n        <div className=\"d-flex gap-2 flex-wrap\">\r\n          <button \r\n            type=\"button\" \r\n            className=\"btn btn-outline-primary btn-sm\"\r\n            onClick={handleSelectAllMainCategories}\r\n          >\r\n            <i className=\"bi bi-check-all me-1\"></i>\r\n            Select All Main Categories\r\n          </button>\r\n          \r\n          <button \r\n            type=\"button\" \r\n            className=\"btn btn-outline-success btn-sm\"\r\n            onClick={handleSelectAllSubcategories}\r\n            disabled={!selectedMainCategory}\r\n          >\r\n            <i className=\"bi bi-tags me-1\"></i>\r\n            Select All Subcategories\r\n          </button>\r\n          \r\n          <button \r\n            type=\"button\" \r\n            className=\"btn btn-outline-secondary btn-sm\"\r\n            onClick={handleClearAllSelections}\r\n          >\r\n            <i className=\"bi bi-x-circle me-1\"></i>\r\n            Clear All Selections\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"
        }
    ]
}