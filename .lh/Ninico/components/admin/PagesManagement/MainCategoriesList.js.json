{
    "sourceFile": "Ninico/components/admin/PagesManagement/MainCategoriesList.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1753197903972,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1753197903972,
            "name": "Commit-0",
            "content": "'use client'\r\nimport React from 'react'\r\n\r\nexport default function MainCategoriesList({\r\n  mainCategories,\r\n  categoryConfig,\r\n  selectedMainCategory,\r\n  setSelectedMainCategory,\r\n  handleCategoryToggle,\r\n  getSubcategoriesForCategory,\r\n  getCurrentCounts\r\n}) {\r\n  return (\r\n    <div className=\"card\">\r\n      <div className=\"card-header bg-light d-flex justify-content-between align-items-center\">\r\n        <h6 className=\"mb-0\">\r\n          <i className=\"bi bi-grid text-primary me-2\"></i>\r\n          Main Categories ({mainCategories.length})\r\n        </h6>\r\n        <span className=\"badge bg-primary\">\r\n          {getCurrentCounts().mainCategoriesCount} selected\r\n        </span>\r\n      </div>\r\n      <div className=\"card-body p-0\">\r\n        <div className=\"list-group list-group-flush\" style={{ maxHeight: '400px', overflowY: 'auto' }}>\r\n          {mainCategories.map((category, index) => {\r\n            // Use the flat categoryIds array for now since categories is still an array\r\n            const isSelected = categoryConfig.categoryIds.includes(category.id)\r\n            const isActiveTab = selectedMainCategory === category.id\r\n            const subcategoryCount = getSubcategoriesForCategory(category.id).length\r\n            const selectedSubcategoryCount = getSubcategoriesForCategory(category.id)\r\n              .filter(sub => categoryConfig.categoryIds.includes(sub.id)).length\r\n            \r\n            return (\r\n              <div \r\n                key={category.id} \r\n                className={`list-group-item list-group-item-action border-0 ${isActiveTab ? 'active' : ''} ${isSelected ? 'bg-primary bg-opacity-10 border-start border-primary border-3' : ''}`}\r\n                style={{ cursor: 'pointer' }}\r\n                onClick={() => setSelectedMainCategory(category.id)}\r\n              >\r\n                <div className=\"d-flex align-items-center\">\r\n                  <div className=\"form-check me-3\" onClick={(e) => e.stopPropagation()}>\r\n                    <input \r\n                      className=\"form-check-input\" \r\n                      type=\"checkbox\" \r\n                      id={`main-category-${category.id}`}\r\n                      checked={isSelected}\r\n                      onChange={() => handleCategoryToggle(category.id)}\r\n                    />\r\n                  </div>\r\n                  \r\n                  {category.image && (\r\n                    <img \r\n                      src={category.image} \r\n                      alt={category.name}\r\n                      className=\"me-3 flex-shrink-0 border\"\r\n                      style={{ width: '42px', height: '42px', objectFit: 'cover', borderRadius: '8px' }}\r\n                    />\r\n                  )}\r\n                  \r\n                  <div className=\"flex-grow-1\">\r\n                    <div className=\"d-flex justify-content-between align-items-center\">\r\n                      <div>\r\n                        <h6 className={`mb-1 fw-semibold ${isActiveTab ? 'text-white' : 'text-dark'}`}>\r\n                          <i className=\"bi bi-grid text-primary me-1\" style={{ fontSize: '14px' }}></i>\r\n                          {category.name}\r\n                        </h6>\r\n                        {category.description && (\r\n                          <p className={`mb-1 small ${isActiveTab ? 'text-white-50' : 'text-muted'}`}>\r\n                            {category.description}\r\n                          </p>\r\n                        )}\r\n                        <div className=\"d-flex gap-1 align-items-center\">\r\n                          <span className={`badge ${isActiveTab ? 'bg-white text-primary' : 'bg-primary'}`} style={{ fontSize: '9px' }}>\r\n                            Main Category\r\n                          </span>\r\n                          {isSelected && (\r\n                            <span className={`badge ${isActiveTab ? 'bg-success text-white' : 'bg-success'}`} style={{ fontSize: '9px' }}>\r\n                              <i className=\"bi bi-check-circle me-1\"></i>\r\n                              Selected\r\n                            </span>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"text-end\">\r\n                        {subcategoryCount > 0 && (\r\n                          <div className=\"mb-1\">\r\n                            <span className={`badge ${isActiveTab ? 'bg-white text-primary' : 'bg-secondary'}`} style={{ fontSize: '10px' }}>\r\n                              {subcategoryCount} subs\r\n                            </span>\r\n                          </div>\r\n                        )}\r\n                        {selectedSubcategoryCount > 0 && (\r\n                          <div className=\"mb-1\">\r\n                            <span className={`badge ${isActiveTab ? 'bg-success text-white' : 'bg-success'}`} style={{ fontSize: '10px' }}>\r\n                              {selectedSubcategoryCount} selected\r\n                            </span>\r\n                          </div>\r\n                        )}\r\n                        <i className={`bi bi-chevron-right ${isActiveTab ? 'text-white' : 'text-muted'}`}></i>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )\r\n          })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"
        }
    ]
}