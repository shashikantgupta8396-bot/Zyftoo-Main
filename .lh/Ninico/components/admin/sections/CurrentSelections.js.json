{
    "sourceFile": "Ninico/components/admin/sections/CurrentSelections.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 7,
            "patches": [
                {
                    "date": 1753289008406,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1753454690982,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,21 +1,416 @@\n-import React from 'react'\r\n+import React from 'react';\r\n+import useCategorySectionData from '@/hooks/useCategorySectionData';\r\n \r\n-export default function CurrentSelections({\r\n-  categoryConfig,\r\n-  availableCategories,\r\n-  subcategories\r\n-}) {\r\n+export default function CurrentSelections({ pageId, token }) {\r\n+  const {\r\n+    mainCategories,\r\n+    subcategories,\r\n+    loading,\r\n+    error,\r\n+    selectedMainCategory,\r\n+    setSelectedMainCategory,\r\n+    getSubcategoriesForCategory\r\n+  } = useCategorySectionData(pageId, token);\r\n+\r\n   // Create default category icon as data URL to avoid 404 errors\r\n   const defaultCategoryIcon = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAzNiAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjM2IiBoZWlnaHQ9IjM2IiBmaWxsPSIjZjhmOWZhIiByeD0iNiIvPgo8Zm9sZGVyIGZpbGw9IiM5NjliYTYiLz4KPHN2ZyB4PSI2IiB5PSI4IiB3aWR0aD0iMjQiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyNCAyMCIgZmlsbD0ibm9uZSI+CjxwYXRoIGQ9Ik0yIDJoOGwyIDJoMTB2MTJIMlYyeiIgZmlsbD0iIzk2OWJhNiIvPgo8L3N2Zz4KPC9zdmc+'\r\n   \r\n   // Create default subcategory icon as data URL to avoid 404 errors\r\n   const defaultSubcategoryIcon = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAzNiAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjM2IiBoZWlnaHQ9IjM2IiBmaWxsPSIjZjhmOWZhIiByeD0iNiIvPgo8Y2lyY2xlIGN4PSIxOCIgY3k9IjE4IiByPSI4IiBmaWxsPSIjZGVlMmU2Ii8+CjxjaXJjbGUgY3g9IjE4IiBjeT0iMTgiIHI9IjMiIGZpbGw9IiM5NjliYTYiLz4KPC9zdmc+'\r\n \r\n-  const mainCategories = availableCategories.filter(cat => !cat.parent)\r\n-  const subCategories = subcategories\r\n+  if (loading) {\r\n+    return (\r\n+      <div className=\"row mb-4\">\r\n+        <div className=\"col-12\">\r\n+          <div className=\"card border-success\">\r\n+            <div className=\"card-header bg-success bg-opacity-10\">\r\n+              <h6 className=\"mb-0 text-success\">\r\n+                <i className=\"bi bi-check-circle me-2\"></i>\r\n+                Current Selections\r\n+              </h6>\r\n+            </div>\r\n+            <div className=\"card-body\">\r\n+              <div className=\"text-center py-4\">\r\n+                <div className=\"spinner-border text-primary\" role=\"status\">\r\n+                  <span className=\"visually-hidden\">Loading...</span>\r\n+                </div>\r\n+                <p className=\"mt-2 text-muted\">Loading current selections...</p>\r\n+              </div>\r\n+            </div>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+    );\r\n+  }\r\n \r\n+  if (error) {\r\n+    return (\r\n+      <div className=\"row mb-4\">\r\n+        <div className=\"col-12\">\r\n+          <div className=\"card border-danger\">\r\n+            <div className=\"card-header bg-danger bg-opacity-10\">\r\n+              <h6 className=\"mb-0 text-danger\">\r\n+                <i className=\"bi bi-exclamation-triangle me-2\"></i>\r\n+                Error Loading Selections\r\n+              </h6>\r\n+            </div>\r\n+            <div className=\"card-body\">\r\n+              <div className=\"text-center py-4\">\r\n+                <i className=\"bi bi-exclamation-triangle text-danger\" style={{ fontSize: '2rem' }}></i>\r\n+                <p className=\"mt-2 text-danger mb-1\">Failed to load current selections</p>\r\n+                <small className=\"text-muted\">Error: {error}</small>\r\n+                <div className=\"mt-3\">\r\n+                  <button className=\"btn btn-outline-primary btn-sm\" onClick={() => window.location.reload()}>\r\n+                    <i className=\"bi bi-arrow-clockwise me-1\"></i>\r\n+                    Retry\r\n+                  </button>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+    );\r\n+  }\r\n+\r\n+  const selectedCategorySubcategories = selectedMainCategory ? \r\n+    getSubcategoriesForCategory(selectedMainCategory) : [];\r\n+\r\n   return (\r\n+    <>\r\n+      <div className=\"row mb-4\">\r\n+        <div className=\"col-12\">\r\n+          <div className=\"card border-success\">\r\n+            <div className=\"card-header bg-success bg-opacity-10\">\r\n+              <h6 className=\"mb-0 text-success\">\r\n+                <i className=\"bi bi-check-circle me-2\"></i>\r\n+                Current Selections\r\n+              </h6>\r\n+            </div>\r\n+            <div className=\"card-body\">\r\n+              {mainCategories.length > 0 || subcategories.length > 0 ? (\r\n+                <div className=\"row\">\r\n+                  {/* Main Categories List */}\r\n+                  <div className=\"col-md-6\">\r\n+                    <h6 className=\"text-primary mb-3\">\r\n+                      <i className=\"bi bi-grid me-1\"></i>\r\n+                      Selected Main Categories ({mainCategories.length})\r\n+                    </h6>\r\n+                    <div className=\"border rounded p-3\" style={{ maxHeight: '300px', overflowY: 'auto' }}>\r\n+                      {mainCategories.map((category) => (\r\n+                        <div\r\n+                          key={category.id}\r\n+                          className={`d-flex align-items-center p-2 rounded mb-2 cursor-pointer ${\r\n+                            selectedMainCategory === category.id \r\n+                              ? 'bg-primary bg-opacity-20 border border-primary' \r\n+                              : 'bg-light border border-light'\r\n+                          }`}\r\n+                          onClick={() => setSelectedMainCategory(category.id)}\r\n+                          style={{ cursor: 'pointer', transition: 'all 0.2s' }}\r\n+                        >\r\n+                          <img \r\n+                            src={category.image || defaultCategoryIcon}\r\n+                            alt={category.name}\r\n+                            className=\"me-3 rounded\"\r\n+                            style={{ width: '40px', height: '40px', objectFit: 'cover' }}\r\n+                            onError={(e) => {\r\n+                              e.target.src = defaultCategoryIcon;\r\n+                            }}\r\n+                          />\r\n+                          <div className=\"flex-grow-1\">\r\n+                            <div className=\"fw-medium text-dark\">{category.name}</div>\r\n+                            {category.description && (\r\n+                              <small className=\"text-muted\">{category.description}</small>\r\n+                            )}\r\n+                          </div>\r\n+                          {selectedMainCategory === category.id && (\r\n+                            <i className=\"bi bi-check-circle text-primary\"></i>\r\n+                          )}\r\n+                        </div>\r\n+                      ))}\r\n+                    </div>\r\n+                  </div>\r\n+\r\n+                  {/* Subcategories List */}\r\n+                  <div className=\"col-md-6\">\r\n+                    <h6 className=\"text-secondary mb-3\">\r\n+                      <i className=\"bi bi-tags me-1\"></i>\r\n+                      Selected Subcategories ({selectedCategorySubcategories.length})\r\n+                    </h6>\r\n+                    <div className=\"border rounded p-3\" style={{ maxHeight: '300px', overflowY: 'auto' }}>\r\n+                      {selectedMainCategory ? (\r\n+                        selectedCategorySubcategories.length > 0 ? (\r\n+                          selectedCategorySubcategories.map((subcategory) => (\r\n+                            <div\r\n+                              key={subcategory.id}\r\n+                              className=\"d-flex align-items-center p-2 rounded mb-2 bg-light border border-light\"\r\n+                            >\r\n+                              <img \r\n+                                src={subcategory.image || defaultSubcategoryIcon}\r\n+                                alt={subcategory.name}\r\n+                                className=\"me-3 rounded\"\r\n+                                style={{ width: '32px', height: '32px', objectFit: 'cover' }}\r\n+                                onError={(e) => {\r\n+                                  e.target.src = defaultSubcategoryIcon;\r\n+                                }}\r\n+                              />\r\n+                              <div className=\"flex-grow-1\">\r\n+                                <div className=\"fw-medium text-dark\">{subcategory.name}</div>\r\n+                                {subcategory.description && (\r\n+                                  <small className=\"text-muted\">{subcategory.description}</small>\r\n+                                )}\r\n+                                <small className=\"text-info d-block\">\r\n+                                  under {subcategory.parentName}\r\n+                                </small>\r\n+                              </div>\r\n+                            </div>\r\n+                          ))\r\n+                        ) : (\r\n+                          <div className=\"text-center py-4\">\r\n+                            <i className=\"bi bi-info-circle text-muted\" style={{ fontSize: '2rem' }}></i>\r\n+                            <p className=\"text-muted mt-2 mb-0\">No subcategories found</p>\r\n+                            <small className=\"text-muted\">This category has no subcategories</small>\r\n+                          </div>\r\n+                        )\r\n+                      ) : (\r\n+                        <div className=\"text-center py-4\">\r\n+                          <i className=\"bi bi-hand-index text-muted\" style={{ fontSize: '2rem' }}></i>\r\n+                          <p className=\"text-muted mt-2 mb-0\">Select a main category</p>\r\n+                          <small className=\"text-muted\">Click on a main category to view its subcategories</small>\r\n+                        </div>\r\n+                      )}\r\n+                    </div>\r\n+                  </div>\r\n+                </div>\r\n+              ) : (\r\n+                <div className=\"text-center py-4\">\r\n+                  <i className=\"bi bi-inbox text-muted\" style={{ fontSize: '2rem' }}></i>\r\n+                  <p className=\"text-muted mt-2 mb-0\">No categories configured</p>\r\n+                  <small className=\"text-muted\">Configure the category section to see selections here</small>\r\n+                </div>\r\n+              )}\r\n+            </div>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Summary Statistics */}\r\n+      {(mainCategories.length > 0 || subcategories.length > 0) && (\r\n+        <div className=\"row mb-3\">\r\n+          <div className=\"col-12\">\r\n+            <div className=\"d-flex justify-content-between align-items-center bg-light rounded p-3\">\r\n+              <div className=\"d-flex gap-4\">\r\n+                <div className=\"text-center\">\r\n+                  <div className=\"fw-bold text-primary fs-4\">{mainCategories.length}</div>\r\n+                  <small className=\"text-muted\">Main Categories</small>\r\n+                </div>\r\n+                <div className=\"text-center\">\r\n+                  <div className=\"fw-bold text-secondary fs-4\">{subcategories.length}</div>\r\n+                  <small className=\"text-muted\">Total Subcategories</small>\r\n+                </div>\r\n+                <div className=\"text-center\">\r\n+                  <div className=\"fw-bold text-success fs-4\">{selectedCategorySubcategories.length}</div>\r\n+                  <small className=\"text-muted\">Current Category Subs</small>\r\n+                </div>\r\n+              </div>\r\n+              <div className=\"text-end\">\r\n+                <small className=\"text-muted\">\r\n+                  <i className=\"bi bi-info-circle me-1\"></i>\r\n+                  Data from: API Database\r\n+                </small>\r\n+              </div>\r\n+            </div>\r\n+          </div>\r\n+        </div>\r\n+      )}\r\n+    </>\r\n+  );\r\n+}\r\n+    return (\r\n+      <div className=\"row mb-4\">\r\n+        <div className=\"col-12\">\r\n+          <div className=\"card border-danger\">\r\n+            <div className=\"card-header bg-danger bg-opacity-10\">\r\n+              <h6 className=\"mb-0 text-danger\">\r\n+                <i className=\"bi bi-exclamation-triangle me-2\"></i>\r\n+                Error Loading Selections\r\n+              </h6>\r\n+            </div>\r\n+            <div className=\"card-body\">\r\n+              <div className=\"text-center py-4\">\r\n+                <i className=\"bi bi-exclamation-triangle text-danger\" style={{ fontSize: '2rem' }}></i>\r\n+                <p className=\"mt-2 text-danger mb-1\">Failed to load current selections</p>\r\n+                <small className=\"text-muted\">Error: {error}</small>\r\n+                <div className=\"mt-3\">\r\n+                  <button className=\"btn btn-outline-primary btn-sm\" onClick={() => window.location.reload()}>\r\n+                    <i className=\"bi bi-arrow-clockwise me-1\"></i>\r\n+                    Retry\r\n+                  </button>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+    );\r\n+  }\r\n+\r\n+  const selectedCategorySubcategories = selectedMainCategory ? \r\n+    getSubcategoriesForCategory(selectedMainCategory) : [];\r\n+\r\n+  return (\r\n+    <>\r\n+      <div className=\"row mb-4\">\r\n+        <div className=\"col-12\">\r\n+          <div className=\"card border-success\">\r\n+            <div className=\"card-header bg-success bg-opacity-10\">\r\n+              <h6 className=\"mb-0 text-success\">\r\n+                <i className=\"bi bi-check-circle me-2\"></i>\r\n+                Current Selections\r\n+              </h6>\r\n+            </div>\r\n+            <div className=\"card-body\">\r\n+              {mainCategories.length > 0 || subcategories.length > 0 ? (\r\n+                <div className=\"row\">\r\n+                  {/* Main Categories List */}\r\n+                  <div className=\"col-md-6\">\r\n+                    <h6 className=\"text-primary mb-3\">\r\n+                      <i className=\"bi bi-grid me-1\"></i>\r\n+                      Selected Main Categories ({mainCategories.length})\r\n+                    </h6>\r\n+                    <div className=\"border rounded p-3\" style={{ maxHeight: '300px', overflowY: 'auto' }}>\r\n+                      {mainCategories.map((category) => (\r\n+                        <div\r\n+                          key={category.id}\r\n+                          className={`d-flex align-items-center p-2 rounded mb-2 cursor-pointer ${\r\n+                            selectedMainCategory === category.id \r\n+                              ? 'bg-primary bg-opacity-20 border border-primary' \r\n+                              : 'bg-light border border-light'\r\n+                          }`}\r\n+                          onClick={() => setSelectedMainCategory(category.id)}\r\n+                          style={{ cursor: 'pointer', transition: 'all 0.2s' }}\r\n+                        >\r\n+                          <img \r\n+                            src={category.image || defaultCategoryIcon}\r\n+                            alt={category.name}\r\n+                            className=\"me-3 rounded\"\r\n+                            style={{ width: '40px', height: '40px', objectFit: 'cover' }}\r\n+                            onError={(e) => {\r\n+                              e.target.src = defaultCategoryIcon;\r\n+                            }}\r\n+                          />\r\n+                          <div className=\"flex-grow-1\">\r\n+                            <div className=\"fw-medium text-dark\">{category.name}</div>\r\n+                            {category.description && (\r\n+                              <small className=\"text-muted\">{category.description}</small>\r\n+                            )}\r\n+                          </div>\r\n+                          {selectedMainCategory === category.id && (\r\n+                            <i className=\"bi bi-check-circle text-primary\"></i>\r\n+                          )}\r\n+                        </div>\r\n+                      ))}\r\n+                    </div>\r\n+                  </div>\r\n+\r\n+                  {/* Subcategories List */}\r\n+                  <div className=\"col-md-6\">\r\n+                    <h6 className=\"text-secondary mb-3\">\r\n+                      <i className=\"bi bi-tags me-1\"></i>\r\n+                      Selected Subcategories ({selectedCategorySubcategories.length})\r\n+                    </h6>\r\n+                    <div className=\"border rounded p-3\" style={{ maxHeight: '300px', overflowY: 'auto' }}>\r\n+                      {selectedMainCategory ? (\r\n+                        selectedCategorySubcategories.length > 0 ? (\r\n+                          selectedCategorySubcategories.map((subcategory) => (\r\n+                            <div\r\n+                              key={subcategory.id}\r\n+                              className=\"d-flex align-items-center p-2 rounded mb-2 bg-light border border-light\"\r\n+                            >\r\n+                              <img \r\n+                                src={subcategory.image || defaultSubcategoryIcon}\r\n+                                alt={subcategory.name}\r\n+                                className=\"me-3 rounded\"\r\n+                                style={{ width: '32px', height: '32px', objectFit: 'cover' }}\r\n+                                onError={(e) => {\r\n+                                  e.target.src = defaultSubcategoryIcon;\r\n+                                }}\r\n+                              />\r\n+                              <div className=\"flex-grow-1\">\r\n+                                <div className=\"fw-medium text-dark\">{subcategory.name}</div>\r\n+                                {subcategory.description && (\r\n+                                  <small className=\"text-muted\">{subcategory.description}</small>\r\n+                                )}\r\n+                                <small className=\"text-info d-block\">\r\n+                                  under {subcategory.parentName}\r\n+                                </small>\r\n+                              </div>\r\n+                            </div>\r\n+                          ))\r\n+                        ) : (\r\n+                          <div className=\"text-center py-4\">\r\n+                            <i className=\"bi bi-info-circle text-muted\" style={{ fontSize: '2rem' }}></i>\r\n+                            <p className=\"text-muted mt-2 mb-0\">No subcategories found</p>\r\n+                            <small className=\"text-muted\">This category has no subcategories</small>\r\n+                          </div>\r\n+                        )\r\n+                      ) : (\r\n+                        <div className=\"text-center py-4\">\r\n+                          <i className=\"bi bi-hand-index text-muted\" style={{ fontSize: '2rem' }}></i>\r\n+                          <p className=\"text-muted mt-2 mb-0\">Select a main category</p>\r\n+                          <small className=\"text-muted\">Click on a main category to view its subcategories</small>\r\n+                        </div>\r\n+                      )}\r\n+                    </div>\r\n+                  </div>\r\n+                </div>\r\n+              ) : (\r\n+                <div className=\"text-center py-4\">\r\n+                  <i className=\"bi bi-inbox text-muted\" style={{ fontSize: '2rem' }}></i>\r\n+                  <p className=\"text-muted mt-2 mb-0\">No categories configured</p>\r\n+                  <small className=\"text-muted\">Configure the category section to see selections here</small>\r\n+                </div>\r\n+              )}\r\n+            </div>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Summary Statistics */}\r\n+      {(mainCategories.length > 0 || subcategories.length > 0) && (\r\n+        <div className=\"row mb-3\">\r\n+          <div className=\"col-12\">\r\n+            <div className=\"d-flex justify-content-between align-items-center bg-light rounded p-3\">\r\n+              <div className=\"d-flex gap-4\">\r\n+                <div className=\"text-center\">\r\n+                  <div className=\"fw-bold text-primary fs-4\">{mainCategories.length}</div>\r\n+                  <small className=\"text-muted\">Main Categories</small>\r\n+                </div>\r\n+                <div className=\"text-center\">\r\n+                  <div className=\"fw-bold text-secondary fs-4\">{subcategories.length}</div>\r\n+                  <small className=\"text-muted\">Total Subcategories</small>\r\n+                </div>\r\n+                <div className=\"text-center\">\r\n+                  <div className=\"fw-bold text-success fs-4\">{selectedCategorySubcategories.length}</div>\r\n+                  <small className=\"text-muted\">Current Category Subs</small>\r\n+                </div>\r\n+              </div>\r\n+              <div className=\"text-end\">\r\n+                <small className=\"text-muted\">\r\n+                  <i className=\"bi bi-info-circle me-1\"></i>\r\n+                  Data from: API Database\r\n+                </small>\r\n+              </div>\r\n+            </div>\r\n+          </div>\r\n+        </div>\r\n+      )}\r\n+    </>\r\n+  );\r\n+}\r\n+\r\n+  return (\r\n     <div className=\"row mb-4\">\r\n       <div className=\"col-12\">\r\n         <div className=\"card border-success\">\r\n           <div className=\"card-header bg-success bg-opacity-10\">\r\n"
                },
                {
                    "date": 1753454916655,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -12,13 +12,14 @@\n     getSubcategoriesForCategory\r\n   } = useCategorySectionData(pageId, token);\r\n \r\n   // Create default category icon as data URL to avoid 404 errors\r\n-  const defaultCategoryIcon = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAzNiAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjM2IiBoZWlnaHQ9IjM2IiBmaWxsPSIjZjhmOWZhIiByeD0iNiIvPgo8Zm9sZGVyIGZpbGw9IiM5NjliYTYiLz4KPHN2ZyB4PSI2IiB5PSI4IiB3aWR0aD0iMjQiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyNCAyMCIgZmlsbD0ibm9uZSI+CjxwYXRoIGQ9Ik0yIDJoOGwyIDJoMTB2MTJIMlYyeiIgZmlsbD0iIzk2OWJhNiIvPgo8L3N2Zz4KPC9zdmc+'\r\n+  const defaultCategoryIcon = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAzNiAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjM2IiBoZWlnaHQ9IjM2IiBmaWxsPSIjZjhmOWZhIiByeD0iNiIvPgo8Zm9sZGVyIGZpbGw9IiM5NjliYTYiLz4KPHN2ZyB4PSI2IiB5PSI4IiB3aWR0aD0iMjQiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyNCAyMCIgZmlsbD0ibm9uZSI+CjxwYXRoIGQ9Ik0yIDJoOGwyIDJoMTB2MTJIMlYyeiIgZmlsbD0iIzk2OWJhNiIvPgo8L3N2Zz4KPC9zdmc+';\r\n   \r\n   // Create default subcategory icon as data URL to avoid 404 errors\r\n-  const defaultSubcategoryIcon = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAzNiAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjM2IiBoZWlnaHQ9IjM2IiBmaWxsPSIjZjhmOWZhIiByeD0iNiIvPgo8Y2lyY2xlIGN4PSIxOCIgY3k9IjE4IiByPSI4IiBmaWxsPSIjZGVlMmU2Ii8+CjxjaXJjbGUgY3g9IjE4IiBjeT0iMTgiIHI9IjMiIGZpbGw9IiM5NjliYTYiLz4KPC9zdmc+'\r\n+  const defaultSubcategoryIcon = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAzNiAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjM2IiBoZWlnaHQ9IjM2IiBmaWxsPSIjZjhmOWZhIiByeD0iNiIvPgo8Y2lyY2xlIGN4PSIxOCIgY3k9IjE4IiByPSI4IiBmaWxsPSIjZGVlMmU2Ii8+CjxjaXJjbGUgY3g9IjE4IiBjeT0iMTgiIHI9IjMiIGZpbGw9IiM5NjliYTYiLz4KPC9zdmc+';\r\n \r\n+  // Loading state\r\n   if (loading) {\r\n     return (\r\n       <div className=\"row mb-4\">\r\n         <div className=\"col-12\">\r\n@@ -42,8 +43,9 @@\n       </div>\r\n     );\r\n   }\r\n \r\n+  // Error state\r\n   if (error) {\r\n     return (\r\n       <div className=\"row mb-4\">\r\n         <div className=\"col-12\">\r\n@@ -72,11 +74,13 @@\n       </div>\r\n     );\r\n   }\r\n \r\n+  // Calculate subcategories for selected main category\r\n   const selectedCategorySubcategories = selectedMainCategory ? \r\n     getSubcategoriesForCategory(selectedMainCategory) : [];\r\n \r\n+  // Main render\r\n   return (\r\n     <>\r\n       <div className=\"row mb-4\">\r\n         <div className=\"col-12\">\r\n@@ -224,294 +228,5 @@\n         </div>\r\n       )}\r\n     </>\r\n   );\r\n-}\r\n-    return (\r\n-      <div className=\"row mb-4\">\r\n-        <div className=\"col-12\">\r\n-          <div className=\"card border-danger\">\r\n-            <div className=\"card-header bg-danger bg-opacity-10\">\r\n-              <h6 className=\"mb-0 text-danger\">\r\n-                <i className=\"bi bi-exclamation-triangle me-2\"></i>\r\n-                Error Loading Selections\r\n-              </h6>\r\n-            </div>\r\n-            <div className=\"card-body\">\r\n-              <div className=\"text-center py-4\">\r\n-                <i className=\"bi bi-exclamation-triangle text-danger\" style={{ fontSize: '2rem' }}></i>\r\n-                <p className=\"mt-2 text-danger mb-1\">Failed to load current selections</p>\r\n-                <small className=\"text-muted\">Error: {error}</small>\r\n-                <div className=\"mt-3\">\r\n-                  <button className=\"btn btn-outline-primary btn-sm\" onClick={() => window.location.reload()}>\r\n-                    <i className=\"bi bi-arrow-clockwise me-1\"></i>\r\n-                    Retry\r\n-                  </button>\r\n-                </div>\r\n-              </div>\r\n-            </div>\r\n-          </div>\r\n-        </div>\r\n-      </div>\r\n-    );\r\n-  }\r\n-\r\n-  const selectedCategorySubcategories = selectedMainCategory ? \r\n-    getSubcategoriesForCategory(selectedMainCategory) : [];\r\n-\r\n-  return (\r\n-    <>\r\n-      <div className=\"row mb-4\">\r\n-        <div className=\"col-12\">\r\n-          <div className=\"card border-success\">\r\n-            <div className=\"card-header bg-success bg-opacity-10\">\r\n-              <h6 className=\"mb-0 text-success\">\r\n-                <i className=\"bi bi-check-circle me-2\"></i>\r\n-                Current Selections\r\n-              </h6>\r\n-            </div>\r\n-            <div className=\"card-body\">\r\n-              {mainCategories.length > 0 || subcategories.length > 0 ? (\r\n-                <div className=\"row\">\r\n-                  {/* Main Categories List */}\r\n-                  <div className=\"col-md-6\">\r\n-                    <h6 className=\"text-primary mb-3\">\r\n-                      <i className=\"bi bi-grid me-1\"></i>\r\n-                      Selected Main Categories ({mainCategories.length})\r\n-                    </h6>\r\n-                    <div className=\"border rounded p-3\" style={{ maxHeight: '300px', overflowY: 'auto' }}>\r\n-                      {mainCategories.map((category) => (\r\n-                        <div\r\n-                          key={category.id}\r\n-                          className={`d-flex align-items-center p-2 rounded mb-2 cursor-pointer ${\r\n-                            selectedMainCategory === category.id \r\n-                              ? 'bg-primary bg-opacity-20 border border-primary' \r\n-                              : 'bg-light border border-light'\r\n-                          }`}\r\n-                          onClick={() => setSelectedMainCategory(category.id)}\r\n-                          style={{ cursor: 'pointer', transition: 'all 0.2s' }}\r\n-                        >\r\n-                          <img \r\n-                            src={category.image || defaultCategoryIcon}\r\n-                            alt={category.name}\r\n-                            className=\"me-3 rounded\"\r\n-                            style={{ width: '40px', height: '40px', objectFit: 'cover' }}\r\n-                            onError={(e) => {\r\n-                              e.target.src = defaultCategoryIcon;\r\n-                            }}\r\n-                          />\r\n-                          <div className=\"flex-grow-1\">\r\n-                            <div className=\"fw-medium text-dark\">{category.name}</div>\r\n-                            {category.description && (\r\n-                              <small className=\"text-muted\">{category.description}</small>\r\n-                            )}\r\n-                          </div>\r\n-                          {selectedMainCategory === category.id && (\r\n-                            <i className=\"bi bi-check-circle text-primary\"></i>\r\n-                          )}\r\n-                        </div>\r\n-                      ))}\r\n-                    </div>\r\n-                  </div>\r\n-\r\n-                  {/* Subcategories List */}\r\n-                  <div className=\"col-md-6\">\r\n-                    <h6 className=\"text-secondary mb-3\">\r\n-                      <i className=\"bi bi-tags me-1\"></i>\r\n-                      Selected Subcategories ({selectedCategorySubcategories.length})\r\n-                    </h6>\r\n-                    <div className=\"border rounded p-3\" style={{ maxHeight: '300px', overflowY: 'auto' }}>\r\n-                      {selectedMainCategory ? (\r\n-                        selectedCategorySubcategories.length > 0 ? (\r\n-                          selectedCategorySubcategories.map((subcategory) => (\r\n-                            <div\r\n-                              key={subcategory.id}\r\n-                              className=\"d-flex align-items-center p-2 rounded mb-2 bg-light border border-light\"\r\n-                            >\r\n-                              <img \r\n-                                src={subcategory.image || defaultSubcategoryIcon}\r\n-                                alt={subcategory.name}\r\n-                                className=\"me-3 rounded\"\r\n-                                style={{ width: '32px', height: '32px', objectFit: 'cover' }}\r\n-                                onError={(e) => {\r\n-                                  e.target.src = defaultSubcategoryIcon;\r\n-                                }}\r\n-                              />\r\n-                              <div className=\"flex-grow-1\">\r\n-                                <div className=\"fw-medium text-dark\">{subcategory.name}</div>\r\n-                                {subcategory.description && (\r\n-                                  <small className=\"text-muted\">{subcategory.description}</small>\r\n-                                )}\r\n-                                <small className=\"text-info d-block\">\r\n-                                  under {subcategory.parentName}\r\n-                                </small>\r\n-                              </div>\r\n-                            </div>\r\n-                          ))\r\n-                        ) : (\r\n-                          <div className=\"text-center py-4\">\r\n-                            <i className=\"bi bi-info-circle text-muted\" style={{ fontSize: '2rem' }}></i>\r\n-                            <p className=\"text-muted mt-2 mb-0\">No subcategories found</p>\r\n-                            <small className=\"text-muted\">This category has no subcategories</small>\r\n-                          </div>\r\n-                        )\r\n-                      ) : (\r\n-                        <div className=\"text-center py-4\">\r\n-                          <i className=\"bi bi-hand-index text-muted\" style={{ fontSize: '2rem' }}></i>\r\n-                          <p className=\"text-muted mt-2 mb-0\">Select a main category</p>\r\n-                          <small className=\"text-muted\">Click on a main category to view its subcategories</small>\r\n-                        </div>\r\n-                      )}\r\n-                    </div>\r\n-                  </div>\r\n-                </div>\r\n-              ) : (\r\n-                <div className=\"text-center py-4\">\r\n-                  <i className=\"bi bi-inbox text-muted\" style={{ fontSize: '2rem' }}></i>\r\n-                  <p className=\"text-muted mt-2 mb-0\">No categories configured</p>\r\n-                  <small className=\"text-muted\">Configure the category section to see selections here</small>\r\n-                </div>\r\n-              )}\r\n-            </div>\r\n-          </div>\r\n-        </div>\r\n-      </div>\r\n-\r\n-      {/* Summary Statistics */}\r\n-      {(mainCategories.length > 0 || subcategories.length > 0) && (\r\n-        <div className=\"row mb-3\">\r\n-          <div className=\"col-12\">\r\n-            <div className=\"d-flex justify-content-between align-items-center bg-light rounded p-3\">\r\n-              <div className=\"d-flex gap-4\">\r\n-                <div className=\"text-center\">\r\n-                  <div className=\"fw-bold text-primary fs-4\">{mainCategories.length}</div>\r\n-                  <small className=\"text-muted\">Main Categories</small>\r\n-                </div>\r\n-                <div className=\"text-center\">\r\n-                  <div className=\"fw-bold text-secondary fs-4\">{subcategories.length}</div>\r\n-                  <small className=\"text-muted\">Total Subcategories</small>\r\n-                </div>\r\n-                <div className=\"text-center\">\r\n-                  <div className=\"fw-bold text-success fs-4\">{selectedCategorySubcategories.length}</div>\r\n-                  <small className=\"text-muted\">Current Category Subs</small>\r\n-                </div>\r\n-              </div>\r\n-              <div className=\"text-end\">\r\n-                <small className=\"text-muted\">\r\n-                  <i className=\"bi bi-info-circle me-1\"></i>\r\n-                  Data from: API Database\r\n-                </small>\r\n-              </div>\r\n-            </div>\r\n-          </div>\r\n-        </div>\r\n-      )}\r\n-    </>\r\n-  );\r\n-}\r\n-\r\n-  return (\r\n-    <div className=\"row mb-4\">\r\n-      <div className=\"col-12\">\r\n-        <div className=\"card border-success\">\r\n-          <div className=\"card-header bg-success bg-opacity-10\">\r\n-            <h6 className=\"mb-0 text-success\">\r\n-              <i className=\"bi bi-check-circle me-2\"></i>\r\n-              Current Selections\r\n-            </h6>\r\n-          </div>\r\n-          <div className=\"card-body\">\r\n-            {categoryConfig.categoryIds.length > 0 ? (\r\n-              <div className=\"row\">\r\n-                {/* Selected Main Categories */}\r\n-                <div className=\"col-md-6\">\r\n-                  <h6 className=\"text-primary mb-3\">\r\n-                    <i className=\"bi bi-grid me-1\"></i>\r\n-                    Selected Main Categories ({categoryConfig.categoryIds.filter(id => mainCategories.some(cat => cat.id === id)).length})\r\n-                  </h6>\r\n-                  <div className=\"d-flex flex-wrap gap-2 mb-3\">\r\n-                    {categoryConfig.categoryIds\r\n-                      .filter(id => mainCategories.some(cat => cat.id === id))\r\n-                      .map(categoryId => {\r\n-                        const category = mainCategories.find(cat => cat.id === categoryId)\r\n-                        return category ? (\r\n-                          <div key={categoryId} className=\"d-flex align-items-center bg-primary bg-opacity-10 rounded px-3 py-2\">\r\n-                            <img \r\n-                              src={category.image || defaultCategoryIcon}\r\n-                              alt={category.name}\r\n-                              className=\"me-2\"\r\n-                              style={{ width: '20px', height: '20px', objectFit: 'cover' }}\r\n-                              onError={(e) => {\r\n-                                e.target.src = defaultCategoryIcon\r\n-                              }}\r\n-                            />\r\n-                            <span className=\"text-primary fw-medium\">{category.name}</span>\r\n-                          </div>\r\n-                        ) : null\r\n-                      })}\r\n-                  </div>\r\n-                  {categoryConfig.categoryIds.filter(id => mainCategories.some(cat => cat.id === id)).length === 0 && (\r\n-                    <p className=\"text-muted mb-0\">\r\n-                      <i className=\"bi bi-info-circle me-1\"></i>\r\n-                      No main categories selected\r\n-                    </p>\r\n-                  )}\r\n-                </div>\r\n-\r\n-                {/* Selected Subcategories */}\r\n-                <div className=\"col-md-6\">\r\n-                  <h6 className=\"text-secondary mb-3\">\r\n-                    <i className=\"bi bi-tags me-1\"></i>\r\n-                    Selected Subcategories ({categoryConfig.categoryIds.filter(id => subCategories.some(cat => cat.id === id)).length})\r\n-                  </h6>\r\n-                  <div className=\"d-flex flex-wrap gap-2 mb-3\">\r\n-                    {categoryConfig.categoryIds\r\n-                      .filter(id => subCategories.some(cat => cat.id === id))\r\n-                      .map(subcategoryId => {\r\n-                        const subcategory = subCategories.find(cat => cat.id === subcategoryId)\r\n-                        const parentCategory = mainCategories.find(cat => cat.id === (subcategory?.parent?._id || subcategory?.parent))\r\n-                        return subcategory ? (\r\n-                          <div key={subcategoryId} className=\"d-flex align-items-center bg-secondary bg-opacity-10 rounded px-3 py-2\">\r\n-                            <img \r\n-                              src={subcategory.image || defaultSubcategoryIcon}\r\n-                              alt={subcategory.name}\r\n-                              className=\"me-2\"\r\n-                              style={{ width: '18px', height: '18px', objectFit: 'cover' }}\r\n-                              onError={(e) => {\r\n-                                e.target.src = defaultSubcategoryIcon\r\n-                              }}\r\n-                            />\r\n-                            <div className=\"d-flex flex-column\">\r\n-                              <span className=\"text-secondary fw-medium\" style={{ fontSize: '0.875rem' }}>\r\n-                                {subcategory.name}\r\n-                              </span>\r\n-                              {parentCategory && (\r\n-                                <small className=\"text-muted\" style={{ fontSize: '0.75rem' }}>\r\n-                                  under {parentCategory.name}\r\n-                                </small>\r\n-                              )}\r\n-                            </div>\r\n-                          </div>\r\n-                        ) : null\r\n-                      })}\r\n-                  </div>\r\n-                  {categoryConfig.categoryIds.filter(id => subCategories.some(cat => cat.id === id)).length === 0 && (\r\n-                    <p className=\"text-muted mb-0\">\r\n-                      <i className=\"bi bi-info-circle me-1\"></i>\r\n-                      No subcategories selected\r\n-                    </p>\r\n-                  )}\r\n-                </div>\r\n-              </div>\r\n-            ) : (\r\n-              <div className=\"text-center py-4\">\r\n-                <i className=\"bi bi-inbox text-muted\" style={{ fontSize: '2rem' }}></i>\r\n-                <p className=\"text-muted mt-2 mb-0\">No categories selected yet</p>\r\n-                <small className=\"text-muted\">Select categories from the interface below to see them here</small>\r\n-              </div>\r\n-            )}\r\n-          </div>\r\n-        </div>\r\n-      </div>\r\n-    </div>\r\n-  )\r\n-}\r\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1753455114097,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,15 @@\n import React from 'react';\r\n import useCategorySectionData from '@/hooks/useCategorySectionData';\r\n \r\n export default function CurrentSelections({ pageId, token }) {\r\n+  // Add debugging logs\r\n+  console.log('🔍 [CurrentSelections] Props received:', { \r\n+    pageId, \r\n+    token: token ? `${token.substring(0, 20)}...` : 'null',\r\n+    tokenExists: !!token \r\n+  });\r\n+\r\n   const {\r\n     mainCategories,\r\n     subcategories,\r\n     loading,\r\n@@ -11,8 +18,17 @@\n     setSelectedMainCategory,\r\n     getSubcategoriesForCategory\r\n   } = useCategorySectionData(pageId, token);\r\n \r\n+  // Add more debugging\r\n+  console.log('🔍 [CurrentSelections] Hook data:', {\r\n+    mainCategoriesCount: mainCategories?.length || 0,\r\n+    subcategoriesCount: subcategories?.length || 0,\r\n+    loading,\r\n+    error,\r\n+    selectedMainCategory\r\n+  });\r\n+\r\n   // Create default category icon as data URL to avoid 404 errors\r\n   const defaultCategoryIcon = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAzNiAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjM2IiBoZWlnaHQ9IjM2IiBmaWxsPSIjZjhmOWZhIiByeD0iNiIvPgo8Zm9sZGVyIGZpbGw9IiM5NjliYTYiLz4KPHN2ZyB4PSI2IiB5PSI4IiB3aWR0aD0iMjQiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyNCAyMCIgZmlsbD0ibm9uZSI+CjxwYXRoIGQ9Ik0yIDJoOGwyIDJoMTB2MTJIMlYyeiIgZmlsbD0iIzk2OWJhNiIvPgo8L3N2Zz4KPC9zdmc+';\r\n   \r\n   // Create default subcategory icon as data URL to avoid 404 errors\r\n@@ -35,8 +51,9 @@\n                 <div className=\"spinner-border text-primary\" role=\"status\">\r\n                   <span className=\"visually-hidden\">Loading...</span>\r\n                 </div>\r\n                 <p className=\"mt-2 text-muted\">Loading current selections...</p>\r\n+                <small className=\"text-muted\">PageId: {pageId} | Token: {token ? 'Available' : 'Missing'}</small>\r\n               </div>\r\n             </div>\r\n           </div>\r\n         </div>\r\n@@ -60,8 +77,12 @@\n               <div className=\"text-center py-4\">\r\n                 <i className=\"bi bi-exclamation-triangle text-danger\" style={{ fontSize: '2rem' }}></i>\r\n                 <p className=\"mt-2 text-danger mb-1\">Failed to load current selections</p>\r\n                 <small className=\"text-muted\">Error: {error}</small>\r\n+                <div className=\"mt-2\">\r\n+                  <small className=\"text-muted d-block\">PageId: {pageId}</small>\r\n+                  <small className=\"text-muted d-block\">Token: {token ? 'Available' : 'Missing'}</small>\r\n+                </div>\r\n                 <div className=\"mt-3\">\r\n                   <button className=\"btn btn-outline-primary btn-sm\" onClick={() => window.location.reload()}>\r\n                     <i className=\"bi bi-arrow-clockwise me-1\"></i>\r\n                     Retry\r\n@@ -81,8 +102,22 @@\n \r\n   // Main render\r\n   return (\r\n     <>\r\n+      {/* Debug info in development */}\r\n+      {process.env.NODE_ENV === 'development' && (\r\n+        <div className=\"row mb-2\">\r\n+          <div className=\"col-12\">\r\n+            <div className=\"alert alert-info py-2\">\r\n+              <small>\r\n+                <strong>Debug:</strong> PageId: {pageId} | Token: {token ? 'Available' : 'Missing'} | \r\n+                Categories: {mainCategories.length} | Subcategories: {subcategories.length}\r\n+              </small>\r\n+            </div>\r\n+          </div>\r\n+        </div>\r\n+      )}\r\n+\r\n       <div className=\"row mb-4\">\r\n         <div className=\"col-12\">\r\n           <div className=\"card border-success\">\r\n             <div className=\"card-header bg-success bg-opacity-10\">\r\n@@ -190,8 +225,11 @@\n                 <div className=\"text-center py-4\">\r\n                   <i className=\"bi bi-inbox text-muted\" style={{ fontSize: '2rem' }}></i>\r\n                   <p className=\"text-muted mt-2 mb-0\">No categories configured</p>\r\n                   <small className=\"text-muted\">Configure the category section to see selections here</small>\r\n+                  <div className=\"mt-2\">\r\n+                    <small className=\"text-muted\">PageId: {pageId} | Token: {token ? 'Available' : 'Missing'}</small>\r\n+                  </div>\r\n                 </div>\r\n               )}\r\n             </div>\r\n           </div>\r\n@@ -219,9 +257,9 @@\n               </div>\r\n               <div className=\"text-end\">\r\n                 <small className=\"text-muted\">\r\n                   <i className=\"bi bi-info-circle me-1\"></i>\r\n-                  Data from: API Database\r\n+                  Data from: Mock Data (Dev Mode)\r\n                 </small>\r\n               </div>\r\n             </div>\r\n           </div>\r\n"
                },
                {
                    "date": 1753457629550,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,270 +0,0 @@\n-import React from 'react';\r\n-import useCategorySectionData from '@/hooks/useCategorySectionData';\r\n-\r\n-export default function CurrentSelections({ pageId, token }) {\r\n-  // Add debugging logs\r\n-  console.log('🔍 [CurrentSelections] Props received:', { \r\n-    pageId, \r\n-    token: token ? `${token.substring(0, 20)}...` : 'null',\r\n-    tokenExists: !!token \r\n-  });\r\n-\r\n-  const {\r\n-    mainCategories,\r\n-    subcategories,\r\n-    loading,\r\n-    error,\r\n-    selectedMainCategory,\r\n-    setSelectedMainCategory,\r\n-    getSubcategoriesForCategory\r\n-  } = useCategorySectionData(pageId, token);\r\n-\r\n-  // Add more debugging\r\n-  console.log('🔍 [CurrentSelections] Hook data:', {\r\n-    mainCategoriesCount: mainCategories?.length || 0,\r\n-    subcategoriesCount: subcategories?.length || 0,\r\n-    loading,\r\n-    error,\r\n-    selectedMainCategory\r\n-  });\r\n-\r\n-  // Create default category icon as data URL to avoid 404 errors\r\n-  const defaultCategoryIcon = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAzNiAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjM2IiBoZWlnaHQ9IjM2IiBmaWxsPSIjZjhmOWZhIiByeD0iNiIvPgo8Zm9sZGVyIGZpbGw9IiM5NjliYTYiLz4KPHN2ZyB4PSI2IiB5PSI4IiB3aWR0aD0iMjQiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyNCAyMCIgZmlsbD0ibm9uZSI+CjxwYXRoIGQ9Ik0yIDJoOGwyIDJoMTB2MTJIMlYyeiIgZmlsbD0iIzk2OWJhNiIvPgo8L3N2Zz4KPC9zdmc+';\r\n-  \r\n-  // Create default subcategory icon as data URL to avoid 404 errors\r\n-  const defaultSubcategoryIcon = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAzNiAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjM2IiBoZWlnaHQ9IjM2IiBmaWxsPSIjZjhmOWZhIiByeD0iNiIvPgo8Y2lyY2xlIGN4PSIxOCIgY3k9IjE4IiByPSI4IiBmaWxsPSIjZGVlMmU2Ii8+CjxjaXJjbGUgY3g9IjE4IiBjeT0iMTgiIHI9IjMiIGZpbGw9IiM5NjliYTYiLz4KPC9zdmc+';\r\n-\r\n-  // Loading state\r\n-  if (loading) {\r\n-    return (\r\n-      <div className=\"row mb-4\">\r\n-        <div className=\"col-12\">\r\n-          <div className=\"card border-success\">\r\n-            <div className=\"card-header bg-success bg-opacity-10\">\r\n-              <h6 className=\"mb-0 text-success\">\r\n-                <i className=\"bi bi-check-circle me-2\"></i>\r\n-                Current Selections\r\n-              </h6>\r\n-            </div>\r\n-            <div className=\"card-body\">\r\n-              <div className=\"text-center py-4\">\r\n-                <div className=\"spinner-border text-primary\" role=\"status\">\r\n-                  <span className=\"visually-hidden\">Loading...</span>\r\n-                </div>\r\n-                <p className=\"mt-2 text-muted\">Loading current selections...</p>\r\n-                <small className=\"text-muted\">PageId: {pageId} | Token: {token ? 'Available' : 'Missing'}</small>\r\n-              </div>\r\n-            </div>\r\n-          </div>\r\n-        </div>\r\n-      </div>\r\n-    );\r\n-  }\r\n-\r\n-  // Error state\r\n-  if (error) {\r\n-    return (\r\n-      <div className=\"row mb-4\">\r\n-        <div className=\"col-12\">\r\n-          <div className=\"card border-danger\">\r\n-            <div className=\"card-header bg-danger bg-opacity-10\">\r\n-              <h6 className=\"mb-0 text-danger\">\r\n-                <i className=\"bi bi-exclamation-triangle me-2\"></i>\r\n-                Error Loading Selections\r\n-              </h6>\r\n-            </div>\r\n-            <div className=\"card-body\">\r\n-              <div className=\"text-center py-4\">\r\n-                <i className=\"bi bi-exclamation-triangle text-danger\" style={{ fontSize: '2rem' }}></i>\r\n-                <p className=\"mt-2 text-danger mb-1\">Failed to load current selections</p>\r\n-                <small className=\"text-muted\">Error: {error}</small>\r\n-                <div className=\"mt-2\">\r\n-                  <small className=\"text-muted d-block\">PageId: {pageId}</small>\r\n-                  <small className=\"text-muted d-block\">Token: {token ? 'Available' : 'Missing'}</small>\r\n-                </div>\r\n-                <div className=\"mt-3\">\r\n-                  <button className=\"btn btn-outline-primary btn-sm\" onClick={() => window.location.reload()}>\r\n-                    <i className=\"bi bi-arrow-clockwise me-1\"></i>\r\n-                    Retry\r\n-                  </button>\r\n-                </div>\r\n-              </div>\r\n-            </div>\r\n-          </div>\r\n-        </div>\r\n-      </div>\r\n-    );\r\n-  }\r\n-\r\n-  // Calculate subcategories for selected main category\r\n-  const selectedCategorySubcategories = selectedMainCategory ? \r\n-    getSubcategoriesForCategory(selectedMainCategory) : [];\r\n-\r\n-  // Main render\r\n-  return (\r\n-    <>\r\n-      {/* Debug info in development */}\r\n-      {process.env.NODE_ENV === 'development' && (\r\n-        <div className=\"row mb-2\">\r\n-          <div className=\"col-12\">\r\n-            <div className=\"alert alert-info py-2\">\r\n-              <small>\r\n-                <strong>Debug:</strong> PageId: {pageId} | Token: {token ? 'Available' : 'Missing'} | \r\n-                Categories: {mainCategories.length} | Subcategories: {subcategories.length}\r\n-              </small>\r\n-            </div>\r\n-          </div>\r\n-        </div>\r\n-      )}\r\n-\r\n-      <div className=\"row mb-4\">\r\n-        <div className=\"col-12\">\r\n-          <div className=\"card border-success\">\r\n-            <div className=\"card-header bg-success bg-opacity-10\">\r\n-              <h6 className=\"mb-0 text-success\">\r\n-                <i className=\"bi bi-check-circle me-2\"></i>\r\n-                Current Selections\r\n-              </h6>\r\n-            </div>\r\n-            <div className=\"card-body\">\r\n-              {mainCategories.length > 0 || subcategories.length > 0 ? (\r\n-                <div className=\"row\">\r\n-                  {/* Main Categories List */}\r\n-                  <div className=\"col-md-6\">\r\n-                    <h6 className=\"text-primary mb-3\">\r\n-                      <i className=\"bi bi-grid me-1\"></i>\r\n-                      Selected Main Categories ({mainCategories.length})\r\n-                    </h6>\r\n-                    <div className=\"border rounded p-3\" style={{ maxHeight: '300px', overflowY: 'auto' }}>\r\n-                      {mainCategories.map((category) => (\r\n-                        <div\r\n-                          key={category.id}\r\n-                          className={`d-flex align-items-center p-2 rounded mb-2 cursor-pointer ${\r\n-                            selectedMainCategory === category.id \r\n-                              ? 'bg-primary bg-opacity-20 border border-primary' \r\n-                              : 'bg-light border border-light'\r\n-                          }`}\r\n-                          onClick={() => setSelectedMainCategory(category.id)}\r\n-                          style={{ cursor: 'pointer', transition: 'all 0.2s' }}\r\n-                        >\r\n-                          <img \r\n-                            src={category.image || defaultCategoryIcon}\r\n-                            alt={category.name}\r\n-                            className=\"me-3 rounded\"\r\n-                            style={{ width: '40px', height: '40px', objectFit: 'cover' }}\r\n-                            onError={(e) => {\r\n-                              e.target.src = defaultCategoryIcon;\r\n-                            }}\r\n-                          />\r\n-                          <div className=\"flex-grow-1\">\r\n-                            <div className=\"fw-medium text-dark\">{category.name}</div>\r\n-                            {category.description && (\r\n-                              <small className=\"text-muted\">{category.description}</small>\r\n-                            )}\r\n-                          </div>\r\n-                          {selectedMainCategory === category.id && (\r\n-                            <i className=\"bi bi-check-circle text-primary\"></i>\r\n-                          )}\r\n-                        </div>\r\n-                      ))}\r\n-                    </div>\r\n-                  </div>\r\n-\r\n-                  {/* Subcategories List */}\r\n-                  <div className=\"col-md-6\">\r\n-                    <h6 className=\"text-secondary mb-3\">\r\n-                      <i className=\"bi bi-tags me-1\"></i>\r\n-                      Selected Subcategories ({selectedCategorySubcategories.length})\r\n-                    </h6>\r\n-                    <div className=\"border rounded p-3\" style={{ maxHeight: '300px', overflowY: 'auto' }}>\r\n-                      {selectedMainCategory ? (\r\n-                        selectedCategorySubcategories.length > 0 ? (\r\n-                          selectedCategorySubcategories.map((subcategory) => (\r\n-                            <div\r\n-                              key={subcategory.id}\r\n-                              className=\"d-flex align-items-center p-2 rounded mb-2 bg-light border border-light\"\r\n-                            >\r\n-                              <img \r\n-                                src={subcategory.image || defaultSubcategoryIcon}\r\n-                                alt={subcategory.name}\r\n-                                className=\"me-3 rounded\"\r\n-                                style={{ width: '32px', height: '32px', objectFit: 'cover' }}\r\n-                                onError={(e) => {\r\n-                                  e.target.src = defaultSubcategoryIcon;\r\n-                                }}\r\n-                              />\r\n-                              <div className=\"flex-grow-1\">\r\n-                                <div className=\"fw-medium text-dark\">{subcategory.name}</div>\r\n-                                {subcategory.description && (\r\n-                                  <small className=\"text-muted\">{subcategory.description}</small>\r\n-                                )}\r\n-                                <small className=\"text-info d-block\">\r\n-                                  under {subcategory.parentName}\r\n-                                </small>\r\n-                              </div>\r\n-                            </div>\r\n-                          ))\r\n-                        ) : (\r\n-                          <div className=\"text-center py-4\">\r\n-                            <i className=\"bi bi-info-circle text-muted\" style={{ fontSize: '2rem' }}></i>\r\n-                            <p className=\"text-muted mt-2 mb-0\">No subcategories found</p>\r\n-                            <small className=\"text-muted\">This category has no subcategories</small>\r\n-                          </div>\r\n-                        )\r\n-                      ) : (\r\n-                        <div className=\"text-center py-4\">\r\n-                          <i className=\"bi bi-hand-index text-muted\" style={{ fontSize: '2rem' }}></i>\r\n-                          <p className=\"text-muted mt-2 mb-0\">Select a main category</p>\r\n-                          <small className=\"text-muted\">Click on a main category to view its subcategories</small>\r\n-                        </div>\r\n-                      )}\r\n-                    </div>\r\n-                  </div>\r\n-                </div>\r\n-              ) : (\r\n-                <div className=\"text-center py-4\">\r\n-                  <i className=\"bi bi-inbox text-muted\" style={{ fontSize: '2rem' }}></i>\r\n-                  <p className=\"text-muted mt-2 mb-0\">No categories configured</p>\r\n-                  <small className=\"text-muted\">Configure the category section to see selections here</small>\r\n-                  <div className=\"mt-2\">\r\n-                    <small className=\"text-muted\">PageId: {pageId} | Token: {token ? 'Available' : 'Missing'}</small>\r\n-                  </div>\r\n-                </div>\r\n-              )}\r\n-            </div>\r\n-          </div>\r\n-        </div>\r\n-      </div>\r\n-\r\n-      {/* Summary Statistics */}\r\n-      {(mainCategories.length > 0 || subcategories.length > 0) && (\r\n-        <div className=\"row mb-3\">\r\n-          <div className=\"col-12\">\r\n-            <div className=\"d-flex justify-content-between align-items-center bg-light rounded p-3\">\r\n-              <div className=\"d-flex gap-4\">\r\n-                <div className=\"text-center\">\r\n-                  <div className=\"fw-bold text-primary fs-4\">{mainCategories.length}</div>\r\n-                  <small className=\"text-muted\">Main Categories</small>\r\n-                </div>\r\n-                <div className=\"text-center\">\r\n-                  <div className=\"fw-bold text-secondary fs-4\">{subcategories.length}</div>\r\n-                  <small className=\"text-muted\">Total Subcategories</small>\r\n-                </div>\r\n-                <div className=\"text-center\">\r\n-                  <div className=\"fw-bold text-success fs-4\">{selectedCategorySubcategories.length}</div>\r\n-                  <small className=\"text-muted\">Current Category Subs</small>\r\n-                </div>\r\n-              </div>\r\n-              <div className=\"text-end\">\r\n-                <small className=\"text-muted\">\r\n-                  <i className=\"bi bi-info-circle me-1\"></i>\r\n-                  Data from: Mock Data (Dev Mode)\r\n-                </small>\r\n-              </div>\r\n-            </div>\r\n-          </div>\r\n-        </div>\r\n-      )}\r\n-    </>\r\n-  );\r\n-}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1753457644317,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,270 @@\n+import React from 'react';\r\n+import useCategorySectionData from '@/hooks/useCategorySectionData';\r\n+\r\n+export default function CurrentSelections({ pageId, token }) {\r\n+  // Add debugging logs\r\n+  console.log('🔍 [CurrentSelections] Props received:', { \r\n+    pageId, \r\n+    token: token ? `${token.substring(0, 20)}...` : 'null',\r\n+    tokenExists: !!token \r\n+  });\r\n+\r\n+  const {\r\n+    mainCategories,\r\n+    subcategories,\r\n+    loading,\r\n+    error,\r\n+    selectedMainCategory,\r\n+    setSelectedMainCategory,\r\n+    getSubcategoriesForCategory\r\n+  } = useCategorySectionData(pageId, token);\r\n+\r\n+  // Add more debugging\r\n+  console.log('🔍 [CurrentSelections] Hook data:', {\r\n+    mainCategoriesCount: mainCategories?.length || 0,\r\n+    subcategoriesCount: subcategories?.length || 0,\r\n+    loading,\r\n+    error,\r\n+    selectedMainCategory\r\n+  });\r\n+\r\n+  // Create default category icon as data URL to avoid 404 errors\r\n+  const defaultCategoryIcon = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAzNiAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjM2IiBoZWlnaHQ9IjM2IiBmaWxsPSIjZjhmOWZhIiByeD0iNiIvPgo8Zm9sZGVyIGZpbGw9IiM5NjliYTYiLz4KPHN2ZyB4PSI2IiB5PSI4IiB3aWR0aD0iMjQiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyNCAyMCIgZmlsbD0ibm9uZSI+CjxwYXRoIGQ9Ik0yIDJoOGwyIDJoMTB2MTJIMlYyeiIgZmlsbD0iIzk2OWJhNiIvPgo8L3N2Zz4KPC9zdmc+';\r\n+  \r\n+  // Create default subcategory icon as data URL to avoid 404 errors\r\n+  const defaultSubcategoryIcon = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAzNiAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjM2IiBoZWlnaHQ9IjM2IiBmaWxsPSIjZjhmOWZhIiByeD0iNiIvPgo8Y2lyY2xlIGN4PSIxOCIgY3k9IjE4IiByPSI4IiBmaWxsPSIjZGVlMmU2Ii8+CjxjaXJjbGUgY3g9IjE4IiBjeT0iMTgiIHI9IjMiIGZpbGw9IiM5NjliYTYiLz4KPC9zdmc+';\r\n+\r\n+  // Loading state\r\n+  if (loading) {\r\n+    return (\r\n+      <div className=\"row mb-4\">\r\n+        <div className=\"col-12\">\r\n+          <div className=\"card border-success\">\r\n+            <div className=\"card-header bg-success bg-opacity-10\">\r\n+              <h6 className=\"mb-0 text-success\">\r\n+                <i className=\"bi bi-check-circle me-2\"></i>\r\n+                Current Selections\r\n+              </h6>\r\n+            </div>\r\n+            <div className=\"card-body\">\r\n+              <div className=\"text-center py-4\">\r\n+                <div className=\"spinner-border text-primary\" role=\"status\">\r\n+                  <span className=\"visually-hidden\">Loading...</span>\r\n+                </div>\r\n+                <p className=\"mt-2 text-muted\">Loading current selections...</p>\r\n+                <small className=\"text-muted\">PageId: {pageId} | Token: {token ? 'Available' : 'Missing'}</small>\r\n+              </div>\r\n+            </div>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+    );\r\n+  }\r\n+\r\n+  // Error state\r\n+  if (error) {\r\n+    return (\r\n+      <div className=\"row mb-4\">\r\n+        <div className=\"col-12\">\r\n+          <div className=\"card border-danger\">\r\n+            <div className=\"card-header bg-danger bg-opacity-10\">\r\n+              <h6 className=\"mb-0 text-danger\">\r\n+                <i className=\"bi bi-exclamation-triangle me-2\"></i>\r\n+                Error Loading Selections\r\n+              </h6>\r\n+            </div>\r\n+            <div className=\"card-body\">\r\n+              <div className=\"text-center py-4\">\r\n+                <i className=\"bi bi-exclamation-triangle text-danger\" style={{ fontSize: '2rem' }}></i>\r\n+                <p className=\"mt-2 text-danger mb-1\">Failed to load current selections</p>\r\n+                <small className=\"text-muted\">Error: {error}</small>\r\n+                <div className=\"mt-2\">\r\n+                  <small className=\"text-muted d-block\">PageId: {pageId}</small>\r\n+                  <small className=\"text-muted d-block\">Token: {token ? 'Available' : 'Missing'}</small>\r\n+                </div>\r\n+                <div className=\"mt-3\">\r\n+                  <button className=\"btn btn-outline-primary btn-sm\" onClick={() => window.location.reload()}>\r\n+                    <i className=\"bi bi-arrow-clockwise me-1\"></i>\r\n+                    Retry\r\n+                  </button>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+    );\r\n+  }\r\n+\r\n+  // Calculate subcategories for selected main category\r\n+  const selectedCategorySubcategories = selectedMainCategory ? \r\n+    getSubcategoriesForCategory(selectedMainCategory) : [];\r\n+\r\n+  // Main render\r\n+  return (\r\n+    <>\r\n+      {/* Debug info in development */}\r\n+      {process.env.NODE_ENV === 'development' && (\r\n+        <div className=\"row mb-2\">\r\n+          <div className=\"col-12\">\r\n+            <div className=\"alert alert-info py-2\">\r\n+              <small>\r\n+                <strong>Debug:</strong> PageId: {pageId} | Token: {token ? 'Available' : 'Missing'} | \r\n+                Categories: {mainCategories.length} | Subcategories: {subcategories.length}\r\n+              </small>\r\n+            </div>\r\n+          </div>\r\n+        </div>\r\n+      )}\r\n+\r\n+      <div className=\"row mb-4\">\r\n+        <div className=\"col-12\">\r\n+          <div className=\"card border-success\">\r\n+            <div className=\"card-header bg-success bg-opacity-10\">\r\n+              <h6 className=\"mb-0 text-success\">\r\n+                <i className=\"bi bi-check-circle me-2\"></i>\r\n+                Current Selections\r\n+              </h6>\r\n+            </div>\r\n+            <div className=\"card-body\">\r\n+              {mainCategories.length > 0 || subcategories.length > 0 ? (\r\n+                <div className=\"row\">\r\n+                  {/* Main Categories List */}\r\n+                  <div className=\"col-md-6\">\r\n+                    <h6 className=\"text-primary mb-3\">\r\n+                      <i className=\"bi bi-grid me-1\"></i>\r\n+                      Selected Main Categories ({mainCategories.length})\r\n+                    </h6>\r\n+                    <div className=\"border rounded p-3\" style={{ maxHeight: '300px', overflowY: 'auto' }}>\r\n+                      {mainCategories.map((category) => (\r\n+                        <div\r\n+                          key={category.id}\r\n+                          className={`d-flex align-items-center p-2 rounded mb-2 cursor-pointer ${\r\n+                            selectedMainCategory === category.id \r\n+                              ? 'bg-primary bg-opacity-20 border border-primary' \r\n+                              : 'bg-light border border-light'\r\n+                          }`}\r\n+                          onClick={() => setSelectedMainCategory(category.id)}\r\n+                          style={{ cursor: 'pointer', transition: 'all 0.2s' }}\r\n+                        >\r\n+                          <img \r\n+                            src={category.image || defaultCategoryIcon}\r\n+                            alt={category.name}\r\n+                            className=\"me-3 rounded\"\r\n+                            style={{ width: '40px', height: '40px', objectFit: 'cover' }}\r\n+                            onError={(e) => {\r\n+                              e.target.src = defaultCategoryIcon;\r\n+                            }}\r\n+                          />\r\n+                          <div className=\"flex-grow-1\">\r\n+                            <div className=\"fw-medium text-dark\">{category.name}</div>\r\n+                            {category.description && (\r\n+                              <small className=\"text-muted\">{category.description}</small>\r\n+                            )}\r\n+                          </div>\r\n+                          {selectedMainCategory === category.id && (\r\n+                            <i className=\"bi bi-check-circle text-primary\"></i>\r\n+                          )}\r\n+                        </div>\r\n+                      ))}\r\n+                    </div>\r\n+                  </div>\r\n+\r\n+                  {/* Subcategories List */}\r\n+                  <div className=\"col-md-6\">\r\n+                    <h6 className=\"text-secondary mb-3\">\r\n+                      <i className=\"bi bi-tags me-1\"></i>\r\n+                      Selected Subcategories ({selectedCategorySubcategories.length})\r\n+                    </h6>\r\n+                    <div className=\"border rounded p-3\" style={{ maxHeight: '300px', overflowY: 'auto' }}>\r\n+                      {selectedMainCategory ? (\r\n+                        selectedCategorySubcategories.length > 0 ? (\r\n+                          selectedCategorySubcategories.map((subcategory) => (\r\n+                            <div\r\n+                              key={subcategory.id}\r\n+                              className=\"d-flex align-items-center p-2 rounded mb-2 bg-light border border-light\"\r\n+                            >\r\n+                              <img \r\n+                                src={subcategory.image || defaultSubcategoryIcon}\r\n+                                alt={subcategory.name}\r\n+                                className=\"me-3 rounded\"\r\n+                                style={{ width: '32px', height: '32px', objectFit: 'cover' }}\r\n+                                onError={(e) => {\r\n+                                  e.target.src = defaultSubcategoryIcon;\r\n+                                }}\r\n+                              />\r\n+                              <div className=\"flex-grow-1\">\r\n+                                <div className=\"fw-medium text-dark\">{subcategory.name}</div>\r\n+                                {subcategory.description && (\r\n+                                  <small className=\"text-muted\">{subcategory.description}</small>\r\n+                                )}\r\n+                                <small className=\"text-info d-block\">\r\n+                                  under {subcategory.parentName}\r\n+                                </small>\r\n+                              </div>\r\n+                            </div>\r\n+                          ))\r\n+                        ) : (\r\n+                          <div className=\"text-center py-4\">\r\n+                            <i className=\"bi bi-info-circle text-muted\" style={{ fontSize: '2rem' }}></i>\r\n+                            <p className=\"text-muted mt-2 mb-0\">No subcategories found</p>\r\n+                            <small className=\"text-muted\">This category has no subcategories</small>\r\n+                          </div>\r\n+                        )\r\n+                      ) : (\r\n+                        <div className=\"text-center py-4\">\r\n+                          <i className=\"bi bi-hand-index text-muted\" style={{ fontSize: '2rem' }}></i>\r\n+                          <p className=\"text-muted mt-2 mb-0\">Select a main category</p>\r\n+                          <small className=\"text-muted\">Click on a main category to view its subcategories</small>\r\n+                        </div>\r\n+                      )}\r\n+                    </div>\r\n+                  </div>\r\n+                </div>\r\n+              ) : (\r\n+                <div className=\"text-center py-4\">\r\n+                  <i className=\"bi bi-inbox text-muted\" style={{ fontSize: '2rem' }}></i>\r\n+                  <p className=\"text-muted mt-2 mb-0\">No categories configured</p>\r\n+                  <small className=\"text-muted\">Configure the category section to see selections here</small>\r\n+                  <div className=\"mt-2\">\r\n+                    <small className=\"text-muted\">PageId: {pageId} | Token: {token ? 'Available' : 'Missing'}</small>\r\n+                  </div>\r\n+                </div>\r\n+              )}\r\n+            </div>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Summary Statistics */}\r\n+      {(mainCategories.length > 0 || subcategories.length > 0) && (\r\n+        <div className=\"row mb-3\">\r\n+          <div className=\"col-12\">\r\n+            <div className=\"d-flex justify-content-between align-items-center bg-light rounded p-3\">\r\n+              <div className=\"d-flex gap-4\">\r\n+                <div className=\"text-center\">\r\n+                  <div className=\"fw-bold text-primary fs-4\">{mainCategories.length}</div>\r\n+                  <small className=\"text-muted\">Main Categories</small>\r\n+                </div>\r\n+                <div className=\"text-center\">\r\n+                  <div className=\"fw-bold text-secondary fs-4\">{subcategories.length}</div>\r\n+                  <small className=\"text-muted\">Total Subcategories</small>\r\n+                </div>\r\n+                <div className=\"text-center\">\r\n+                  <div className=\"fw-bold text-success fs-4\">{selectedCategorySubcategories.length}</div>\r\n+                  <small className=\"text-muted\">Current Category Subs</small>\r\n+                </div>\r\n+              </div>\r\n+              <div className=\"text-end\">\r\n+                <small className=\"text-muted\">\r\n+                  <i className=\"bi bi-info-circle me-1\"></i>\r\n+                  Data from: Mock Data (Dev Mode)\r\n+                </small>\r\n+              </div>\r\n+            </div>\r\n+          </div>\r\n+        </div>\r\n+      )}\r\n+    </>\r\n+  );\r\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1753459388707,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,456 @@\n-import React from 'react';\r\n-import useCategorySectionData from '@/hooks/useCategorySectionData';\r\n+import React, { useState } from 'react';\r\n \r\n export default function CurrentSelections({ pageId, token }) {\r\n+  // Mock data for CurrentSelections (completely separate from CategorySelector)\r\n+  const mockMainCategories = [\r\n+    {\r\n+      id: '687fbada33f196eb765aecd2',\r\n+      name: 'Fashion & Clothing',\r\n+      description: 'Trendy clothing and fashion accessories for all occasions',\r\n+      image: null,\r\n+      status: true\r\n+    },\r\n+    {\r\n+      id: '687fbaed33f196eb765aecd5',\r\n+      name: 'Electronics',\r\n+      description: 'Latest gadgets and electronic devices',\r\n+      image: null,\r\n+      status: true\r\n+    },\r\n+    {\r\n+      id: '687fbaf333f196eb765aecd8', \r\n+      name: 'Home & Living',\r\n+      description: 'Home decor, furniture, and living essentials',\r\n+      image: null,\r\n+      status: true\r\n+    },\r\n+    {\r\n+      id: '687fbafa33f196eb765aecdb',\r\n+      name: 'Health & Beauty',\r\n+      description: 'Beauty products, skincare, and health supplements',\r\n+      image: null,\r\n+      status: false\r\n+    },\r\n+    {\r\n+      id: '687fbb0633f196eb765aece1',\r\n+      name: 'Sports & Outdoor',\r\n+      description: 'Sports equipment, outdoor gear, and fitness products',\r\n+      image: null,\r\n+      status: true\r\n+    },\r\n+    {\r\n+      id: '687fbb0b33f196eb765aece4',\r\n+      name: 'Books & Media',\r\n+      description: 'Books, digital media, and educational content',\r\n+      image: null,\r\n+      status: false\r\n+    }\r\n+  ];\r\n+\r\n+  const mockSubcategories = [\r\n+    // Fashion & Clothing subcategories\r\n+    {\r\n+      id: '687fbc8d33f196eb765aecf1',\r\n+      name: 'Men\\'s Clothing',\r\n+      description: 'Shirts, pants, suits, and men\\'s fashion wear',\r\n+      parent: '687fbada33f196eb765aecd2',\r\n+      image: null,\r\n+      status: true\r\n+    },\r\n+    {\r\n+      id: '687fbc9333f196eb765aecf6', \r\n+      name: 'Women\\'s Clothing',\r\n+      description: 'Dresses, tops, skirts, and women\\'s fashion wear',\r\n+      parent: '687fbada33f196eb765aecd2',\r\n+      image: null,\r\n+      status: true\r\n+    },\r\n+    {\r\n+      id: '687fbc9a33f196eb765aecfb',\r\n+      name: 'Shoes & Footwear',\r\n+      description: 'Casual shoes, formal shoes, sneakers, and sandals',\r\n+      parent: '687fbada33f196eb765aecd2',\r\n+      image: null,\r\n+      status: true\r\n+    },\r\n+    {\r\n+      id: '687fbca033f196eb765aed00',\r\n+      name: 'Fashion Accessories',\r\n+      description: 'Bags, belts, scarves, and fashion accessories',\r\n+      parent: '687fbada33f196eb765aecd2',\r\n+      image: null,\r\n+      status: true\r\n+    },\r\n+    // Electronics subcategories\r\n+    {\r\n+      id: 'sub_electronics_1',\r\n+      name: 'Mobile Phones',\r\n+      description: 'Latest smartphones and mobile devices',\r\n+      parent: '687fbaed33f196eb765aecd5',\r\n+      image: null,\r\n+      status: true\r\n+    },\r\n+    {\r\n+      id: 'sub_electronics_2',\r\n+      name: 'Laptops & Computers',\r\n+      description: 'Laptops, desktops, and computer accessories',\r\n+      parent: '687fbaed33f196eb765aecd5',\r\n+      image: null,\r\n+      status: true\r\n+    },\r\n+    {\r\n+      id: 'sub_electronics_3',\r\n+      name: 'Audio & Video',\r\n+      description: 'Headphones, speakers, and audio equipment',\r\n+      parent: '687fbaed33f196eb765aecd5',\r\n+      image: null,\r\n+      status: false\r\n+    },\r\n+    // Home & Living subcategories\r\n+    {\r\n+      id: 'sub_home_1',\r\n+      name: 'Furniture',\r\n+      description: 'Chairs, tables, beds, and home furniture',\r\n+      parent: '687fbaf333f196eb765aecd8',\r\n+      image: null,\r\n+      status: true\r\n+    },\r\n+    {\r\n+      id: 'sub_home_2',\r\n+      name: 'Home Decor',\r\n+      description: 'Wall art, decorative items, and home accessories',\r\n+      parent: '687fbaf333f196eb765aecd8',\r\n+      image: null,\r\n+      status: false\r\n+    }\r\n+  ];\r\n+\r\n+  // Mock category configuration (selected categories)\r\n+  const mockCategoryConfig = {\r\n+    categoryIds: [\r\n+      '687fbada33f196eb765aecd2', // Fashion & Clothing\r\n+      '687fbaed33f196eb765aecd5', // Electronics\r\n+      '687fbaf333f196eb765aecd8', // Home & Living\r\n+      '687fbc8d33f196eb765aecf1', // Men's Clothing\r\n+      '687fbc9333f196eb765aecf6', // Women's Clothing\r\n+      '687fbc9a33f196eb765aecfb', // Shoes & Footwear\r\n+      '687fbca033f196eb765aed00', // Fashion Accessories\r\n+      'sub_electronics_1',         // Mobile Phones\r\n+      'sub_electronics_2',         // Laptops & Computers\r\n+      'sub_home_1'                 // Furniture\r\n+    ]\r\n+  };\r\n+\r\n+  // State for selected main category (for viewing subcategories)\r\n+  const [selectedMainCategory, setSelectedMainCategory] = useState('687fbada33f196eb765aecd2');\r\n+\r\n+  // Get only main categories (no parent)\r\n+  const mainCategories = mockMainCategories;\r\n+\r\n+  // Get subcategories for selected main category\r\n+  const getSubcategoriesForCategory = (categoryId) => {\r\n+    console.log('🔍 Getting subcategories for category ID:', categoryId);\r\n+    const filtered = mockSubcategories.filter(subCat => {\r\n+      const parentId = subCat.parent;\r\n+      const match = parentId === categoryId;\r\n+      console.log(`   - Subcategory \"${subCat.name}\" parent: ${parentId}, matches: ${match}`);\r\n+      return match;\r\n+    });\r\n+    console.log(`   - Found ${filtered.length} subcategories for category ${categoryId}:`, filtered);\r\n+    return filtered;\r\n+  };\r\n+\r\n+  const selectedCategorySubcategories = selectedMainCategory ? \r\n+    getSubcategoriesForCategory(selectedMainCategory) : [];\r\n+\r\n+  // Helper function to get current counts\r\n+  const getCurrentCounts = () => {\r\n+    const selectedMainCats = mockCategoryConfig.categoryIds.filter(id => \r\n+      mainCategories.some(cat => cat.id === id)\r\n+    );\r\n+    const selectedSubcats = mockCategoryConfig.categoryIds.filter(id => \r\n+      mockSubcategories.some(sub => sub.id === id)\r\n+    );\r\n+    return {\r\n+      mainCategoriesCount: selectedMainCats.length,\r\n+      selectedSubcategories: selectedSubcats.length\r\n+    };\r\n+  };\r\n+\r\n+  // Create default icons exactly like in the original components\r\n+  const defaultCategoryIcon = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAzNiAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjM2IiBoZWlnaHQ9IjM2IiBmaWxsPSIjZjhmOWZhIiByeD0iNiIvPgo8Zm9sZGVyIGZpbGw9IiM5NjliYTYiLz4KPHN2ZyB4PSI2IiB5PSI4IiB3aWR0aD0iMjQiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyNCAyMCIgZmlsbD0ibm9uZSI+CjxwYXRoIGQ9Ik0yIDJoOGwyIDJoMTB2MTJIMlYyeiIgZmlsbD0iIzk2OWJhNiIvPgo8L3N2Zz4KPC9zdmc+';\r\n+  const defaultSubcategoryIcon = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAzNiAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjM2IiBoZWlnaHQ9IjM2IiBmaWxsPSIjZjhmOWZhIiByeD0iNiIvPgo8Y2lyY2xlIGN4PSIxOCIgY3k9IjE4IiByPSI4IiBmaWxsPSIjZGVlMmU2Ii8+CjxjaXJjbGUgY3g9IjE4IiBjeT0iMTgiIHI9IjMiIGZpbGw9IiM5NjliYTYiLz4KPC9zdmc+';\r\n+\r\n+  return (\r\n+    <>\r\n+      <div className=\"row mb-4\">\r\n+        <div className=\"col-12\">\r\n+          <label className=\"form-label fw-semibold mb-3\">Select Categories and Subcategories</label>\r\n+          \r\n+          {mainCategories.length > 0 ? (\r\n+            <div className=\"row\">\r\n+              {/* Main Categories - EXACT COPY from MainCategoriesList */}\r\n+              <div className=\"col-md-6\">\r\n+                <div className=\"card\">\r\n+                  <div className=\"card-header bg-light d-flex justify-content-between align-items-center\">\r\n+                    <h6 className=\"mb-0\">\r\n+                      <i className=\"bi bi-grid text-primary me-2\"></i>\r\n+                      Main Categories ({mainCategories.length})\r\n+                    </h6>\r\n+                    <span className=\"badge bg-primary\">\r\n+                      {getCurrentCounts().mainCategoriesCount} selected\r\n+                    </span>\r\n+                  </div>\r\n+                  <div className=\"card-body p-0\">\r\n+                    <div className=\"list-group list-group-flush\" style={{ maxHeight: '400px', overflowY: 'auto' }}>\r\n+                      {mainCategories.map((category, index) => {\r\n+                        const isSelected = mockCategoryConfig.categoryIds.includes(category.id);\r\n+                        const isCurrentlyViewed = selectedMainCategory === category.id;\r\n+                        \r\n+                        return (\r\n+                          <div \r\n+                            key={category.id} \r\n+                            className={`list-group-item list-group-item-action d-flex align-items-center justify-content-between ${isCurrentlyViewed ? 'active' : ''}`}\r\n+                            onClick={() => setSelectedMainCategory(category.id)}\r\n+                            style={{ cursor: 'pointer' }}\r\n+                          >\r\n+                            <div className=\"d-flex align-items-center flex-grow-1\">\r\n+                              <img \r\n+                                src={category.image || defaultCategoryIcon}\r\n+                                alt={category.name}\r\n+                                className=\"me-3\"\r\n+                                style={{ width: '32px', height: '32px', objectFit: 'cover', borderRadius: '4px' }}\r\n+                                onError={(e) => {\r\n+                                  e.target.src = defaultCategoryIcon;\r\n+                                }}\r\n+                              />\r\n+                              <div className=\"flex-grow-1\">\r\n+                                <div className=\"fw-medium\">{category.name}</div>\r\n+                                {category.description && (\r\n+                                  <small className=\"text-muted\">{category.description}</small>\r\n+                                )}\r\n+                              </div>\r\n+                            </div>\r\n+                            <div className=\"d-flex align-items-center gap-2\">\r\n+                              {isCurrentlyViewed && (\r\n+                                <span className=\"badge bg-info\">Viewing</span>\r\n+                              )}\r\n+                              <div className=\"form-check\">\r\n+                                <input \r\n+                                  className=\"form-check-input\" \r\n+                                  type=\"checkbox\" \r\n+                                  checked={isSelected}\r\n+                                  readOnly\r\n+                                />\r\n+                              </div>\r\n+                            </div>\r\n+                          </div>\r\n+                        );\r\n+                      })}\r\n+                    </div>\r\n+                  </div>\r\n+                </div>\r\n+              </div>\r\n+\r\n+              {/* Subcategories - EXACT COPY from SubcategoriesList */}\r\n+              <div className=\"col-md-6\">\r\n+                <div className=\"card\">\r\n+                  <div className=\"card-header bg-light d-flex justify-content-between align-items-center\">\r\n+                    <h6 className=\"mb-0\">\r\n+                      <i className=\"bi bi-tag text-secondary me-2\"></i>\r\n+                      Subcategories\r\n+                      {selectedMainCategory && (\r\n+                        <span className=\"text-muted ms-2\">\r\n+                          for \"{mainCategories.find(cat => cat.id === selectedMainCategory)?.name}\"\r\n+                        </span>\r\n+                      )}\r\n+                    </h6>\r\n+                    {selectedCategorySubcategories.length > 0 && (\r\n+                      <span className=\"badge bg-secondary\">\r\n+                        {selectedCategorySubcategories.length} subcategories\r\n+                      </span>\r\n+                    )}\r\n+                  </div>\r\n+                  <div className=\"card-body p-0\">\r\n+                    {selectedMainCategory ? (\r\n+                      selectedCategorySubcategories.length > 0 ? (\r\n+                        <>\r\n+                          {/* Subcategory Stats */}\r\n+                          <div className=\"p-3 bg-light border-bottom\">\r\n+                            <div className=\"row text-center\">\r\n+                              <div className=\"col-6\">\r\n+                                <div className=\"small\">\r\n+                                  <strong>{selectedCategorySubcategories.filter(sub => mockCategoryConfig.categoryIds.includes(sub.id)).length}</strong>\r\n+                                  <br />\r\n+                                  <span className=\"text-muted\">Selected</span>\r\n+                                </div>\r\n+                              </div>\r\n+                              <div className=\"col-6\">\r\n+                                <div className=\"small\">\r\n+                                  <strong>{selectedCategorySubcategories.filter(sub => sub.status).length}</strong>\r\n+                                  <br />\r\n+                                  <span className=\"text-muted\">Active</span>\r\n+                                </div>\r\n+                              </div>\r\n+                            </div>\r\n+                          </div>\r\n+\r\n+                          {/* Bulk Actions for Subcategories */}\r\n+                          <div className=\"p-2 border-bottom\">\r\n+                            <div className=\"d-flex gap-1\">\r\n+                              <button \r\n+                                type=\"button\" \r\n+                                className=\"btn btn-outline-success btn-sm\"\r\n+                                disabled\r\n+                              >\r\n+                                <i className=\"bi bi-check-all me-1\"></i>\r\n+                                Select All\r\n+                              </button>\r\n+                              \r\n+                              <button \r\n+                                type=\"button\" \r\n+                                className=\"btn btn-outline-secondary btn-sm\"\r\n+                                disabled\r\n+                              >\r\n+                                <i className=\"bi bi-x-circle me-1\"></i>\r\n+                                Clear All\r\n+                              </button>\r\n+                            </div>\r\n+                          </div>\r\n+\r\n+                          {/* Subcategories List */}\r\n+                          <div className=\"list-group list-group-flush\" style={{ maxHeight: '350px', overflowY: 'auto' }}>\r\n+                            {selectedCategorySubcategories.map((subcategory, index) => {\r\n+                              const isSelected = mockCategoryConfig.categoryIds.includes(subcategory.id);\r\n+                              \r\n+                              return (\r\n+                                <div \r\n+                                  key={subcategory.id} \r\n+                                  className=\"list-group-item d-flex align-items-center justify-content-between\"\r\n+                                >\r\n+                                  <div className=\"d-flex align-items-center flex-grow-1\">\r\n+                                    <img \r\n+                                      src={subcategory.image || defaultSubcategoryIcon}\r\n+                                      alt={subcategory.name}\r\n+                                      className=\"me-3\"\r\n+                                      style={{ width: '28px', height: '28px', objectFit: 'cover', borderRadius: '4px' }}\r\n+                                      onError={(e) => {\r\n+                                        e.target.src = defaultSubcategoryIcon;\r\n+                                      }}\r\n+                                    />\r\n+                                    <div className=\"flex-grow-1\">\r\n+                                      <div className=\"fw-medium\">{subcategory.name}</div>\r\n+                                      {subcategory.description && (\r\n+                                        <small className=\"text-muted\">{subcategory.description}</small>\r\n+                                      )}\r\n+                                      <div className=\"d-flex gap-2 mt-1\">\r\n+                                        <span className={`badge ${subcategory.status ? 'bg-success' : 'bg-danger'}`}>\r\n+                                          {subcategory.status ? 'Active' : 'Inactive'}\r\n+                                        </span>\r\n+                                      </div>\r\n+                                    </div>\r\n+                                  </div>\r\n+                                  <div className=\"form-check\">\r\n+                                    <input \r\n+                                      className=\"form-check-input\" \r\n+                                      type=\"checkbox\" \r\n+                                      checked={isSelected}\r\n+                                      readOnly\r\n+                                    />\r\n+                                  </div>\r\n+                                </div>\r\n+                              );\r\n+                            })}\r\n+                          </div>\r\n+\r\n+                          {/* Footer Info */}\r\n+                          <div className=\"p-2 bg-light border-top text-center\">\r\n+                            <small className=\"text-muted\">\r\n+                              <i className=\"bi bi-info-circle me-1\"></i>\r\n+                              Current selections for homepage display\r\n+                            </small>\r\n+                          </div>\r\n+                        </>\r\n+                      ) : (\r\n+                        <div className=\"text-center py-5\">\r\n+                          <i className=\"bi bi-folder2-open text-muted\" style={{ fontSize: '2.5rem' }}></i>\r\n+                          <h6 className=\"mt-3 text-muted\">No subcategories found</h6>\r\n+                          <p className=\"text-muted mb-3\">\r\n+                            The category \"{mainCategories.find(cat => cat.id === selectedMainCategory)?.name}\" doesn't have any subcategories yet.\r\n+                          </p>\r\n+                          <button \r\n+                            className=\"btn btn-outline-primary btn-sm\"\r\n+                            disabled\r\n+                          >\r\n+                            <i className=\"bi bi-plus-circle me-1\"></i>\r\n+                            Create Subcategories\r\n+                          </button>\r\n+                        </div>\r\n+                      )\r\n+                    ) : (\r\n+                      <div className=\"text-center py-5\">\r\n+                        <i className=\"bi bi-arrow-left text-primary\" style={{ fontSize: '2.5rem' }}></i>\r\n+                        <h6 className=\"mt-3 text-muted\">Select a main category</h6>\r\n+                        <p className=\"text-muted mb-0\">\r\n+                          Click on a main category from the left panel to view and select its subcategories.\r\n+                        </p>\r\n+                      </div>\r\n+                    )}\r\n+                  </div>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+          ) : (\r\n+            <div className=\"text-center py-5\">\r\n+              <i className=\"bi bi-folder2-open text-muted\" style={{ fontSize: '3rem' }}></i>\r\n+              <p className=\"mt-2 text-muted\">No categories available</p>\r\n+              <small className=\"text-muted\">Create categories first to configure this section.</small>\r\n+            </div>\r\n+          )}\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Bulk Actions - EXACT COPY from CategorySelector */}\r\n+      {mainCategories.length > 0 && (\r\n+        <div className=\"row\">\r\n+          <div className=\"col-12\">\r\n+            <div className=\"d-flex gap-2 flex-wrap\">\r\n+              <button \r\n+                type=\"button\" \r\n+                className=\"btn btn-outline-primary btn-sm\"\r\n+                disabled\r\n+              >\r\n+                <i className=\"bi bi-check-all me-1\"></i>\r\n+                Select All Main Categories\r\n+              </button>\r\n+              \r\n+              <button \r\n+                type=\"button\" \r\n+                className=\"btn btn-outline-success btn-sm\"\r\n+                disabled\r\n+              >\r\n+                <i className=\"bi bi-tags me-1\"></i>\r\n+                Select All Subcategories\r\n+              </button>\r\n+              \r\n+              <button \r\n+                type=\"button\" \r\n+                className=\"btn btn-outline-secondary btn-sm\"\r\n+                disabled\r\n+              >\r\n+                <i className=\"bi bi-x-circle me-1\"></i>\r\n+                Clear All Selections\r\n+              </button>\r\n+            </div>\r\n+          </div>\r\n+        </div>\r\n+      )}\r\n+    </>\r\n+  );\r\n+}\r\n+\r\n+export default function CurrentSelections({ pageId, token }) {\r\n   // Add debugging logs\r\n   console.log('🔍 [CurrentSelections] Props received:', { \r\n     pageId, \r\n     token: token ? `${token.substring(0, 20)}...` : 'null',\r\n"
                },
                {
                    "date": 1753459426344,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -448,271 +448,4 @@\n     </>\r\n   );\r\n }\r\n \r\n-export default function CurrentSelections({ pageId, token }) {\r\n-  // Add debugging logs\r\n-  console.log('🔍 [CurrentSelections] Props received:', { \r\n-    pageId, \r\n-    token: token ? `${token.substring(0, 20)}...` : 'null',\r\n-    tokenExists: !!token \r\n-  });\r\n-\r\n-  const {\r\n-    mainCategories,\r\n-    subcategories,\r\n-    loading,\r\n-    error,\r\n-    selectedMainCategory,\r\n-    setSelectedMainCategory,\r\n-    getSubcategoriesForCategory\r\n-  } = useCategorySectionData(pageId, token);\r\n-\r\n-  // Add more debugging\r\n-  console.log('🔍 [CurrentSelections] Hook data:', {\r\n-    mainCategoriesCount: mainCategories?.length || 0,\r\n-    subcategoriesCount: subcategories?.length || 0,\r\n-    loading,\r\n-    error,\r\n-    selectedMainCategory\r\n-  });\r\n-\r\n-  // Create default category icon as data URL to avoid 404 errors\r\n-  const defaultCategoryIcon = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAzNiAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjM2IiBoZWlnaHQ9IjM2IiBmaWxsPSIjZjhmOWZhIiByeD0iNiIvPgo8Zm9sZGVyIGZpbGw9IiM5NjliYTYiLz4KPHN2ZyB4PSI2IiB5PSI4IiB3aWR0aD0iMjQiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyNCAyMCIgZmlsbD0ibm9uZSI+CjxwYXRoIGQ9Ik0yIDJoOGwyIDJoMTB2MTJIMlYyeiIgZmlsbD0iIzk2OWJhNiIvPgo8L3N2Zz4KPC9zdmc+';\r\n-  \r\n-  // Create default subcategory icon as data URL to avoid 404 errors\r\n-  const defaultSubcategoryIcon = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAzNiAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjM2IiBoZWlnaHQ9IjM2IiBmaWxsPSIjZjhmOWZhIiByeD0iNiIvPgo8Y2lyY2xlIGN4PSIxOCIgY3k9IjE4IiByPSI4IiBmaWxsPSIjZGVlMmU2Ii8+CjxjaXJjbGUgY3g9IjE4IiBjeT0iMTgiIHI9IjMiIGZpbGw9IiM5NjliYTYiLz4KPC9zdmc+';\r\n-\r\n-  // Loading state\r\n-  if (loading) {\r\n-    return (\r\n-      <div className=\"row mb-4\">\r\n-        <div className=\"col-12\">\r\n-          <div className=\"card border-success\">\r\n-            <div className=\"card-header bg-success bg-opacity-10\">\r\n-              <h6 className=\"mb-0 text-success\">\r\n-                <i className=\"bi bi-check-circle me-2\"></i>\r\n-                Current Selections\r\n-              </h6>\r\n-            </div>\r\n-            <div className=\"card-body\">\r\n-              <div className=\"text-center py-4\">\r\n-                <div className=\"spinner-border text-primary\" role=\"status\">\r\n-                  <span className=\"visually-hidden\">Loading...</span>\r\n-                </div>\r\n-                <p className=\"mt-2 text-muted\">Loading current selections...</p>\r\n-                <small className=\"text-muted\">PageId: {pageId} | Token: {token ? 'Available' : 'Missing'}</small>\r\n-              </div>\r\n-            </div>\r\n-          </div>\r\n-        </div>\r\n-      </div>\r\n-    );\r\n-  }\r\n-\r\n-  // Error state\r\n-  if (error) {\r\n-    return (\r\n-      <div className=\"row mb-4\">\r\n-        <div className=\"col-12\">\r\n-          <div className=\"card border-danger\">\r\n-            <div className=\"card-header bg-danger bg-opacity-10\">\r\n-              <h6 className=\"mb-0 text-danger\">\r\n-                <i className=\"bi bi-exclamation-triangle me-2\"></i>\r\n-                Error Loading Selections\r\n-              </h6>\r\n-            </div>\r\n-            <div className=\"card-body\">\r\n-              <div className=\"text-center py-4\">\r\n-                <i className=\"bi bi-exclamation-triangle text-danger\" style={{ fontSize: '2rem' }}></i>\r\n-                <p className=\"mt-2 text-danger mb-1\">Failed to load current selections</p>\r\n-                <small className=\"text-muted\">Error: {error}</small>\r\n-                <div className=\"mt-2\">\r\n-                  <small className=\"text-muted d-block\">PageId: {pageId}</small>\r\n-                  <small className=\"text-muted d-block\">Token: {token ? 'Available' : 'Missing'}</small>\r\n-                </div>\r\n-                <div className=\"mt-3\">\r\n-                  <button className=\"btn btn-outline-primary btn-sm\" onClick={() => window.location.reload()}>\r\n-                    <i className=\"bi bi-arrow-clockwise me-1\"></i>\r\n-                    Retry\r\n-                  </button>\r\n-                </div>\r\n-              </div>\r\n-            </div>\r\n-          </div>\r\n-        </div>\r\n-      </div>\r\n-    );\r\n-  }\r\n-\r\n-  // Calculate subcategories for selected main category\r\n-  const selectedCategorySubcategories = selectedMainCategory ? \r\n-    getSubcategoriesForCategory(selectedMainCategory) : [];\r\n-\r\n-  // Main render\r\n-  return (\r\n-    <>\r\n-      {/* Debug info in development */}\r\n-      {process.env.NODE_ENV === 'development' && (\r\n-        <div className=\"row mb-2\">\r\n-          <div className=\"col-12\">\r\n-            <div className=\"alert alert-info py-2\">\r\n-              <small>\r\n-                <strong>Debug:</strong> PageId: {pageId} | Token: {token ? 'Available' : 'Missing'} | \r\n-                Categories: {mainCategories.length} | Subcategories: {subcategories.length}\r\n-              </small>\r\n-            </div>\r\n-          </div>\r\n-        </div>\r\n-      )}\r\n-\r\n-      <div className=\"row mb-4\">\r\n-        <div className=\"col-12\">\r\n-          <div className=\"card border-success\">\r\n-            <div className=\"card-header bg-success bg-opacity-10\">\r\n-              <h6 className=\"mb-0 text-success\">\r\n-                <i className=\"bi bi-check-circle me-2\"></i>\r\n-                Current Selections\r\n-              </h6>\r\n-            </div>\r\n-            <div className=\"card-body\">\r\n-              {mainCategories.length > 0 || subcategories.length > 0 ? (\r\n-                <div className=\"row\">\r\n-                  {/* Main Categories List */}\r\n-                  <div className=\"col-md-6\">\r\n-                    <h6 className=\"text-primary mb-3\">\r\n-                      <i className=\"bi bi-grid me-1\"></i>\r\n-                      Selected Main Categories ({mainCategories.length})\r\n-                    </h6>\r\n-                    <div className=\"border rounded p-3\" style={{ maxHeight: '300px', overflowY: 'auto' }}>\r\n-                      {mainCategories.map((category) => (\r\n-                        <div\r\n-                          key={category.id}\r\n-                          className={`d-flex align-items-center p-2 rounded mb-2 cursor-pointer ${\r\n-                            selectedMainCategory === category.id \r\n-                              ? 'bg-primary bg-opacity-20 border border-primary' \r\n-                              : 'bg-light border border-light'\r\n-                          }`}\r\n-                          onClick={() => setSelectedMainCategory(category.id)}\r\n-                          style={{ cursor: 'pointer', transition: 'all 0.2s' }}\r\n-                        >\r\n-                          <img \r\n-                            src={category.image || defaultCategoryIcon}\r\n-                            alt={category.name}\r\n-                            className=\"me-3 rounded\"\r\n-                            style={{ width: '40px', height: '40px', objectFit: 'cover' }}\r\n-                            onError={(e) => {\r\n-                              e.target.src = defaultCategoryIcon;\r\n-                            }}\r\n-                          />\r\n-                          <div className=\"flex-grow-1\">\r\n-                            <div className=\"fw-medium text-dark\">{category.name}</div>\r\n-                            {category.description && (\r\n-                              <small className=\"text-muted\">{category.description}</small>\r\n-                            )}\r\n-                          </div>\r\n-                          {selectedMainCategory === category.id && (\r\n-                            <i className=\"bi bi-check-circle text-primary\"></i>\r\n-                          )}\r\n-                        </div>\r\n-                      ))}\r\n-                    </div>\r\n-                  </div>\r\n-\r\n-                  {/* Subcategories List */}\r\n-                  <div className=\"col-md-6\">\r\n-                    <h6 className=\"text-secondary mb-3\">\r\n-                      <i className=\"bi bi-tags me-1\"></i>\r\n-                      Selected Subcategories ({selectedCategorySubcategories.length})\r\n-                    </h6>\r\n-                    <div className=\"border rounded p-3\" style={{ maxHeight: '300px', overflowY: 'auto' }}>\r\n-                      {selectedMainCategory ? (\r\n-                        selectedCategorySubcategories.length > 0 ? (\r\n-                          selectedCategorySubcategories.map((subcategory) => (\r\n-                            <div\r\n-                              key={subcategory.id}\r\n-                              className=\"d-flex align-items-center p-2 rounded mb-2 bg-light border border-light\"\r\n-                            >\r\n-                              <img \r\n-                                src={subcategory.image || defaultSubcategoryIcon}\r\n-                                alt={subcategory.name}\r\n-                                className=\"me-3 rounded\"\r\n-                                style={{ width: '32px', height: '32px', objectFit: 'cover' }}\r\n-                                onError={(e) => {\r\n-                                  e.target.src = defaultSubcategoryIcon;\r\n-                                }}\r\n-                              />\r\n-                              <div className=\"flex-grow-1\">\r\n-                                <div className=\"fw-medium text-dark\">{subcategory.name}</div>\r\n-                                {subcategory.description && (\r\n-                                  <small className=\"text-muted\">{subcategory.description}</small>\r\n-                                )}\r\n-                                <small className=\"text-info d-block\">\r\n-                                  under {subcategory.parentName}\r\n-                                </small>\r\n-                              </div>\r\n-                            </div>\r\n-                          ))\r\n-                        ) : (\r\n-                          <div className=\"text-center py-4\">\r\n-                            <i className=\"bi bi-info-circle text-muted\" style={{ fontSize: '2rem' }}></i>\r\n-                            <p className=\"text-muted mt-2 mb-0\">No subcategories found</p>\r\n-                            <small className=\"text-muted\">This category has no subcategories</small>\r\n-                          </div>\r\n-                        )\r\n-                      ) : (\r\n-                        <div className=\"text-center py-4\">\r\n-                          <i className=\"bi bi-hand-index text-muted\" style={{ fontSize: '2rem' }}></i>\r\n-                          <p className=\"text-muted mt-2 mb-0\">Select a main category</p>\r\n-                          <small className=\"text-muted\">Click on a main category to view its subcategories</small>\r\n-                        </div>\r\n-                      )}\r\n-                    </div>\r\n-                  </div>\r\n-                </div>\r\n-              ) : (\r\n-                <div className=\"text-center py-4\">\r\n-                  <i className=\"bi bi-inbox text-muted\" style={{ fontSize: '2rem' }}></i>\r\n-                  <p className=\"text-muted mt-2 mb-0\">No categories configured</p>\r\n-                  <small className=\"text-muted\">Configure the category section to see selections here</small>\r\n-                  <div className=\"mt-2\">\r\n-                    <small className=\"text-muted\">PageId: {pageId} | Token: {token ? 'Available' : 'Missing'}</small>\r\n-                  </div>\r\n-                </div>\r\n-              )}\r\n-            </div>\r\n-          </div>\r\n-        </div>\r\n-      </div>\r\n-\r\n-      {/* Summary Statistics */}\r\n-      {(mainCategories.length > 0 || subcategories.length > 0) && (\r\n-        <div className=\"row mb-3\">\r\n-          <div className=\"col-12\">\r\n-            <div className=\"d-flex justify-content-between align-items-center bg-light rounded p-3\">\r\n-              <div className=\"d-flex gap-4\">\r\n-                <div className=\"text-center\">\r\n-                  <div className=\"fw-bold text-primary fs-4\">{mainCategories.length}</div>\r\n-                  <small className=\"text-muted\">Main Categories</small>\r\n-                </div>\r\n-                <div className=\"text-center\">\r\n-                  <div className=\"fw-bold text-secondary fs-4\">{subcategories.length}</div>\r\n-                  <small className=\"text-muted\">Total Subcategories</small>\r\n-                </div>\r\n-                <div className=\"text-center\">\r\n-                  <div className=\"fw-bold text-success fs-4\">{selectedCategorySubcategories.length}</div>\r\n-                  <small className=\"text-muted\">Current Category Subs</small>\r\n-                </div>\r\n-              </div>\r\n-              <div className=\"text-end\">\r\n-                <small className=\"text-muted\">\r\n-                  <i className=\"bi bi-info-circle me-1\"></i>\r\n-                  Data from: Mock Data (Dev Mode)\r\n-                </small>\r\n-              </div>\r\n-            </div>\r\n-          </div>\r\n-        </div>\r\n-      )}\r\n-    </>\r\n-  );\r\n-}\n\\ No newline at end of file\n"
                }
            ],
            "date": 1753289008406,
            "name": "Commit-0",
            "content": "import React from 'react'\r\n\r\nexport default function CurrentSelections({\r\n  categoryConfig,\r\n  availableCategories,\r\n  subcategories\r\n}) {\r\n  // Create default category icon as data URL to avoid 404 errors\r\n  const defaultCategoryIcon = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAzNiAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjM2IiBoZWlnaHQ9IjM2IiBmaWxsPSIjZjhmOWZhIiByeD0iNiIvPgo8Zm9sZGVyIGZpbGw9IiM5NjliYTYiLz4KPHN2ZyB4PSI2IiB5PSI4IiB3aWR0aD0iMjQiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyNCAyMCIgZmlsbD0ibm9uZSI+CjxwYXRoIGQ9Ik0yIDJoOGwyIDJoMTB2MTJIMlYyeiIgZmlsbD0iIzk2OWJhNiIvPgo8L3N2Zz4KPC9zdmc+'\r\n  \r\n  // Create default subcategory icon as data URL to avoid 404 errors\r\n  const defaultSubcategoryIcon = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAzNiAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjM2IiBoZWlnaHQ9IjM2IiBmaWxsPSIjZjhmOWZhIiByeD0iNiIvPgo8Y2lyY2xlIGN4PSIxOCIgY3k9IjE4IiByPSI4IiBmaWxsPSIjZGVlMmU2Ii8+CjxjaXJjbGUgY3g9IjE4IiBjeT0iMTgiIHI9IjMiIGZpbGw9IiM5NjliYTYiLz4KPC9zdmc+'\r\n\r\n  const mainCategories = availableCategories.filter(cat => !cat.parent)\r\n  const subCategories = subcategories\r\n\r\n  return (\r\n    <div className=\"row mb-4\">\r\n      <div className=\"col-12\">\r\n        <div className=\"card border-success\">\r\n          <div className=\"card-header bg-success bg-opacity-10\">\r\n            <h6 className=\"mb-0 text-success\">\r\n              <i className=\"bi bi-check-circle me-2\"></i>\r\n              Current Selections\r\n            </h6>\r\n          </div>\r\n          <div className=\"card-body\">\r\n            {categoryConfig.categoryIds.length > 0 ? (\r\n              <div className=\"row\">\r\n                {/* Selected Main Categories */}\r\n                <div className=\"col-md-6\">\r\n                  <h6 className=\"text-primary mb-3\">\r\n                    <i className=\"bi bi-grid me-1\"></i>\r\n                    Selected Main Categories ({categoryConfig.categoryIds.filter(id => mainCategories.some(cat => cat.id === id)).length})\r\n                  </h6>\r\n                  <div className=\"d-flex flex-wrap gap-2 mb-3\">\r\n                    {categoryConfig.categoryIds\r\n                      .filter(id => mainCategories.some(cat => cat.id === id))\r\n                      .map(categoryId => {\r\n                        const category = mainCategories.find(cat => cat.id === categoryId)\r\n                        return category ? (\r\n                          <div key={categoryId} className=\"d-flex align-items-center bg-primary bg-opacity-10 rounded px-3 py-2\">\r\n                            <img \r\n                              src={category.image || defaultCategoryIcon}\r\n                              alt={category.name}\r\n                              className=\"me-2\"\r\n                              style={{ width: '20px', height: '20px', objectFit: 'cover' }}\r\n                              onError={(e) => {\r\n                                e.target.src = defaultCategoryIcon\r\n                              }}\r\n                            />\r\n                            <span className=\"text-primary fw-medium\">{category.name}</span>\r\n                          </div>\r\n                        ) : null\r\n                      })}\r\n                  </div>\r\n                  {categoryConfig.categoryIds.filter(id => mainCategories.some(cat => cat.id === id)).length === 0 && (\r\n                    <p className=\"text-muted mb-0\">\r\n                      <i className=\"bi bi-info-circle me-1\"></i>\r\n                      No main categories selected\r\n                    </p>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Selected Subcategories */}\r\n                <div className=\"col-md-6\">\r\n                  <h6 className=\"text-secondary mb-3\">\r\n                    <i className=\"bi bi-tags me-1\"></i>\r\n                    Selected Subcategories ({categoryConfig.categoryIds.filter(id => subCategories.some(cat => cat.id === id)).length})\r\n                  </h6>\r\n                  <div className=\"d-flex flex-wrap gap-2 mb-3\">\r\n                    {categoryConfig.categoryIds\r\n                      .filter(id => subCategories.some(cat => cat.id === id))\r\n                      .map(subcategoryId => {\r\n                        const subcategory = subCategories.find(cat => cat.id === subcategoryId)\r\n                        const parentCategory = mainCategories.find(cat => cat.id === (subcategory?.parent?._id || subcategory?.parent))\r\n                        return subcategory ? (\r\n                          <div key={subcategoryId} className=\"d-flex align-items-center bg-secondary bg-opacity-10 rounded px-3 py-2\">\r\n                            <img \r\n                              src={subcategory.image || defaultSubcategoryIcon}\r\n                              alt={subcategory.name}\r\n                              className=\"me-2\"\r\n                              style={{ width: '18px', height: '18px', objectFit: 'cover' }}\r\n                              onError={(e) => {\r\n                                e.target.src = defaultSubcategoryIcon\r\n                              }}\r\n                            />\r\n                            <div className=\"d-flex flex-column\">\r\n                              <span className=\"text-secondary fw-medium\" style={{ fontSize: '0.875rem' }}>\r\n                                {subcategory.name}\r\n                              </span>\r\n                              {parentCategory && (\r\n                                <small className=\"text-muted\" style={{ fontSize: '0.75rem' }}>\r\n                                  under {parentCategory.name}\r\n                                </small>\r\n                              )}\r\n                            </div>\r\n                          </div>\r\n                        ) : null\r\n                      })}\r\n                  </div>\r\n                  {categoryConfig.categoryIds.filter(id => subCategories.some(cat => cat.id === id)).length === 0 && (\r\n                    <p className=\"text-muted mb-0\">\r\n                      <i className=\"bi bi-info-circle me-1\"></i>\r\n                      No subcategories selected\r\n                    </p>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <div className=\"text-center py-4\">\r\n                <i className=\"bi bi-inbox text-muted\" style={{ fontSize: '2rem' }}></i>\r\n                <p className=\"text-muted mt-2 mb-0\">No categories selected yet</p>\r\n                <small className=\"text-muted\">Select categories from the interface below to see them here</small>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"
        }
    ]
}