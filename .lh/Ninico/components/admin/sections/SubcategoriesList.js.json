{
    "sourceFile": "Ninico/components/admin/sections/SubcategoriesList.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1753289008656,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1753289008656,
            "name": "Commit-0",
            "content": "import React from 'react'\r\n\r\nexport default function SubcategoriesList({\r\n  selectedMainCategory,\r\n  selectedCategorySubcategories,\r\n  mainCategories,\r\n  categoryConfig,\r\n  handleCategoryToggle,\r\n  MAX_SUBCATEGORIES_PER_CATEGORY\r\n}) {\r\n  // Create default subcategory icon as data URL to avoid 404 errors\r\n  const defaultSubcategoryIcon = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAzNiAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjM2IiBoZWlnaHQ9IjM2IiBmaWxsPSIjZjhmOWZhIiByeD0iNiIvPgo8Y2lyY2xlIGN4PSIxOCIgY3k9IjE4IiByPSI4IiBmaWxsPSIjZGVlMmU2Ii8+CjxjaXJjbGUgY3g9IjE4IiBjeT0iMTgiIHI9IjMiIGZpbGw9IiM5NjliYTYiLz4KPC9zdmc+'\r\n\r\n  // Bulk actions for subcategories\r\n  const handleSelectAllSubcategoriesForCategory = () => {\r\n    selectedCategorySubcategories.forEach(subcategory => {\r\n      if (!categoryConfig.categoryIds.includes(subcategory.id)) {\r\n        const parentId = subcategory.parent?._id || subcategory.parent\r\n        handleCategoryToggle(subcategory.id, parentId)\r\n      }\r\n    })\r\n  }\r\n\r\n  const handleClearAllSubcategoriesForCategory = () => {\r\n    selectedCategorySubcategories.forEach(subcategory => {\r\n      if (categoryConfig.categoryIds.includes(subcategory.id)) {\r\n        const parentId = subcategory.parent?._id || subcategory.parent\r\n        handleCategoryToggle(subcategory.id, parentId)\r\n      }\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div className=\"col-md-6\">\r\n      <div className=\"card\">\r\n        <div className=\"card-header bg-light d-flex justify-content-between align-items-center\">\r\n          <h6 className=\"mb-0\">\r\n            <i className=\"bi bi-tag text-secondary me-2\"></i>\r\n            Subcategories\r\n            {selectedMainCategory && (\r\n              <span className=\"text-muted ms-2\">\r\n                for \"{mainCategories.find(cat => cat.id === selectedMainCategory)?.name}\"\r\n              </span>\r\n            )}\r\n          </h6>\r\n          {selectedCategorySubcategories.length > 0 && (\r\n            <span className=\"badge bg-secondary\">\r\n              {selectedCategorySubcategories.length} subcategories\r\n            </span>\r\n          )}\r\n        </div>\r\n        <div className=\"card-body p-0\">\r\n          {selectedMainCategory ? (\r\n            selectedCategorySubcategories.length > 0 ? (\r\n              <>\r\n                {/* Subcategory Stats */}\r\n                <div className=\"p-3 bg-light border-bottom\">\r\n                  <div className=\"row text-center\">\r\n                    <div className=\"col-6\">\r\n                      <div className=\"small\">\r\n                        <strong>{selectedCategorySubcategories.filter(sub => categoryConfig.categoryIds.includes(sub.id)).length}</strong>\r\n                        <br />\r\n                        <span className=\"text-muted\">Selected</span>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-6\">\r\n                      <div className=\"small\">\r\n                        <strong>{selectedCategorySubcategories.filter(sub => sub.status).length}</strong>\r\n                        <br />\r\n                        <span className=\"text-muted\">Active</span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Bulk Actions for Subcategories */}\r\n                <div className=\"p-2 border-bottom\">\r\n                  <div className=\"d-flex gap-1\">\r\n                    <button \r\n                      type=\"button\" \r\n                      className=\"btn btn-outline-success btn-sm\"\r\n                      onClick={handleSelectAllSubcategoriesForCategory}\r\n                    >\r\n                      <i className=\"bi bi-check-all me-1\"></i>\r\n                      Select All\r\n                    </button>\r\n                    \r\n                    <button \r\n                      type=\"button\" \r\n                      className=\"btn btn-outline-secondary btn-sm\"\r\n                      onClick={handleClearAllSubcategoriesForCategory}\r\n                    >\r\n                      <i className=\"bi bi-x-circle me-1\"></i>\r\n                      Clear All\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Subcategories List */}\r\n                <div className=\"list-group list-group-flush\" style={{ maxHeight: '350px', overflowY: 'auto' }}>\r\n                  {selectedCategorySubcategories.map((subcategory, index) => {\r\n                    const isSelected = categoryConfig.categoryIds.includes(subcategory.id)\r\n                    const parentId = subcategory.parent?._id || subcategory.parent\r\n                    \r\n                    return (\r\n                      <div \r\n                        key={subcategory.id} \r\n                        className=\"list-group-item d-flex align-items-center justify-content-between\"\r\n                      >\r\n                        <div className=\"d-flex align-items-center flex-grow-1\">\r\n                          <img \r\n                            src={subcategory.image || defaultSubcategoryIcon}\r\n                            alt={subcategory.name}\r\n                            className=\"me-3\"\r\n                            style={{ width: '28px', height: '28px', objectFit: 'cover', borderRadius: '4px' }}\r\n                            onError={(e) => {\r\n                              e.target.src = defaultSubcategoryIcon\r\n                            }}\r\n                          />\r\n                          <div className=\"flex-grow-1\">\r\n                            <div className=\"fw-medium\">{subcategory.name}</div>\r\n                            {subcategory.description && (\r\n                              <small className=\"text-muted\">{subcategory.description}</small>\r\n                            )}\r\n                            <div className=\"d-flex gap-2 mt-1\">\r\n                              <span className={`badge ${subcategory.status ? 'bg-success' : 'bg-danger'}`}>\r\n                                {subcategory.status ? 'Active' : 'Inactive'}\r\n                              </span>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"form-check\">\r\n                          <input \r\n                            className=\"form-check-input\" \r\n                            type=\"checkbox\" \r\n                            checked={isSelected}\r\n                            onChange={() => handleCategoryToggle(subcategory.id, parentId)}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    )\r\n                  })}\r\n                </div>\r\n\r\n                {/* Footer Info */}\r\n                <div className=\"p-2 bg-light border-top text-center\">\r\n                  <small className=\"text-muted\">\r\n                    <i className=\"bi bi-info-circle me-1\"></i>\r\n                    Click checkboxes to select subcategories for homepage display\r\n                  </small>\r\n                </div>\r\n              </>\r\n            ) : (\r\n              <div className=\"text-center py-5\">\r\n                <i className=\"bi bi-folder2-open text-muted\" style={{ fontSize: '2.5rem' }}></i>\r\n                <h6 className=\"mt-3 text-muted\">No subcategories found</h6>\r\n                <p className=\"text-muted mb-3\">\r\n                  The category \"{mainCategories.find(cat => cat.id === selectedMainCategory)?.name}\" doesn't have any subcategories yet.\r\n                </p>\r\n                <button \r\n                  className=\"btn btn-outline-primary btn-sm\"\r\n                  onClick={() => {\r\n                    // Could navigate to subcategory creation page\r\n                    console.log('Navigate to create subcategories for category:', selectedMainCategory)\r\n                  }}\r\n                >\r\n                  <i className=\"bi bi-plus-circle me-1\"></i>\r\n                  Create Subcategories\r\n                </button>\r\n              </div>\r\n            )\r\n          ) : (\r\n            <div className=\"text-center py-5\">\r\n              <i className=\"bi bi-arrow-left text-primary\" style={{ fontSize: '2.5rem' }}></i>\r\n              <h6 className=\"mt-3 text-muted\">Select a main category</h6>\r\n              <p className=\"text-muted mb-0\">\r\n                Click on a main category from the left panel to view and select its subcategories.\r\n              </p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"
        }
    ]
}