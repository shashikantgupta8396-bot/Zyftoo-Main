{
    "sourceFile": "Ninico/components/sections/GiftCategories.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 19,
            "patches": [
                {
                    "date": 1752766211981,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1752766233223,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -15,10 +15,10 @@\n     window.addEventListener(\"resize\", checkWidth);\r\n     return () => window.removeEventListener(\"resize\", checkWidth);\r\n   }, []);\r\n \r\n-  if (isMobile) return null;\r\n \r\n+\r\n   const handleMouseEnterCategory = (id) => {\r\n     setActiveCategory(id);\r\n     setActiveSubcategory(null);\r\n   };\r\n"
                },
                {
                    "date": 1752766246073,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -8,17 +8,9 @@\n \r\n   const [activeCategory, setActiveCategory] = useState(null);\r\n   const [activeSubcategory, setActiveSubcategory] = useState(null);\r\n \r\n-  useEffect(() => {\r\n-    const checkWidth = () => setIsMobile(window.innerWidth <= 768);\r\n-    checkWidth();\r\n-    window.addEventListener(\"resize\", checkWidth);\r\n-    return () => window.removeEventListener(\"resize\", checkWidth);\r\n-  }, []);\r\n \r\n-\r\n-\r\n   const handleMouseEnterCategory = (id) => {\r\n     setActiveCategory(id);\r\n     setActiveSubcategory(null);\r\n   };\r\n"
                },
                {
                    "date": 1752768557464,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -25,228 +25,202 @@\n   };\r\n \r\n   return (\r\n     <>\r\n-      <div className=\"gift-nav-container\">\r\n-        <div className=\"gift-category-bar\">\r\n-          {giftPageCategories.map((category) => (\r\n-            <div\r\n-              key={category.id}\r\n-              className=\"gift-category-item\"\r\n-              onMouseEnter={() => handleMouseEnterCategory(category.id)}\r\n-              onMouseLeave={handleMouseLeaveCategory}\r\n-            >\r\n-              <div className=\"gift-icon-title\">\r\n-                <img\r\n-                  src={category.icon}\r\n-                  alt={category.name}\r\n-                  className=\"gift-icon\"\r\n-                />\r\n-                <span className=\"gift-title\">{category.name}</span>\r\n-              </div>\r\n-\r\n-              {activeCategory === category.id && (\r\n-                <div className=\"gift-subcategories\">\r\n-                  {category.subcategories.map((sub, index) => (\r\n+      {/* Hide on mobile (d-none d-lg-block) */}\r\n+      <div className=\"d-none d-lg-block\">\r\n+        <div className=\"container-fluid\" style={{ backgroundColor: '#f0d9b3', borderTop: '1px solid #ddd', borderBottom: '1px solid #ddd' }}>\r\n+          <div className=\"container\">\r\n+            <div className=\"row\">\r\n+              <div className=\"col-12\">\r\n+                <div className=\"d-flex justify-content-end align-items-center\" style={{ height: '80px', paddingRight: '15%' }}>\r\n+                  {giftPageCategories.map((category) => (\r\n                     <div\r\n-                      key={index}\r\n-                      className=\"gift-subcategory-item\"\r\n-                      onMouseEnter={() => handleMouseEnterSubcategory(sub.name)}\r\n-                      onMouseLeave={() => setActiveSubcategory(null)}\r\n+                      key={category.id}\r\n+                      className=\"position-relative d-flex flex-column align-items-center justify-content-center mx-3\"\r\n+                      style={{ \r\n+                        height: '100%',\r\n+                        padding: '0 5px',\r\n+                        cursor: 'pointer',\r\n+                        transition: 'transform 0.2s ease',\r\n+                        minWidth: '60px'\r\n+                      }}\r\n+                      onMouseEnter={() => handleMouseEnterCategory(category.id)}\r\n+                      onMouseLeave={handleMouseLeaveCategory}\r\n+                      onMouseOver={(e) => e.currentTarget.style.transform = 'scale(1.08)'}\r\n+                      onMouseOut={(e) => e.currentTarget.style.transform = 'scale(1)'}\r\n                     >\r\n-                      <Link href=\"/shop\">\r\n-                        <span className=\"gift-subcategory-text\">\r\n-                          {sub.name}\r\n-                          {sub.children && <span className=\"gift-arrow\">›</span>}\r\n+                      <div className=\"d-flex flex-column align-items-center\" style={{ gap: '2px' }}>\r\n+                        <img\r\n+                          src={category.icon}\r\n+                          alt={category.name}\r\n+                          style={{ width: '40px', height: '40px', objectFit: 'contain' }}\r\n+                        />\r\n+                        <span style={{ \r\n+                          fontSize: '11px', \r\n+                          fontWeight: '500', \r\n+                          whiteSpace: 'nowrap', \r\n+                          color: '#333', \r\n+                          textAlign: 'center', \r\n+                          lineHeight: '1.1' \r\n+                        }}>\r\n+                          {category.name}\r\n                         </span>\r\n-                      </Link>\r\n+                      </div>\r\n \r\n-                      {sub.children && activeSubcategory === sub.name && (\r\n-                        <div className=\"gift-sub-subcategories\">\r\n-                          {sub.children.map((child, idx) => (\r\n-                            <Link key={idx} href=\"/shop\">\r\n-                              <span className=\"gift-sub-subcategory-text\">\r\n-                                {child}\r\n-                              </span>\r\n-                            </Link>\r\n+                      {activeCategory === category.id && (\r\n+                        <div \r\n+                          className=\"position-absolute bg-white shadow-lg d-flex flex-column\"\r\n+                          style={{\r\n+                            top: '80px',\r\n+                            left: '0',\r\n+                            padding: '10px 15px',\r\n+                            minWidth: '200px',\r\n+                            zIndex: 1000,\r\n+                            boxShadow: '0 2px 12px rgba(0, 0, 0, 0.15)'\r\n+                          }}\r\n+                        >\r\n+                          {category.subcategories.map((sub, index) => (\r\n+                            <div\r\n+                              key={index}\r\n+                              className=\"position-relative\"\r\n+                              style={{ padding: '6px 10px', whiteSpace: 'nowrap' }}\r\n+                              onMouseEnter={() => handleMouseEnterSubcategory(sub.name)}\r\n+                              onMouseLeave={() => setActiveSubcategory(null)}\r\n+                            >\r\n+                              <Link href=\"/shop\" className=\"text-decoration-none\">\r\n+                                <span className=\"d-inline-flex align-items-center justify-content-between w-100\" style={{ fontSize: '13px', color: '#222' }}>\r\n+                                  {sub.name}\r\n+                                  {sub.children && <span style={{ marginLeft: '6px', fontWeight: 'bold' }}>›</span>}\r\n+                                </span>\r\n+                              </Link>\r\n+\r\n+                              {sub.children && activeSubcategory === sub.name && (\r\n+                                <div \r\n+                                  className=\"position-absolute bg-white shadow d-flex flex-column\"\r\n+                                  style={{\r\n+                                    top: '0',\r\n+                                    left: '100%',\r\n+                                    padding: '8px 12px',\r\n+                                    boxShadow: '2px 2px 8px rgba(0, 0, 0, 0.12)'\r\n+                                  }}\r\n+                                >\r\n+                                  {sub.children.map((child, idx) => (\r\n+                                    <Link key={idx} href=\"/shop\" className=\"text-decoration-none\">\r\n+                                      <span style={{ padding: '4px 0', fontSize: '13px', color: '#333' }}>\r\n+                                        {child}\r\n+                                      </span>\r\n+                                    </Link>\r\n+                                  ))}\r\n+                                </div>\r\n+                              )}\r\n+                            </div>\r\n                           ))}\r\n                         </div>\r\n                       )}\r\n                     </div>\r\n                   ))}\r\n                 </div>\r\n-              )}\r\n+              </div>\r\n             </div>\r\n-          ))}\r\n+          </div>\r\n         </div>\r\n       </div>\r\n \r\n-      <style jsx>{`\r\n-        .gift-nav-container {\r\n-          display: flex;\r\n-          align-items: center;\r\n-          background: white;\r\n-          height: 80px;\r\n-          border-top: 1px solid #ddd;\r\n-          border-bottom: 1px solid #ddd;\r\n-          padding: 0 2px;\r\n-          background-color: #f0d9b3;\r\n-          flex-wrap: wrap;\r\n-        }\r\n+      {/* Tablet view - smaller icons */}\r\n+      <div className=\"d-none d-md-block d-lg-none\">\r\n+        <div className=\"container-fluid\" style={{ backgroundColor: '#f0d9b3', borderTop: '1px solid #ddd', borderBottom: '1px solid #ddd' }}>\r\n+          <div className=\"container\">\r\n+            <div className=\"row\">\r\n+              <div className=\"col-12\">\r\n+                <div className=\"d-flex justify-content-center align-items-center flex-wrap\" style={{ height: '70px', gap: '20px', padding: '10px 0' }}>\r\n+                  {giftPageCategories.map((category) => (\r\n+                    <div\r\n+                      key={category.id}\r\n+                      className=\"position-relative d-flex flex-column align-items-center justify-content-center\"\r\n+                      style={{ \r\n+                        cursor: 'pointer',\r\n+                        transition: 'transform 0.2s ease',\r\n+                        minWidth: '50px'\r\n+                      }}\r\n+                      onMouseEnter={() => handleMouseEnterCategory(category.id)}\r\n+                      onMouseLeave={handleMouseLeaveCategory}\r\n+                    >\r\n+                      <div className=\"d-flex flex-column align-items-center\" style={{ gap: '2px' }}>\r\n+                        <img\r\n+                          src={category.icon}\r\n+                          alt={category.name}\r\n+                          style={{ width: '30px', height: '30px', objectFit: 'contain' }}\r\n+                        />\r\n+                        <span style={{ \r\n+                          fontSize: '10px', \r\n+                          fontWeight: '500', \r\n+                          whiteSpace: 'nowrap', \r\n+                          color: '#333', \r\n+                          textAlign: 'center', \r\n+                          lineHeight: '1.1' \r\n+                        }}>\r\n+                          {category.name}\r\n+                        </span>\r\n+                      </div>\r\n \r\n-        .gift-category-bar {\r\n-          display: flex;\r\n-          flex: 1;\r\n-          justify-content: flex-end;\r\n-          align-items: center;\r\n-          margin-right: 15%;\r\n-          height: 60px;\r\n-          padding: 0 10px;\r\n-          gap: 40px;\r\n-          flex-wrap: wrap;\r\n-        }\r\n+                      {activeCategory === category.id && (\r\n+                        <div \r\n+                          className=\"position-absolute bg-white shadow-lg d-flex flex-column\"\r\n+                          style={{\r\n+                            top: '60px',\r\n+                            left: '0',\r\n+                            padding: '10px 15px',\r\n+                            minWidth: '200px',\r\n+                            zIndex: 1000,\r\n+                            boxShadow: '0 2px 12px rgba(0, 0, 0, 0.15)'\r\n+                          }}\r\n+                        >\r\n+                          {category.subcategories.map((sub, index) => (\r\n+                            <div\r\n+                              key={index}\r\n+                              className=\"position-relative\"\r\n+                              style={{ padding: '6px 10px', whiteSpace: 'nowrap' }}\r\n+                              onMouseEnter={() => handleMouseEnterSubcategory(sub.name)}\r\n+                              onMouseLeave={() => setActiveSubcategory(null)}\r\n+                            >\r\n+                              <Link href=\"/shop\" className=\"text-decoration-none\">\r\n+                                <span className=\"d-inline-flex align-items-center justify-content-between w-100\" style={{ fontSize: '13px', color: '#222' }}>\r\n+                                  {sub.name}\r\n+                                  {sub.children && <span style={{ marginLeft: '6px', fontWeight: 'bold' }}>›</span>}\r\n+                                </span>\r\n+                              </Link>\r\n \r\n-        .gift-category-item {\r\n-          position: relative;\r\n-          display: flex;\r\n-          flex-direction: column;\r\n-          align-items: center;\r\n-          justify-content: center;\r\n-          margin-right: 10px;\r\n-          height: 100%;\r\n-          padding: 0 5px;\r\n-          cursor: pointer;\r\n-          transition: transform 0.2s ease, box-shadow 0.2s ease;\r\n-          min-width: 60px;\r\n-        }\r\n-\r\n-        .gift-category-item:hover {\r\n-          transform: scale(1.08);\r\n-          z-index: 2;\r\n-        }\r\n-\r\n-        .gift-icon-title {\r\n-          display: flex;\r\n-          flex-direction: column;\r\n-          align-items: center;\r\n-          gap: 2px;\r\n-        }\r\n-\r\n-        .gift-icon {\r\n-          width: 40px;\r\n-          height: 40px;\r\n-          object-fit: contain;\r\n-        }\r\n-\r\n-        .gift-title {\r\n-          font-size: 11px;\r\n-          font-weight: 500;\r\n-          white-space: nowrap;\r\n-          color: #333;\r\n-          text-align: center;\r\n-          line-height: 1.1;\r\n-        }\r\n-\r\n-        .gift-subcategories {\r\n-          position: absolute;\r\n-          top: 80px;\r\n-          left: 0;\r\n-          background-color: white;\r\n-          padding: 10px 15px;\r\n-          box-shadow: 0 2px 12px rgba(0, 0, 0, 0.15);\r\n-          min-width: 200px;\r\n-          display: flex;\r\n-          flex-direction: column;\r\n-          z-index: 1000;\r\n-        }\r\n-\r\n-        .gift-subcategory-item {\r\n-          position: relative;\r\n-          padding: 6px 10px;\r\n-          white-space: nowrap;\r\n-        }\r\n-\r\n-        .gift-subcategory-text {\r\n-          font-size: 13px;\r\n-          color: #222;\r\n-          display: inline-flex;\r\n-          align-items: center;\r\n-          justify-content: space-between;\r\n-          width: 100%;\r\n-        }\r\n-\r\n-        .gift-arrow {\r\n-          margin-left: 6px;\r\n-          font-weight: bold;\r\n-        }\r\n-\r\n-        .gift-sub-subcategories {\r\n-          position: absolute;\r\n-          top: 0;\r\n-          left: 100%;\r\n-          background-color: #fff;\r\n-          box-shadow: 2px 2px 8px rgba(0, 0, 0, 0.12);\r\n-          padding: 8px 12px;\r\n-          display: flex;\r\n-          flex-direction: column;\r\n-        }\r\n-\r\n-        .gift-sub-subcategory-text {\r\n-          padding: 4px 0;\r\n-          font-size: 13px;\r\n-          color: #333;\r\n-        }\r\n-\r\n-        @media (max-width: 1024px) {\r\n-          .gift-category-bar {\r\n-            gap: 20px;\r\n-            justify-content: center;\r\n-            margin-right: 0;\r\n-            padding: 10px 0;\r\n-          }\r\n-\r\n-          .gift-title {\r\n-            font-size: 10px;\r\n-          }\r\n-\r\n-          .gift-icon {\r\n-            width: 30px;\r\n-            height: 30px;\r\n-          }\r\n-\r\n-          .gift-subcategories {\r\n-            top: 60px;\r\n-          }\r\n-        }\r\n-\r\n-        @media (max-width: 600px) {\r\n-          .gift-nav-container {\r\n-            flex-direction: column;\r\n-            height: auto;\r\n-            padding: 10px;\r\n-          }\r\n-\r\n-          .gift-category-bar {\r\n-            flex-direction: column;\r\n-            align-items: flex-start;\r\n-            gap: 12px;\r\n-            padding: 10px 0;\r\n-          }\r\n-\r\n-          .gift-category-item {\r\n-            flex-direction: row;\r\n-            gap: 8px;\r\n-            padding: 6px;\r\n-          }\r\n-\r\n-          .gift-icon-title {\r\n-            flex-direction: row;\r\n-          }\r\n-\r\n-          .gift-title {\r\n-            font-size: 12px;\r\n-          }\r\n-        }\r\n-      `}</style>\r\n+                              {sub.children && activeSubcategory === sub.name && (\r\n+                                <div \r\n+                                  className=\"position-absolute bg-white shadow d-flex flex-column\"\r\n+                                  style={{\r\n+                                    top: '0',\r\n+                                    left: '100%',\r\n+                                    padding: '8px 12px',\r\n+                                    boxShadow: '2px 2px 8px rgba(0, 0, 0, 0.12)'\r\n+                                  }}\r\n+                                >\r\n+                                  {sub.children.map((child, idx) => (\r\n+                                    <Link key={idx} href=\"/shop\" className=\"text-decoration-none\">\r\n+                                      <span style={{ padding: '4px 0', fontSize: '13px', color: '#333' }}>\r\n+                                        {child}\r\n+                                      </span>\r\n+                                    </Link>\r\n+                                  ))}\r\n+                                </div>\r\n+                              )}\r\n+                            </div>\r\n+                          ))}\r\n+                        </div>\r\n+                      )}\r\n+                    </div>\r\n+                  ))}\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n     </>\r\n   );\r\n }\r\n"
                },
                {
                    "date": 1752778209753,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,9 +31,9 @@\n         <div className=\"container-fluid\" style={{ backgroundColor: '#f0d9b3', borderTop: '1px solid #ddd', borderBottom: '1px solid #ddd' }}>\r\n           <div className=\"container\">\r\n             <div className=\"row\">\r\n               <div className=\"col-12\">\r\n-                <div className=\"d-flex justify-content-end align-items-center\" style={{ height: '80px', paddingRight: '15%' }}>\r\n+                <div className=\"d-flex justify-content-end align-items-center\" style={{ height: '80px', paddingRight: '20%' }}>\r\n                   {giftPageCategories.map((category) => (\r\n                     <div\r\n                       key={category.id}\r\n                       className=\"position-relative d-flex flex-column align-items-center justify-content-center mx-3\"\r\n"
                },
                {
                    "date": 1752778217688,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,9 +31,9 @@\n         <div className=\"container-fluid\" style={{ backgroundColor: '#f0d9b3', borderTop: '1px solid #ddd', borderBottom: '1px solid #ddd' }}>\r\n           <div className=\"container\">\r\n             <div className=\"row\">\r\n               <div className=\"col-12\">\r\n-                <div className=\"d-flex justify-content-end align-items-center\" style={{ height: '80px', paddingRight: '20%' }}>\r\n+                <div className=\"d-flex justify-content-end align-items-center\" style={{ height: '80px', paddingRight: '23%' }}>\r\n                   {giftPageCategories.map((category) => (\r\n                     <div\r\n                       key={category.id}\r\n                       className=\"position-relative d-flex flex-column align-items-center justify-content-center mx-3\"\r\n"
                },
                {
                    "date": 1753110070293,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,16 +1,70 @@\n \"use client\";\r\n \r\n import Link from \"next/link\";\r\n import { useEffect, useState } from \"react\";\r\n-import { giftPageCategories } from \"@/data/giftPageCategories\";\r\n+import { get } from \"@/util/apiService\";\r\n \r\n export default function GiftCategories() {\r\n-\r\n   const [activeCategory, setActiveCategory] = useState(null);\r\n   const [activeSubcategory, setActiveSubcategory] = useState(null);\r\n+  const [categories, setCategories] = useState([]);\r\n+  const [loading, setLoading] = useState(true);\r\n+  const [sectionVisible, setSectionVisible] = useState(true);\r\n \r\n+  // Default image for categories without images\r\n+  const defaultCategoryImage = \"/assets/img/product/category/default-category.svg\";\r\n \r\n+  // Fetch categories from admin panel/API\r\n+  useEffect(() => {\r\n+    const fetchCategories = async () => {\r\n+      try {\r\n+        setLoading(true);\r\n+        \r\n+        // First check if the section is visible\r\n+        const sectionResponse = await get('/api/pages/home/sections/giftCategories');\r\n+        if (sectionResponse?.visible === false) {\r\n+          setSectionVisible(false);\r\n+          return;\r\n+        }\r\n+        \r\n+        // Fetch categories data\r\n+        const response = await get('/api/categories');\r\n+        if (response && Array.isArray(response)) {\r\n+          // Filter only enabled categories and map to expected format\r\n+          const enabledCategories = response\r\n+            .filter(cat => cat.enabled !== false)\r\n+            .map(cat => ({\r\n+              id: cat.id || cat._id,\r\n+              name: cat.name,\r\n+              icon: cat.image || cat.icon || defaultCategoryImage,\r\n+              subcategories: cat.subcategories || []\r\n+            }));\r\n+          \r\n+          setCategories(enabledCategories);\r\n+        } else {\r\n+          // Fallback to static data if API fails\r\n+          const { giftPageCategories } = await import(\"@/data/giftPageCategories\");\r\n+          setCategories(giftPageCategories);\r\n+        }\r\n+      } catch (error) {\r\n+        console.error('Failed to fetch categories:', error);\r\n+        // Fallback to static data\r\n+        try {\r\n+          const { giftPageCategories } = await import(\"@/data/giftPageCategories\");\r\n+          setCategories(giftPageCategories);\r\n+        } catch (fallbackError) {\r\n+          console.error('Failed to load fallback data:', fallbackError);\r\n+          setCategories([]);\r\n+        }\r\n+      } finally {\r\n+        setLoading(false);\r\n+      }\r\n+    };\r\n+\r\n+    fetchCategories();\r\n+  }, []);\r\n+\r\n   const handleMouseEnterCategory = (id) => {\r\n     setActiveCategory(id);\r\n     setActiveSubcategory(null);\r\n   };\r\n@@ -23,204 +77,256 @@\n   const handleMouseEnterSubcategory = (name) => {\r\n     setActiveSubcategory(name);\r\n   };\r\n \r\n+  // Don't render if section is hidden\r\n+  if (!sectionVisible) {\r\n+    return null;\r\n+  }\r\n+\r\n   return (\r\n     <>\r\n-      {/* Hide on mobile (d-none d-lg-block) */}\r\n-      <div className=\"d-none d-lg-block\">\r\n-        <div className=\"container-fluid\" style={{ backgroundColor: '#f0d9b3', borderTop: '1px solid #ddd', borderBottom: '1px solid #ddd' }}>\r\n-          <div className=\"container\">\r\n-            <div className=\"row\">\r\n-              <div className=\"col-12\">\r\n-                <div className=\"d-flex justify-content-end align-items-center\" style={{ height: '80px', paddingRight: '23%' }}>\r\n-                  {giftPageCategories.map((category) => (\r\n-                    <div\r\n-                      key={category.id}\r\n-                      className=\"position-relative d-flex flex-column align-items-center justify-content-center mx-3\"\r\n-                      style={{ \r\n-                        height: '100%',\r\n-                        padding: '0 5px',\r\n-                        cursor: 'pointer',\r\n-                        transition: 'transform 0.2s ease',\r\n-                        minWidth: '60px'\r\n-                      }}\r\n-                      onMouseEnter={() => handleMouseEnterCategory(category.id)}\r\n-                      onMouseLeave={handleMouseLeaveCategory}\r\n-                      onMouseOver={(e) => e.currentTarget.style.transform = 'scale(1.08)'}\r\n-                      onMouseOut={(e) => e.currentTarget.style.transform = 'scale(1)'}\r\n-                    >\r\n-                      <div className=\"d-flex flex-column align-items-center\" style={{ gap: '2px' }}>\r\n-                        <img\r\n-                          src={category.icon}\r\n-                          alt={category.name}\r\n-                          style={{ width: '40px', height: '40px', objectFit: 'contain' }}\r\n-                        />\r\n-                        <span style={{ \r\n-                          fontSize: '11px', \r\n-                          fontWeight: '500', \r\n-                          whiteSpace: 'nowrap', \r\n-                          color: '#333', \r\n-                          textAlign: 'center', \r\n-                          lineHeight: '1.1' \r\n-                        }}>\r\n-                          {category.name}\r\n-                        </span>\r\n-                      </div>\r\n-\r\n-                      {activeCategory === category.id && (\r\n-                        <div \r\n-                          className=\"position-absolute bg-white shadow-lg d-flex flex-column\"\r\n-                          style={{\r\n-                            top: '80px',\r\n-                            left: '0',\r\n-                            padding: '10px 15px',\r\n-                            minWidth: '200px',\r\n-                            zIndex: 1000,\r\n-                            boxShadow: '0 2px 12px rgba(0, 0, 0, 0.15)'\r\n-                          }}\r\n-                        >\r\n-                          {category.subcategories.map((sub, index) => (\r\n-                            <div\r\n-                              key={index}\r\n-                              className=\"position-relative\"\r\n-                              style={{ padding: '6px 10px', whiteSpace: 'nowrap' }}\r\n-                              onMouseEnter={() => handleMouseEnterSubcategory(sub.name)}\r\n-                              onMouseLeave={() => setActiveSubcategory(null)}\r\n-                            >\r\n-                              <Link href=\"/shop\" className=\"text-decoration-none\">\r\n-                                <span className=\"d-inline-flex align-items-center justify-content-between w-100\" style={{ fontSize: '13px', color: '#222' }}>\r\n-                                  {sub.name}\r\n-                                  {sub.children && <span style={{ marginLeft: '6px', fontWeight: 'bold' }}>›</span>}\r\n-                                </span>\r\n-                              </Link>\r\n-\r\n-                              {sub.children && activeSubcategory === sub.name && (\r\n-                                <div \r\n-                                  className=\"position-absolute bg-white shadow d-flex flex-column\"\r\n-                                  style={{\r\n-                                    top: '0',\r\n-                                    left: '100%',\r\n-                                    padding: '8px 12px',\r\n-                                    boxShadow: '2px 2px 8px rgba(0, 0, 0, 0.12)'\r\n-                                  }}\r\n-                                >\r\n-                                  {sub.children.map((child, idx) => (\r\n-                                    <Link key={idx} href=\"/shop\" className=\"text-decoration-none\">\r\n-                                      <span style={{ padding: '4px 0', fontSize: '13px', color: '#333' }}>\r\n-                                        {child}\r\n-                                      </span>\r\n-                                    </Link>\r\n-                                  ))}\r\n-                                </div>\r\n-                              )}\r\n-                            </div>\r\n-                          ))}\r\n-                        </div>\r\n-                      )}\r\n+      {/* Loading state */}\r\n+      {loading && (\r\n+        <div className=\"d-none d-lg-block\">\r\n+          <div className=\"container-fluid\" style={{ backgroundColor: '#f0d9b3', borderTop: '1px solid #ddd', borderBottom: '1px solid #ddd' }}>\r\n+            <div className=\"container\">\r\n+              <div className=\"row\">\r\n+                <div className=\"col-12\">\r\n+                  <div className=\"d-flex justify-content-center align-items-center\" style={{ height: '80px' }}>\r\n+                    <div className=\"spinner-border text-primary\" role=\"status\">\r\n+                      <span className=\"visually-hidden\">Loading categories...</span>\r\n                     </div>\r\n-                  ))}\r\n+                  </div>\r\n                 </div>\r\n               </div>\r\n             </div>\r\n           </div>\r\n         </div>\r\n-      </div>\r\n+      )}\r\n \r\n-      {/* Tablet view - smaller icons */}\r\n-      <div className=\"d-none d-md-block d-lg-none\">\r\n-        <div className=\"container-fluid\" style={{ backgroundColor: '#f0d9b3', borderTop: '1px solid #ddd', borderBottom: '1px solid #ddd' }}>\r\n-          <div className=\"container\">\r\n-            <div className=\"row\">\r\n-              <div className=\"col-12\">\r\n-                <div className=\"d-flex justify-content-center align-items-center flex-wrap\" style={{ height: '70px', gap: '20px', padding: '10px 0' }}>\r\n-                  {giftPageCategories.map((category) => (\r\n-                    <div\r\n-                      key={category.id}\r\n-                      className=\"position-relative d-flex flex-column align-items-center justify-content-center\"\r\n-                      style={{ \r\n-                        cursor: 'pointer',\r\n-                        transition: 'transform 0.2s ease',\r\n-                        minWidth: '50px'\r\n-                      }}\r\n-                      onMouseEnter={() => handleMouseEnterCategory(category.id)}\r\n-                      onMouseLeave={handleMouseLeaveCategory}\r\n-                    >\r\n-                      <div className=\"d-flex flex-column align-items-center\" style={{ gap: '2px' }}>\r\n-                        <img\r\n-                          src={category.icon}\r\n-                          alt={category.name}\r\n-                          style={{ width: '30px', height: '30px', objectFit: 'contain' }}\r\n-                        />\r\n-                        <span style={{ \r\n-                          fontSize: '10px', \r\n-                          fontWeight: '500', \r\n-                          whiteSpace: 'nowrap', \r\n-                          color: '#333', \r\n-                          textAlign: 'center', \r\n-                          lineHeight: '1.1' \r\n-                        }}>\r\n-                          {category.name}\r\n-                        </span>\r\n+      {/* Desktop view */}\r\n+      {!loading && categories.length > 0 && (\r\n+        <div className=\"d-none d-lg-block\">\r\n+          <div className=\"container-fluid\" style={{ backgroundColor: '#f0d9b3', borderTop: '1px solid #ddd', borderBottom: '1px solid #ddd' }}>\r\n+            <div className=\"container\">\r\n+              <div className=\"row\">\r\n+                <div className=\"col-12\">\r\n+                  <div className=\"d-flex justify-content-end align-items-center\" style={{ height: '80px', paddingRight: '23%' }}>\r\n+                    {categories.map((category) => (\r\n+                      <div\r\n+                        key={category.id}\r\n+                        className=\"position-relative d-flex flex-column align-items-center justify-content-center mx-3\"\r\n+                        style={{ \r\n+                          height: '100%',\r\n+                          padding: '0 5px',\r\n+                          cursor: 'pointer',\r\n+                          transition: 'transform 0.2s ease',\r\n+                          minWidth: '60px'\r\n+                        }}\r\n+                        onMouseEnter={() => handleMouseEnterCategory(category.id)}\r\n+                        onMouseLeave={handleMouseLeaveCategory}\r\n+                        onMouseOver={(e) => e.currentTarget.style.transform = 'scale(1.08)'}\r\n+                        onMouseOut={(e) => e.currentTarget.style.transform = 'scale(1)'}\r\n+                      >\r\n+                        <div className=\"d-flex flex-column align-items-center\" style={{ gap: '2px' }}>\r\n+                          <img\r\n+                            src={category.icon}\r\n+                            alt={category.name}\r\n+                            style={{ width: '40px', height: '40px', objectFit: 'contain' }}\r\n+                            onError={(e) => {\r\n+                              e.target.src = defaultCategoryImage;\r\n+                            }}\r\n+                          />\r\n+                          <span style={{ \r\n+                            fontSize: '11px', \r\n+                            fontWeight: '500', \r\n+                            whiteSpace: 'nowrap', \r\n+                            color: '#333', \r\n+                            textAlign: 'center', \r\n+                            lineHeight: '1.1' \r\n+                          }}>\r\n+                            {category.name}\r\n+                          </span>\r\n+                        </div>\r\n+\r\n+                        {activeCategory === category.id && category.subcategories && category.subcategories.length > 0 && (\r\n+                          <div \r\n+                            className=\"position-absolute bg-white shadow-lg d-flex flex-column\"\r\n+                            style={{\r\n+                              top: '80px',\r\n+                              left: '0',\r\n+                              padding: '10px 15px',\r\n+                              minWidth: '200px',\r\n+                              zIndex: 1000,\r\n+                              boxShadow: '0 2px 12px rgba(0, 0, 0, 0.15)'\r\n+                            }}\r\n+                          >\r\n+                            {category.subcategories.map((sub, index) => (\r\n+                              <div\r\n+                                key={index}\r\n+                                className=\"position-relative\"\r\n+                                style={{ padding: '6px 10px', whiteSpace: 'nowrap' }}\r\n+                                onMouseEnter={() => handleMouseEnterSubcategory(sub.name)}\r\n+                                onMouseLeave={() => setActiveSubcategory(null)}\r\n+                              >\r\n+                                <Link href=\"/shop\" className=\"text-decoration-none\">\r\n+                                  <span className=\"d-inline-flex align-items-center justify-content-between w-100\" style={{ fontSize: '13px', color: '#222' }}>\r\n+                                    {sub.name}\r\n+                                    {sub.children && <span style={{ marginLeft: '6px', fontWeight: 'bold' }}>›</span>}\r\n+                                  </span>\r\n+                                </Link>\r\n+\r\n+                                {sub.children && activeSubcategory === sub.name && (\r\n+                                  <div \r\n+                                    className=\"position-absolute bg-white shadow d-flex flex-column\"\r\n+                                    style={{\r\n+                                      top: '0',\r\n+                                      left: '100%',\r\n+                                      padding: '8px 12px',\r\n+                                      boxShadow: '2px 2px 8px rgba(0, 0, 0, 0.12)'\r\n+                                    }}\r\n+                                  >\r\n+                                    {sub.children.map((child, idx) => (\r\n+                                      <Link key={idx} href=\"/shop\" className=\"text-decoration-none\">\r\n+                                        <span style={{ padding: '4px 0', fontSize: '13px', color: '#333' }}>\r\n+                                          {child}\r\n+                                        </span>\r\n+                                      </Link>\r\n+                                    ))}\r\n+                                  </div>\r\n+                                )}\r\n+                              </div>\r\n+                            ))}\r\n+                          </div>\r\n+                        )}\r\n                       </div>\r\n+                    ))}\r\n+                  </div>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+          </div>\r\n+        </div>\r\n+      )}\r\n \r\n-                      {activeCategory === category.id && (\r\n-                        <div \r\n-                          className=\"position-absolute bg-white shadow-lg d-flex flex-column\"\r\n-                          style={{\r\n-                            top: '60px',\r\n-                            left: '0',\r\n-                            padding: '10px 15px',\r\n-                            minWidth: '200px',\r\n-                            zIndex: 1000,\r\n-                            boxShadow: '0 2px 12px rgba(0, 0, 0, 0.15)'\r\n-                          }}\r\n-                        >\r\n-                          {category.subcategories.map((sub, index) => (\r\n-                            <div\r\n-                              key={index}\r\n-                              className=\"position-relative\"\r\n-                              style={{ padding: '6px 10px', whiteSpace: 'nowrap' }}\r\n-                              onMouseEnter={() => handleMouseEnterSubcategory(sub.name)}\r\n-                              onMouseLeave={() => setActiveSubcategory(null)}\r\n-                            >\r\n-                              <Link href=\"/shop\" className=\"text-decoration-none\">\r\n-                                <span className=\"d-inline-flex align-items-center justify-content-between w-100\" style={{ fontSize: '13px', color: '#222' }}>\r\n-                                  {sub.name}\r\n-                                  {sub.children && <span style={{ marginLeft: '6px', fontWeight: 'bold' }}>›</span>}\r\n-                                </span>\r\n-                              </Link>\r\n+      {/* Tablet view */}\r\n+      {!loading && categories.length > 0 && (\r\n+        <div className=\"d-none d-md-block d-lg-none\">\r\n+          <div className=\"container-fluid\" style={{ backgroundColor: '#f0d9b3', borderTop: '1px solid #ddd', borderBottom: '1px solid #ddd' }}>\r\n+            <div className=\"container\">\r\n+              <div className=\"row\">\r\n+                <div className=\"col-12\">\r\n+                  <div className=\"d-flex justify-content-center align-items-center flex-wrap\" style={{ height: '70px', gap: '20px', padding: '10px 0' }}>\r\n+                    {categories.map((category) => (\r\n+                      <div\r\n+                        key={category.id}\r\n+                        className=\"position-relative d-flex flex-column align-items-center justify-content-center\"\r\n+                        style={{ \r\n+                          cursor: 'pointer',\r\n+                          transition: 'transform 0.2s ease',\r\n+                          minWidth: '50px'\r\n+                        }}\r\n+                        onMouseEnter={() => handleMouseEnterCategory(category.id)}\r\n+                        onMouseLeave={handleMouseLeaveCategory}\r\n+                      >\r\n+                        <div className=\"d-flex flex-column align-items-center\" style={{ gap: '2px' }}>\r\n+                          <img\r\n+                            src={category.icon}\r\n+                            alt={category.name}\r\n+                            style={{ width: '30px', height: '30px', objectFit: 'contain' }}\r\n+                            onError={(e) => {\r\n+                              e.target.src = defaultCategoryImage;\r\n+                            }}\r\n+                          />\r\n+                          <span style={{ \r\n+                            fontSize: '10px', \r\n+                            fontWeight: '500', \r\n+                            whiteSpace: 'nowrap', \r\n+                            color: '#333', \r\n+                            textAlign: 'center', \r\n+                            lineHeight: '1.1' \r\n+                          }}>\r\n+                            {category.name}\r\n+                          </span>\r\n+                        </div>\r\n \r\n-                              {sub.children && activeSubcategory === sub.name && (\r\n-                                <div \r\n-                                  className=\"position-absolute bg-white shadow d-flex flex-column\"\r\n-                                  style={{\r\n-                                    top: '0',\r\n-                                    left: '100%',\r\n-                                    padding: '8px 12px',\r\n-                                    boxShadow: '2px 2px 8px rgba(0, 0, 0, 0.12)'\r\n-                                  }}\r\n-                                >\r\n-                                  {sub.children.map((child, idx) => (\r\n-                                    <Link key={idx} href=\"/shop\" className=\"text-decoration-none\">\r\n-                                      <span style={{ padding: '4px 0', fontSize: '13px', color: '#333' }}>\r\n-                                        {child}\r\n-                                      </span>\r\n-                                    </Link>\r\n-                                  ))}\r\n-                                </div>\r\n-                              )}\r\n-                            </div>\r\n-                          ))}\r\n-                        </div>\r\n-                      )}\r\n-                    </div>\r\n-                  ))}\r\n+                        {activeCategory === category.id && category.subcategories && category.subcategories.length > 0 && (\r\n+                          <div \r\n+                            className=\"position-absolute bg-white shadow-lg d-flex flex-column\"\r\n+                            style={{\r\n+                              top: '60px',\r\n+                              left: '0',\r\n+                              padding: '10px 15px',\r\n+                              minWidth: '200px',\r\n+                              zIndex: 1000,\r\n+                              boxShadow: '0 2px 12px rgba(0, 0, 0, 0.15)'\r\n+                            }}\r\n+                          >\r\n+                            {category.subcategories.map((sub, index) => (\r\n+                              <div\r\n+                                key={index}\r\n+                                className=\"position-relative\"\r\n+                                style={{ padding: '6px 10px', whiteSpace: 'nowrap' }}\r\n+                                onMouseEnter={() => handleMouseEnterSubcategory(sub.name)}\r\n+                                onMouseLeave={() => setActiveSubcategory(null)}\r\n+                              >\r\n+                                <Link href=\"/shop\" className=\"text-decoration-none\">\r\n+                                  <span className=\"d-inline-flex align-items-center justify-content-between w-100\" style={{ fontSize: '13px', color: '#222' }}>\r\n+                                    {sub.name}\r\n+                                    {sub.children && <span style={{ marginLeft: '6px', fontWeight: 'bold' }}>›</span>}\r\n+                                  </span>\r\n+                                </Link>\r\n+\r\n+                                {sub.children && activeSubcategory === sub.name && (\r\n+                                  <div \r\n+                                    className=\"position-absolute bg-white shadow d-flex flex-column\"\r\n+                                    style={{\r\n+                                      top: '0',\r\n+                                      left: '100%',\r\n+                                      padding: '8px 12px',\r\n+                                      boxShadow: '2px 2px 8px rgba(0, 0, 0, 0.12)'\r\n+                                    }}\r\n+                                  >\r\n+                                    {sub.children.map((child, idx) => (\r\n+                                      <Link key={idx} href=\"/shop\" className=\"text-decoration-none\">\r\n+                                        <span style={{ padding: '4px 0', fontSize: '13px', color: '#333' }}>\r\n+                                          {child}\r\n+                                        </span>\r\n+                                      </Link>\r\n+                                    ))}\r\n+                                  </div>\r\n+                                )}\r\n+                              </div>\r\n+                            ))}\r\n+                          </div>\r\n+                        )}\r\n+                      </div>\r\n+                    ))}\r\n+                  </div>\r\n                 </div>\r\n               </div>\r\n             </div>\r\n           </div>\r\n         </div>\r\n-      </div>\r\n+      )}\r\n+\r\n+      {/* Empty state */}\r\n+      {!loading && categories.length === 0 && (\r\n+        <div className=\"d-none d-lg-block\">\r\n+          <div className=\"container-fluid\" style={{ backgroundColor: '#f0d9b3', borderTop: '1px solid #ddd', borderBottom: '1px solid #ddd' }}>\r\n+            <div className=\"container\">\r\n+              <div className=\"row\">\r\n+                <div className=\"col-12\">\r\n+                  <div className=\"d-flex justify-content-center align-items-center\" style={{ height: '80px' }}>\r\n+                    <span className=\"text-muted\">No categories available</span>\r\n+                  </div>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+          </div>\r\n+        </div>\r\n+      )}\r\n     </>\r\n   );\r\n }\r\n+\r\n"
                },
                {
                    "date": 1753113503373,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -19,31 +19,65 @@\n     const fetchCategories = async () => {\r\n       try {\r\n         setLoading(true);\r\n         \r\n-        // First check if the section is visible\r\n-        const sectionResponse = await get('/api/pages/home/sections/giftCategories');\r\n-        if (sectionResponse?.visible === false) {\r\n-          setSectionVisible(false);\r\n-          return;\r\n-        }\r\n+        // Fetch page configuration for home page\r\n+        const pageConfigResponse = await get('/api/pages/home');\r\n         \r\n-        // Fetch categories data\r\n-        const response = await get('/api/categories');\r\n-        if (response && Array.isArray(response)) {\r\n-          // Filter only enabled categories and map to expected format\r\n-          const enabledCategories = response\r\n-            .filter(cat => cat.enabled !== false)\r\n-            .map(cat => ({\r\n-              id: cat.id || cat._id,\r\n-              name: cat.name,\r\n-              icon: cat.image || cat.icon || defaultCategoryImage,\r\n-              subcategories: cat.subcategories || []\r\n-            }));\r\n+        if (pageConfigResponse) {\r\n+          // Find the category section\r\n+          const categorySection = pageConfigResponse.sections.find(\r\n+            section => section.sectionType === 'categorySection'\r\n+          );\r\n           \r\n-          setCategories(enabledCategories);\r\n+          if (!categorySection || !categorySection.enabled) {\r\n+            setSectionVisible(false);\r\n+            return;\r\n+          }\r\n+          \r\n+          setSectionVisible(true);\r\n+          \r\n+          // Get all available categories\r\n+          const categoriesResponse = await get('/api/categories');\r\n+          console.log('Raw categories from API:', categoriesResponse);\r\n+          \r\n+          if (categorySection.config?.categories && categoriesResponse) {\r\n+            // Map configured categories with actual category data\r\n+            const configuredCategories = categorySection.config.categories\r\n+              .filter(configCat => configCat.enabled)\r\n+              .map(configCat => {\r\n+                const actualCategory = categoriesResponse.find(cat => \r\n+                  (cat.id && cat.id === configCat.categoryId) || \r\n+                  (cat._id && cat._id.toString() === configCat.categoryId)\r\n+                );\r\n+                return actualCategory ? {\r\n+                  id: actualCategory.id || actualCategory._id,\r\n+                  name: actualCategory.name,\r\n+                  icon: actualCategory.image?.url || actualCategory.image || defaultCategoryImage,\r\n+                  subcategories: actualCategory.subcategories || [],\r\n+                  order: configCat.order || 0\r\n+                } : null;\r\n+              })\r\n+              .filter(cat => cat !== null) // Remove null entries\r\n+              .sort((a, b) => a.order - b.order)\r\n+              .slice(0, categorySection.config?.maxCategories || 6); // Respect max categories limit\r\n+            \r\n+            setCategories(configuredCategories);\r\n+          } else if (categoriesResponse) {\r\n+            // Fallback: show all available categories if no configuration exists\r\n+            const allCategories = categoriesResponse\r\n+              .slice(0, categorySection.config?.maxCategories || 6)\r\n+              .map(cat => ({\r\n+                id: cat.id || cat._id,\r\n+                name: cat.name,\r\n+                icon: cat.image?.url || cat.image || defaultCategoryImage,\r\n+                subcategories: cat.subcategories || []\r\n+              }));\r\n+            \r\n+            setCategories(allCategories);\r\n+          }\r\n         } else {\r\n-          // Fallback to static data if API fails\r\n+          // Fallback to static data if page config API fails\r\n           const { giftPageCategories } = await import(\"@/data/giftPageCategories\");\r\n           setCategories(giftPageCategories);\r\n         }\r\n       } catch (error) {\r\n"
                },
                {
                    "date": 1753126463799,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -19,67 +19,41 @@\n     const fetchCategories = async () => {\r\n       try {\r\n         setLoading(true);\r\n         \r\n-        // Fetch page configuration for home page\r\n-        const pageConfigResponse = await get('/api/pages/home');\r\n+        // Fetch categories for display based on page configuration\r\n+        const response = await get('/api/pages/home/categories');\r\n         \r\n-        if (pageConfigResponse) {\r\n-          // Find the category section\r\n-          const categorySection = pageConfigResponse.sections.find(\r\n-            section => section.sectionType === 'categorySection'\r\n-          );\r\n+        if (response.success) {\r\n+          setSectionVisible(response.data.enabled);\r\n           \r\n-          if (!categorySection || !categorySection.enabled) {\r\n-            setSectionVisible(false);\r\n-            return;\r\n+          if (response.data.enabled && response.data.categories) {\r\n+            // Transform categories for display\r\n+            const transformedCategories = response.data.categories.map(cat => ({\r\n+              id: cat.id,\r\n+              name: cat.name,\r\n+              icon: cat.image || defaultCategoryImage,\r\n+              subcategories: []\r\n+            }));\r\n+            \r\n+            setCategories(transformedCategories);\r\n+          } else {\r\n+            setCategories([]);\r\n           }\r\n-          \r\n-          setSectionVisible(true);\r\n-          \r\n-          // Get all available categories\r\n+        } else {\r\n+          // Fallback to all categories\r\n           const categoriesResponse = await get('/api/categories');\r\n-          console.log('Raw categories from API:', categoriesResponse);\r\n-          \r\n-          if (categorySection.config?.categories && categoriesResponse) {\r\n-            // Map configured categories with actual category data\r\n-            const configuredCategories = categorySection.config.categories\r\n-              .filter(configCat => configCat.enabled)\r\n-              .map(configCat => {\r\n-                const actualCategory = categoriesResponse.find(cat => \r\n-                  (cat.id && cat.id === configCat.categoryId) || \r\n-                  (cat._id && cat._id.toString() === configCat.categoryId)\r\n-                );\r\n-                return actualCategory ? {\r\n-                  id: actualCategory.id || actualCategory._id,\r\n-                  name: actualCategory.name,\r\n-                  icon: actualCategory.image?.url || actualCategory.image || defaultCategoryImage,\r\n-                  subcategories: actualCategory.subcategories || [],\r\n-                  order: configCat.order || 0\r\n-                } : null;\r\n-              })\r\n-              .filter(cat => cat !== null) // Remove null entries\r\n-              .sort((a, b) => a.order - b.order)\r\n-              .slice(0, categorySection.config?.maxCategories || 6); // Respect max categories limit\r\n-            \r\n-            setCategories(configuredCategories);\r\n-          } else if (categoriesResponse) {\r\n-            // Fallback: show all available categories if no configuration exists\r\n-            const allCategories = categoriesResponse\r\n-              .slice(0, categorySection.config?.maxCategories || 6)\r\n+          if (categoriesResponse.success) {\r\n+            const transformedCategories = categoriesResponse.data\r\n+              .slice(0, 6) // Default limit\r\n               .map(cat => ({\r\n-                id: cat.id || cat._id,\r\n+                id: cat.id,\r\n                 name: cat.name,\r\n-                icon: cat.image?.url || cat.image || defaultCategoryImage,\r\n-                subcategories: cat.subcategories || []\r\n+                icon: cat.image || defaultCategoryImage,\r\n+                subcategories: []\r\n               }));\r\n-            \r\n-            setCategories(allCategories);\r\n+            setCategories(transformedCategories);\r\n           }\r\n-        } else {\r\n-          // Fallback to static data if page config API fails\r\n-          const { giftPageCategories } = await import(\"@/data/giftPageCategories\");\r\n-          setCategories(giftPageCategories);\r\n         }\r\n       } catch (error) {\r\n         console.error('Failed to fetch categories:', error);\r\n         // Fallback to static data\r\n"
                },
                {
                    "date": 1753162069695,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -9,8 +9,9 @@\n   const [activeSubcategory, setActiveSubcategory] = useState(null);\r\n   const [categories, setCategories] = useState([]);\r\n   const [loading, setLoading] = useState(true);\r\n   const [sectionVisible, setSectionVisible] = useState(true);\r\n+  const [config, setConfig] = useState({});\r\n \r\n   // Default image for categories without images\r\n   const defaultCategoryImage = \"/assets/img/product/category/default-category.svg\";\r\n \r\n@@ -24,19 +25,12 @@\n         const response = await get('/api/pages/home/categories');\r\n         \r\n         if (response.success) {\r\n           setSectionVisible(response.data.enabled);\r\n+          setConfig(response.data.config || {});\r\n           \r\n           if (response.data.enabled && response.data.categories) {\r\n-            // Transform categories for display\r\n-            const transformedCategories = response.data.categories.map(cat => ({\r\n-              id: cat.id,\r\n-              name: cat.name,\r\n-              icon: cat.image || defaultCategoryImage,\r\n-              subcategories: []\r\n-            }));\r\n-            \r\n-            setCategories(transformedCategories);\r\n+            setCategories(response.data.categories);\r\n           } else {\r\n             setCategories([]);\r\n           }\r\n         } else {\r\n@@ -69,10 +63,23 @@\n       }\r\n     };\r\n \r\n     fetchCategories();\r\n+    \r\n+    // Optional: Set up polling for real-time updates\r\n+    const interval = setInterval(fetchCategories, 30000); // Check every 30 seconds\r\n+    return () => clearInterval(interval);\r\n   }, []);\r\n \r\n+  // Calculate dynamic spacing based on number of categories\r\n+  const getSpacing = () => {\r\n+    const categoryCount = categories.length;\r\n+    if (categoryCount <= 3) return 'mx-4';\r\n+    if (categoryCount <= 4) return 'mx-3';\r\n+    if (categoryCount <= 6) return 'mx-2';\r\n+    return 'mx-1';\r\n+  };\r\n+\r\n   const handleMouseEnterCategory = (id) => {\r\n     setActiveCategory(id);\r\n     setActiveSubcategory(null);\r\n   };\r\n@@ -111,20 +118,20 @@\n           </div>\r\n         </div>\r\n       )}\r\n \r\n-      {/* Desktop view */}\r\n+      {/* Desktop view with dynamic spacing */}\r\n       {!loading && categories.length > 0 && (\r\n         <div className=\"d-none d-lg-block\">\r\n           <div className=\"container-fluid\" style={{ backgroundColor: '#f0d9b3', borderTop: '1px solid #ddd', borderBottom: '1px solid #ddd' }}>\r\n             <div className=\"container\">\r\n               <div className=\"row\">\r\n                 <div className=\"col-12\">\r\n-                  <div className=\"d-flex justify-content-end align-items-center\" style={{ height: '80px', paddingRight: '23%' }}>\r\n+                  <div className=\"d-flex justify-content-center align-items-center\" style={{ height: '80px' }}>\r\n                     {categories.map((category) => (\r\n                       <div\r\n                         key={category.id}\r\n-                        className=\"position-relative d-flex flex-column align-items-center justify-content-center mx-3\"\r\n+                        className={`position-relative d-flex flex-column align-items-center justify-content-center ${getSpacing()}`}\r\n                         style={{ \r\n                           height: '100%',\r\n                           padding: '0 5px',\r\n                           cursor: 'pointer',\r\n@@ -156,9 +163,10 @@\n                             {category.name}\r\n                           </span>\r\n                         </div>\r\n \r\n-                        {activeCategory === category.id && category.subcategories && category.subcategories.length > 0 && (\r\n+                        {/* Show subcategories only if enabled in config */}\r\n+                        {config.showSubcategories && activeCategory === category.id && category.subcategories && category.subcategories.length > 0 && (\r\n                           <div \r\n                             className=\"position-absolute bg-white shadow-lg d-flex flex-column\"\r\n                             style={{\r\n                               top: '80px',\r\n@@ -176,9 +184,9 @@\n                                 style={{ padding: '6px 10px', whiteSpace: 'nowrap' }}\r\n                                 onMouseEnter={() => handleMouseEnterSubcategory(sub.name)}\r\n                                 onMouseLeave={() => setActiveSubcategory(null)}\r\n                               >\r\n-                                <Link href=\"/shop\" className=\"text-decoration-none\">\r\n+                                <Link href={`/shop?category=${category.id}&subcategory=${encodeURIComponent(sub.name)}`} className=\"text-decoration-none\">\r\n                                   <span className=\"d-inline-flex align-items-center justify-content-between w-100\" style={{ fontSize: '13px', color: '#222' }}>\r\n                                     {sub.name}\r\n                                     {sub.children && <span style={{ marginLeft: '6px', fontWeight: 'bold' }}>›</span>}\r\n                                   </span>\r\n@@ -194,9 +202,9 @@\n                                       boxShadow: '2px 2px 8px rgba(0, 0, 0, 0.12)'\r\n                                     }}\r\n                                   >\r\n                                     {sub.children.map((child, idx) => (\r\n-                                      <Link key={idx} href=\"/shop\" className=\"text-decoration-none\">\r\n+                                      <Link key={idx} href={`/shop?category=${category.id}&subcategory=${encodeURIComponent(sub.name)}&child=${encodeURIComponent(child)}`} className=\"text-decoration-none\">\r\n                                         <span style={{ padding: '4px 0', fontSize: '13px', color: '#333' }}>\r\n                                           {child}\r\n                                         </span>\r\n                                       </Link>\r\n@@ -216,16 +224,16 @@\n           </div>\r\n         </div>\r\n       )}\r\n \r\n-      {/* Tablet view */}\r\n+      {/* Tablet view with dynamic spacing */}\r\n       {!loading && categories.length > 0 && (\r\n         <div className=\"d-none d-md-block d-lg-none\">\r\n           <div className=\"container-fluid\" style={{ backgroundColor: '#f0d9b3', borderTop: '1px solid #ddd', borderBottom: '1px solid #ddd' }}>\r\n             <div className=\"container\">\r\n               <div className=\"row\">\r\n                 <div className=\"col-12\">\r\n-                  <div className=\"d-flex justify-content-center align-items-center flex-wrap\" style={{ height: '70px', gap: '20px', padding: '10px 0' }}>\r\n+                  <div className=\"d-flex justify-content-center align-items-center flex-wrap\" style={{ height: '70px', gap: '15px', padding: '10px 0' }}>\r\n                     {categories.map((category) => (\r\n                       <div\r\n                         key={category.id}\r\n                         className=\"position-relative d-flex flex-column align-items-center justify-content-center\"\r\n@@ -257,9 +265,10 @@\n                             {category.name}\r\n                           </span>\r\n                         </div>\r\n \r\n-                        {activeCategory === category.id && category.subcategories && category.subcategories.length > 0 && (\r\n+                        {/* Show subcategories only if enabled in config */}\r\n+                        {config.showSubcategories && activeCategory === category.id && category.subcategories && category.subcategories.length > 0 && (\r\n                           <div \r\n                             className=\"position-absolute bg-white shadow-lg d-flex flex-column\"\r\n                             style={{\r\n                               top: '60px',\r\n@@ -277,9 +286,9 @@\n                                 style={{ padding: '6px 10px', whiteSpace: 'nowrap' }}\r\n                                 onMouseEnter={() => handleMouseEnterSubcategory(sub.name)}\r\n                                 onMouseLeave={() => setActiveSubcategory(null)}\r\n                               >\r\n-                                <Link href=\"/shop\" className=\"text-decoration-none\">\r\n+                                <Link href={`/shop?category=${category.id}&subcategory=${encodeURIComponent(sub.name)}`} className=\"text-decoration-none\">\r\n                                   <span className=\"d-inline-flex align-items-center justify-content-between w-100\" style={{ fontSize: '13px', color: '#222' }}>\r\n                                     {sub.name}\r\n                                     {sub.children && <span style={{ marginLeft: '6px', fontWeight: 'bold' }}>›</span>}\r\n                                   </span>\r\n@@ -295,9 +304,9 @@\n                                       boxShadow: '2px 2px 8px rgba(0, 0, 0, 0.12)'\r\n                                     }}\r\n                                   >\r\n                                     {sub.children.map((child, idx) => (\r\n-                                      <Link key={idx} href=\"/shop\" className=\"text-decoration-none\">\r\n+                                      <Link key={idx} href={`/shop?category=${category.id}&subcategory=${encodeURIComponent(sub.name)}&child=${encodeURIComponent(child)}`} className=\"text-decoration-none\">\r\n                                         <span style={{ padding: '4px 0', fontSize: '13px', color: '#333' }}>\r\n                                           {child}\r\n                                         </span>\r\n                                       </Link>\r\n"
                },
                {
                    "date": 1753210570069,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,83 +1,29 @@\n \"use client\";\r\n \r\n import Link from \"next/link\";\r\n import { useEffect, useState } from \"react\";\r\n-import { get } from \"@/util/apiService\";\r\n+import { giftPageCategories } from \"@/data/giftPageCategories\";\r\n \r\n export default function GiftCategories() {\r\n   const [activeCategory, setActiveCategory] = useState(null);\r\n   const [activeSubcategory, setActiveSubcategory] = useState(null);\r\n   const [categories, setCategories] = useState([]);\r\n   const [loading, setLoading] = useState(true);\r\n-  const [sectionVisible, setSectionVisible] = useState(true);\r\n-  const [config, setConfig] = useState({});\r\n \r\n-  // Default image for categories without images\r\n-  const defaultCategoryImage = \"/assets/img/product/category/default-category.svg\";\r\n-\r\n-  // Fetch categories from admin panel/API\r\n   useEffect(() => {\r\n-    const fetchCategories = async () => {\r\n-      try {\r\n-        setLoading(true);\r\n-        \r\n-        // Fetch categories for display based on page configuration\r\n-        const response = await get('/api/pages/home/categories');\r\n-        \r\n-        if (response.success) {\r\n-          setSectionVisible(response.data.enabled);\r\n-          setConfig(response.data.config || {});\r\n-          \r\n-          if (response.data.enabled && response.data.categories) {\r\n-            setCategories(response.data.categories);\r\n-          } else {\r\n-            setCategories([]);\r\n-          }\r\n-        } else {\r\n-          // Fallback to all categories\r\n-          const categoriesResponse = await get('/api/categories');\r\n-          if (categoriesResponse.success) {\r\n-            const transformedCategories = categoriesResponse.data\r\n-              .slice(0, 6) // Default limit\r\n-              .map(cat => ({\r\n-                id: cat.id,\r\n-                name: cat.name,\r\n-                icon: cat.image || defaultCategoryImage,\r\n-                subcategories: []\r\n-              }));\r\n-            setCategories(transformedCategories);\r\n-          }\r\n-        }\r\n-      } catch (error) {\r\n-        console.error('Failed to fetch categories:', error);\r\n-        // Fallback to static data\r\n-        try {\r\n-          const { giftPageCategories } = await import(\"@/data/giftPageCategories\");\r\n-          setCategories(giftPageCategories);\r\n-        } catch (fallbackError) {\r\n-          console.error('Failed to load fallback data:', fallbackError);\r\n-          setCategories([]);\r\n-        }\r\n-      } finally {\r\n-        setLoading(false);\r\n-      }\r\n-    };\r\n-\r\n-    fetchCategories();\r\n-    \r\n-    // Optional: Set up polling for real-time updates\r\n-    const interval = setInterval(fetchCategories, 30000); // Check every 30 seconds\r\n-    return () => clearInterval(interval);\r\n+    // Load static categories\r\n+    setCategories(giftPageCategories);\r\n+    setLoading(false);\r\n   }, []);\r\n \r\n   // Calculate dynamic spacing based on number of categories\r\n   const getSpacing = () => {\r\n     const categoryCount = categories.length;\r\n     if (categoryCount <= 3) return 'mx-4';\r\n-    if (categoryCount <= 4) return 'mx-3';\r\n-    if (categoryCount <= 6) return 'mx-2';\r\n-    return 'mx-1';\r\n+    else if (categoryCount <= 4) return 'mx-3';\r\n+    else if (categoryCount <= 6) return 'mx-2';\r\n+    else return 'mx-1';\r\n   };\r\n \r\n   const handleMouseEnterCategory = (id) => {\r\n     setActiveCategory(id);\r\n@@ -92,13 +38,8 @@\n   const handleMouseEnterSubcategory = (name) => {\r\n     setActiveSubcategory(name);\r\n   };\r\n \r\n-  // Don't render if section is hidden\r\n-  if (!sectionVisible) {\r\n-    return null;\r\n-  }\r\n-\r\n   return (\r\n     <>\r\n       {/* Loading state */}\r\n       {loading && (\r\n@@ -147,11 +88,8 @@\n                           <img\r\n                             src={category.icon}\r\n                             alt={category.name}\r\n                             style={{ width: '40px', height: '40px', objectFit: 'contain' }}\r\n-                            onError={(e) => {\r\n-                              e.target.src = defaultCategoryImage;\r\n-                            }}\r\n                           />\r\n                           <span style={{ \r\n                             fontSize: '11px', \r\n                             fontWeight: '500', \r\n@@ -163,10 +101,10 @@\n                             {category.name}\r\n                           </span>\r\n                         </div>\r\n \r\n-                        {/* Show subcategories only if enabled in config */}\r\n-                        {config.showSubcategories && activeCategory === category.id && category.subcategories && category.subcategories.length > 0 && (\r\n+                        {/* Subcategories dropdown */}\r\n+                        {activeCategory === category.id && category.subcategories && category.subcategories.length > 0 && (\r\n                           <div \r\n                             className=\"position-absolute bg-white shadow-lg d-flex flex-column\"\r\n                             style={{\r\n                               top: '80px',\r\n@@ -224,9 +162,9 @@\n           </div>\r\n         </div>\r\n       )}\r\n \r\n-      {/* Tablet view with dynamic spacing */}\r\n+      {/* Tablet view */}\r\n       {!loading && categories.length > 0 && (\r\n         <div className=\"d-none d-md-block d-lg-none\">\r\n           <div className=\"container-fluid\" style={{ backgroundColor: '#f0d9b3', borderTop: '1px solid #ddd', borderBottom: '1px solid #ddd' }}>\r\n             <div className=\"container\">\r\n@@ -249,11 +187,8 @@\n                           <img\r\n                             src={category.icon}\r\n                             alt={category.name}\r\n                             style={{ width: '30px', height: '30px', objectFit: 'contain' }}\r\n-                            onError={(e) => {\r\n-                              e.target.src = defaultCategoryImage;\r\n-                            }}\r\n                           />\r\n                           <span style={{ \r\n                             fontSize: '10px', \r\n                             fontWeight: '500', \r\n@@ -264,60 +199,8 @@\n                           }}>\r\n                             {category.name}\r\n                           </span>\r\n                         </div>\r\n-\r\n-                        {/* Show subcategories only if enabled in config */}\r\n-                        {config.showSubcategories && activeCategory === category.id && category.subcategories && category.subcategories.length > 0 && (\r\n-                          <div \r\n-                            className=\"position-absolute bg-white shadow-lg d-flex flex-column\"\r\n-                            style={{\r\n-                              top: '60px',\r\n-                              left: '0',\r\n-                              padding: '10px 15px',\r\n-                              minWidth: '200px',\r\n-                              zIndex: 1000,\r\n-                              boxShadow: '0 2px 12px rgba(0, 0, 0, 0.15)'\r\n-                            }}\r\n-                          >\r\n-                            {category.subcategories.map((sub, index) => (\r\n-                              <div\r\n-                                key={index}\r\n-                                className=\"position-relative\"\r\n-                                style={{ padding: '6px 10px', whiteSpace: 'nowrap' }}\r\n-                                onMouseEnter={() => handleMouseEnterSubcategory(sub.name)}\r\n-                                onMouseLeave={() => setActiveSubcategory(null)}\r\n-                              >\r\n-                                <Link href={`/shop?category=${category.id}&subcategory=${encodeURIComponent(sub.name)}`} className=\"text-decoration-none\">\r\n-                                  <span className=\"d-inline-flex align-items-center justify-content-between w-100\" style={{ fontSize: '13px', color: '#222' }}>\r\n-                                    {sub.name}\r\n-                                    {sub.children && <span style={{ marginLeft: '6px', fontWeight: 'bold' }}>›</span>}\r\n-                                  </span>\r\n-                                </Link>\r\n-\r\n-                                {sub.children && activeSubcategory === sub.name && (\r\n-                                  <div \r\n-                                    className=\"position-absolute bg-white shadow d-flex flex-column\"\r\n-                                    style={{\r\n-                                      top: '0',\r\n-                                      left: '100%',\r\n-                                      padding: '8px 12px',\r\n-                                      boxShadow: '2px 2px 8px rgba(0, 0, 0, 0.12)'\r\n-                                    }}\r\n-                                  >\r\n-                                    {sub.children.map((child, idx) => (\r\n-                                      <Link key={idx} href={`/shop?category=${category.id}&subcategory=${encodeURIComponent(sub.name)}&child=${encodeURIComponent(child)}`} className=\"text-decoration-none\">\r\n-                                        <span style={{ padding: '4px 0', fontSize: '13px', color: '#333' }}>\r\n-                                          {child}\r\n-                                        </span>\r\n-                                      </Link>\r\n-                                    ))}\r\n-                                  </div>\r\n-                                )}\r\n-                              </div>\r\n-                            ))}\r\n-                          </div>\r\n-                        )}\r\n                       </div>\r\n                     ))}\r\n                   </div>\r\n                 </div>\r\n"
                },
                {
                    "date": 1753211601434,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,4 +1,7 @@\n+console.log('🚨 === GIFT CATEGORIES FILE LOADED ===')\r\n+\r\n+\r\n \"use client\";\r\n \r\n import Link from \"next/link\";\r\n import { useEffect, useState } from \"react\";\r\n"
                },
                {
                    "date": 1753211632092,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,4 @@\n-console.log('🚨 === GIFT CATEGORIES FILE LOADED ===')\r\n \r\n \r\n \"use client\";\r\n \r\n"
                },
                {
                    "date": 1753211659028,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,235 @@\n+console.log('🚨 === GIFT CATEGORIES FILE LOADED ===')\r\n+\r\n+\r\n+\"use client\";\r\n+\r\n+import Link from \"next/link\";\r\n+import { useEffect, useState } from \"react\";\r\n+import { giftPageCategories } from \"@/data/giftPageCategories\";\r\n+\r\n+export default function GiftCategories() {\r\n+  const [activeCategory, setActiveCategory] = useState(null);\r\n+  const [activeSubcategory, setActiveSubcategory] = useState(null);\r\n+  const [categories, setCategories] = useState([]);\r\n+  const [loading, setLoading] = useState(true);\r\n+\r\n+  useEffect(() => {\r\n+    // Load static categories\r\n+    setCategories(giftPageCategories);\r\n+    setLoading(false);\r\n+  }, []);\r\n+\r\n+  // Calculate dynamic spacing based on number of categories\r\n+  const getSpacing = () => {\r\n+    const categoryCount = categories.length;\r\n+    if (categoryCount <= 3) return 'mx-4';\r\n+    else if (categoryCount <= 4) return 'mx-3';\r\n+    else if (categoryCount <= 6) return 'mx-2';\r\n+    else return 'mx-1';\r\n+  };\r\n+\r\n+  const handleMouseEnterCategory = (id) => {\r\n+    setActiveCategory(id);\r\n+    setActiveSubcategory(null);\r\n+  };\r\n+\r\n+  const handleMouseLeaveCategory = () => {\r\n+    setActiveCategory(null);\r\n+    setActiveSubcategory(null);\r\n+  };\r\n+\r\n+  const handleMouseEnterSubcategory = (name) => {\r\n+    setActiveSubcategory(name);\r\n+  };\r\n+\r\n+  return (\r\n+    <>\r\n+      {/* Loading state */}\r\n+      {loading && (\r\n+        <div className=\"d-none d-lg-block\">\r\n+          <div className=\"container-fluid\" style={{ backgroundColor: '#f0d9b3', borderTop: '1px solid #ddd', borderBottom: '1px solid #ddd' }}>\r\n+            <div className=\"container\">\r\n+              <div className=\"row\">\r\n+                <div className=\"col-12\">\r\n+                  <div className=\"d-flex justify-content-center align-items-center\" style={{ height: '80px' }}>\r\n+                    <div className=\"spinner-border text-primary\" role=\"status\">\r\n+                      <span className=\"visually-hidden\">Loading categories...</span>\r\n+                    </div>\r\n+                  </div>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+          </div>\r\n+        </div>\r\n+      )}\r\n+\r\n+      {/* Desktop view with dynamic spacing */}\r\n+      {!loading && categories.length > 0 && (\r\n+        <div className=\"d-none d-lg-block\">\r\n+          <div className=\"container-fluid\" style={{ backgroundColor: '#f0d9b3', borderTop: '1px solid #ddd', borderBottom: '1px solid #ddd' }}>\r\n+            <div className=\"container\">\r\n+              <div className=\"row\">\r\n+                <div className=\"col-12\">\r\n+                  <div className=\"d-flex justify-content-center align-items-center\" style={{ height: '80px' }}>\r\n+                    {categories.map((category) => (\r\n+                      <div\r\n+                        key={category.id}\r\n+                        className={`position-relative d-flex flex-column align-items-center justify-content-center ${getSpacing()}`}\r\n+                        style={{ \r\n+                          height: '100%',\r\n+                          padding: '0 5px',\r\n+                          cursor: 'pointer',\r\n+                          transition: 'transform 0.2s ease',\r\n+                          minWidth: '60px'\r\n+                        }}\r\n+                        onMouseEnter={() => handleMouseEnterCategory(category.id)}\r\n+                        onMouseLeave={handleMouseLeaveCategory}\r\n+                        onMouseOver={(e) => e.currentTarget.style.transform = 'scale(1.08)'}\r\n+                        onMouseOut={(e) => e.currentTarget.style.transform = 'scale(1)'}\r\n+                      >\r\n+                        <div className=\"d-flex flex-column align-items-center\" style={{ gap: '2px' }}>\r\n+                          <img\r\n+                            src={category.icon}\r\n+                            alt={category.name}\r\n+                            style={{ width: '40px', height: '40px', objectFit: 'contain' }}\r\n+                          />\r\n+                          <span style={{ \r\n+                            fontSize: '11px', \r\n+                            fontWeight: '500', \r\n+                            whiteSpace: 'nowrap', \r\n+                            color: '#333', \r\n+                            textAlign: 'center', \r\n+                            lineHeight: '1.1' \r\n+                          }}>\r\n+                            {category.name}\r\n+                          </span>\r\n+                        </div>\r\n+\r\n+                        {/* Subcategories dropdown */}\r\n+                        {activeCategory === category.id && category.subcategories && category.subcategories.length > 0 && (\r\n+                          <div \r\n+                            className=\"position-absolute bg-white shadow-lg d-flex flex-column\"\r\n+                            style={{\r\n+                              top: '80px',\r\n+                              left: '0',\r\n+                              padding: '10px 15px',\r\n+                              minWidth: '200px',\r\n+                              zIndex: 1000,\r\n+                              boxShadow: '0 2px 12px rgba(0, 0, 0, 0.15)'\r\n+                            }}\r\n+                          >\r\n+                            {category.subcategories.map((sub, index) => (\r\n+                              <div\r\n+                                key={index}\r\n+                                className=\"position-relative\"\r\n+                                style={{ padding: '6px 10px', whiteSpace: 'nowrap' }}\r\n+                                onMouseEnter={() => handleMouseEnterSubcategory(sub.name)}\r\n+                                onMouseLeave={() => setActiveSubcategory(null)}\r\n+                              >\r\n+                                <Link href={`/shop?category=${category.id}&subcategory=${encodeURIComponent(sub.name)}`} className=\"text-decoration-none\">\r\n+                                  <span className=\"d-inline-flex align-items-center justify-content-between w-100\" style={{ fontSize: '13px', color: '#222' }}>\r\n+                                    {sub.name}\r\n+                                    {sub.children && <span style={{ marginLeft: '6px', fontWeight: 'bold' }}>›</span>}\r\n+                                  </span>\r\n+                                </Link>\r\n+\r\n+                                {sub.children && activeSubcategory === sub.name && (\r\n+                                  <div \r\n+                                    className=\"position-absolute bg-white shadow d-flex flex-column\"\r\n+                                    style={{\r\n+                                      top: '0',\r\n+                                      left: '100%',\r\n+                                      padding: '8px 12px',\r\n+                                      boxShadow: '2px 2px 8px rgba(0, 0, 0, 0.12)'\r\n+                                    }}\r\n+                                  >\r\n+                                    {sub.children.map((child, idx) => (\r\n+                                      <Link key={idx} href={`/shop?category=${category.id}&subcategory=${encodeURIComponent(sub.name)}&child=${encodeURIComponent(child)}`} className=\"text-decoration-none\">\r\n+                                        <span style={{ padding: '4px 0', fontSize: '13px', color: '#333' }}>\r\n+                                          {child}\r\n+                                        </span>\r\n+                                      </Link>\r\n+                                    ))}\r\n+                                  </div>\r\n+                                )}\r\n+                              </div>\r\n+                            ))}\r\n+                          </div>\r\n+                        )}\r\n+                      </div>\r\n+                    ))}\r\n+                  </div>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+          </div>\r\n+        </div>\r\n+      )}\r\n+\r\n+      {/* Tablet view */}\r\n+      {!loading && categories.length > 0 && (\r\n+        <div className=\"d-none d-md-block d-lg-none\">\r\n+          <div className=\"container-fluid\" style={{ backgroundColor: '#f0d9b3', borderTop: '1px solid #ddd', borderBottom: '1px solid #ddd' }}>\r\n+            <div className=\"container\">\r\n+              <div className=\"row\">\r\n+                <div className=\"col-12\">\r\n+                  <div className=\"d-flex justify-content-center align-items-center flex-wrap\" style={{ height: '70px', gap: '15px', padding: '10px 0' }}>\r\n+                    {categories.map((category) => (\r\n+                      <div\r\n+                        key={category.id}\r\n+                        className=\"position-relative d-flex flex-column align-items-center justify-content-center\"\r\n+                        style={{ \r\n+                          cursor: 'pointer',\r\n+                          transition: 'transform 0.2s ease',\r\n+                          minWidth: '50px'\r\n+                        }}\r\n+                        onMouseEnter={() => handleMouseEnterCategory(category.id)}\r\n+                        onMouseLeave={handleMouseLeaveCategory}\r\n+                      >\r\n+                        <div className=\"d-flex flex-column align-items-center\" style={{ gap: '2px' }}>\r\n+                          <img\r\n+                            src={category.icon}\r\n+                            alt={category.name}\r\n+                            style={{ width: '30px', height: '30px', objectFit: 'contain' }}\r\n+                          />\r\n+                          <span style={{ \r\n+                            fontSize: '10px', \r\n+                            fontWeight: '500', \r\n+                            whiteSpace: 'nowrap', \r\n+                            color: '#333', \r\n+                            textAlign: 'center', \r\n+                            lineHeight: '1.1' \r\n+                          }}>\r\n+                            {category.name}\r\n+                          </span>\r\n+                        </div>\r\n+                      </div>\r\n+                    ))}\r\n+                  </div>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+          </div>\r\n+        </div>\r\n+      )}\r\n+\r\n+      {/* Empty state */}\r\n+      {!loading && categories.length === 0 && (\r\n+        <div className=\"d-none d-lg-block\">\r\n+          <div className=\"container-fluid\" style={{ backgroundColor: '#f0d9b3', borderTop: '1px solid #ddd', borderBottom: '1px solid #ddd' }}>\r\n+            <div className=\"container\">\r\n+              <div className=\"row\">\r\n+                <div className=\"col-12\">\r\n+                  <div className=\"d-flex justify-content-center align-items-center\" style={{ height: '80px' }}>\r\n+                    <span className=\"text-muted\">No categories available</span>\r\n+                  </div>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+          </div>\r\n+        </div>\r\n+      )}\r\n+    </>\r\n+  );\r\n+}\r\n+\r\n"
                },
                {
                    "date": 1753211953842,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,247 +1,15 @@\n-console.log('🚨 === GIFT CATEGORIES FILE LOADED ===')\r\n \r\n \r\n+\r\n \"use client\";\r\n \r\n import Link from \"next/link\";\r\n import { useEffect, useState } from \"react\";\r\n import { giftPageCategories } from \"@/data/giftPageCategories\";\r\n \r\n-export default function GiftCategories() {\r\n-  const [activeCategory, setActiveCategory] = useState(null);\r\n-  const [activeSubcategory, setActiveSubcategory] = useState(null);\r\n-  const [categories, setCategories] = useState([]);\r\n-  const [loading, setLoading] = useState(true);\r\n+console.log('🚨 === GIFT CATEGORIES FILE LOADED ===')\r\n \r\n-  useEffect(() => {\r\n-    // Load static categories\r\n-    setCategories(giftPageCategories);\r\n-    setLoading(false);\r\n-  }, []);\r\n-\r\n-  // Calculate dynamic spacing based on number of categories\r\n-  const getSpacing = () => {\r\n-    const categoryCount = categories.length;\r\n-    if (categoryCount <= 3) return 'mx-4';\r\n-    else if (categoryCount <= 4) return 'mx-3';\r\n-    else if (categoryCount <= 6) return 'mx-2';\r\n-    else return 'mx-1';\r\n-  };\r\n-\r\n-  const handleMouseEnterCategory = (id) => {\r\n-    setActiveCategory(id);\r\n-    setActiveSubcategory(null);\r\n-  };\r\n-\r\n-  const handleMouseLeaveCategory = () => {\r\n-    setActiveCategory(null);\r\n-    setActiveSubcategory(null);\r\n-  };\r\n-\r\n-  const handleMouseEnterSubcategory = (name) => {\r\n-    setActiveSubcategory(name);\r\n-  };\r\n-\r\n-  return (\r\n-    <>\r\n-      {/* Loading state */}\r\n-      {loading && (\r\n-        <div className=\"d-none d-lg-block\">\r\n-          <div className=\"container-fluid\" style={{ backgroundColor: '#f0d9b3', borderTop: '1px solid #ddd', borderBottom: '1px solid #ddd' }}>\r\n-            <div className=\"container\">\r\n-              <div className=\"row\">\r\n-                <div className=\"col-12\">\r\n-                  <div className=\"d-flex justify-content-center align-items-center\" style={{ height: '80px' }}>\r\n-                    <div className=\"spinner-border text-primary\" role=\"status\">\r\n-                      <span className=\"visually-hidden\">Loading categories...</span>\r\n-                    </div>\r\n-                  </div>\r\n-                </div>\r\n-              </div>\r\n-            </div>\r\n-          </div>\r\n-        </div>\r\n-      )}\r\n-\r\n-      {/* Desktop view with dynamic spacing */}\r\n-      {!loading && categories.length > 0 && (\r\n-        <div className=\"d-none d-lg-block\">\r\n-          <div className=\"container-fluid\" style={{ backgroundColor: '#f0d9b3', borderTop: '1px solid #ddd', borderBottom: '1px solid #ddd' }}>\r\n-            <div className=\"container\">\r\n-              <div className=\"row\">\r\n-                <div className=\"col-12\">\r\n-                  <div className=\"d-flex justify-content-center align-items-center\" style={{ height: '80px' }}>\r\n-                    {categories.map((category) => (\r\n-                      <div\r\n-                        key={category.id}\r\n-                        className={`position-relative d-flex flex-column align-items-center justify-content-center ${getSpacing()}`}\r\n-                        style={{ \r\n-                          height: '100%',\r\n-                          padding: '0 5px',\r\n-                          cursor: 'pointer',\r\n-                          transition: 'transform 0.2s ease',\r\n-                          minWidth: '60px'\r\n-                        }}\r\n-                        onMouseEnter={() => handleMouseEnterCategory(category.id)}\r\n-                        onMouseLeave={handleMouseLeaveCategory}\r\n-                        onMouseOver={(e) => e.currentTarget.style.transform = 'scale(1.08)'}\r\n-                        onMouseOut={(e) => e.currentTarget.style.transform = 'scale(1)'}\r\n-                      >\r\n-                        <div className=\"d-flex flex-column align-items-center\" style={{ gap: '2px' }}>\r\n-                          <img\r\n-                            src={category.icon}\r\n-                            alt={category.name}\r\n-                            style={{ width: '40px', height: '40px', objectFit: 'contain' }}\r\n-                          />\r\n-                          <span style={{ \r\n-                            fontSize: '11px', \r\n-                            fontWeight: '500', \r\n-                            whiteSpace: 'nowrap', \r\n-                            color: '#333', \r\n-                            textAlign: 'center', \r\n-                            lineHeight: '1.1' \r\n-                          }}>\r\n-                            {category.name}\r\n-                          </span>\r\n-                        </div>\r\n-\r\n-                        {/* Subcategories dropdown */}\r\n-                        {activeCategory === category.id && category.subcategories && category.subcategories.length > 0 && (\r\n-                          <div \r\n-                            className=\"position-absolute bg-white shadow-lg d-flex flex-column\"\r\n-                            style={{\r\n-                              top: '80px',\r\n-                              left: '0',\r\n-                              padding: '10px 15px',\r\n-                              minWidth: '200px',\r\n-                              zIndex: 1000,\r\n-                              boxShadow: '0 2px 12px rgba(0, 0, 0, 0.15)'\r\n-                            }}\r\n-                          >\r\n-                            {category.subcategories.map((sub, index) => (\r\n-                              <div\r\n-                                key={index}\r\n-                                className=\"position-relative\"\r\n-                                style={{ padding: '6px 10px', whiteSpace: 'nowrap' }}\r\n-                                onMouseEnter={() => handleMouseEnterSubcategory(sub.name)}\r\n-                                onMouseLeave={() => setActiveSubcategory(null)}\r\n-                              >\r\n-                                <Link href={`/shop?category=${category.id}&subcategory=${encodeURIComponent(sub.name)}`} className=\"text-decoration-none\">\r\n-                                  <span className=\"d-inline-flex align-items-center justify-content-between w-100\" style={{ fontSize: '13px', color: '#222' }}>\r\n-                                    {sub.name}\r\n-                                    {sub.children && <span style={{ marginLeft: '6px', fontWeight: 'bold' }}>›</span>}\r\n-                                  </span>\r\n-                                </Link>\r\n-\r\n-                                {sub.children && activeSubcategory === sub.name && (\r\n-                                  <div \r\n-                                    className=\"position-absolute bg-white shadow d-flex flex-column\"\r\n-                                    style={{\r\n-                                      top: '0',\r\n-                                      left: '100%',\r\n-                                      padding: '8px 12px',\r\n-                                      boxShadow: '2px 2px 8px rgba(0, 0, 0, 0.12)'\r\n-                                    }}\r\n-                                  >\r\n-                                    {sub.children.map((child, idx) => (\r\n-                                      <Link key={idx} href={`/shop?category=${category.id}&subcategory=${encodeURIComponent(sub.name)}&child=${encodeURIComponent(child)}`} className=\"text-decoration-none\">\r\n-                                        <span style={{ padding: '4px 0', fontSize: '13px', color: '#333' }}>\r\n-                                          {child}\r\n-                                        </span>\r\n-                                      </Link>\r\n-                                    ))}\r\n-                                  </div>\r\n-                                )}\r\n-                              </div>\r\n-                            ))}\r\n-                          </div>\r\n-                        )}\r\n-                      </div>\r\n-                    ))}\r\n-                  </div>\r\n-                </div>\r\n-              </div>\r\n-            </div>\r\n-          </div>\r\n-        </div>\r\n-      )}\r\n-\r\n-      {/* Tablet view */}\r\n-      {!loading && categories.length > 0 && (\r\n-        <div className=\"d-none d-md-block d-lg-none\">\r\n-          <div className=\"container-fluid\" style={{ backgroundColor: '#f0d9b3', borderTop: '1px solid #ddd', borderBottom: '1px solid #ddd' }}>\r\n-            <div className=\"container\">\r\n-              <div className=\"row\">\r\n-                <div className=\"col-12\">\r\n-                  <div className=\"d-flex justify-content-center align-items-center flex-wrap\" style={{ height: '70px', gap: '15px', padding: '10px 0' }}>\r\n-                    {categories.map((category) => (\r\n-                      <div\r\n-                        key={category.id}\r\n-                        className=\"position-relative d-flex flex-column align-items-center justify-content-center\"\r\n-                        style={{ \r\n-                          cursor: 'pointer',\r\n-                          transition: 'transform 0.2s ease',\r\n-                          minWidth: '50px'\r\n-                        }}\r\n-                        onMouseEnter={() => handleMouseEnterCategory(category.id)}\r\n-                        onMouseLeave={handleMouseLeaveCategory}\r\n-                      >\r\n-                        <div className=\"d-flex flex-column align-items-center\" style={{ gap: '2px' }}>\r\n-                          <img\r\n-                            src={category.icon}\r\n-                            alt={category.name}\r\n-                            style={{ width: '30px', height: '30px', objectFit: 'contain' }}\r\n-                          />\r\n-                          <span style={{ \r\n-                            fontSize: '10px', \r\n-                            fontWeight: '500', \r\n-                            whiteSpace: 'nowrap', \r\n-                            color: '#333', \r\n-                            textAlign: 'center', \r\n-                            lineHeight: '1.1' \r\n-                          }}>\r\n-                            {category.name}\r\n-                          </span>\r\n-                        </div>\r\n-                      </div>\r\n-                    ))}\r\n-                  </div>\r\n-                </div>\r\n-              </div>\r\n-            </div>\r\n-          </div>\r\n-        </div>\r\n-      )}\r\n-\r\n-      {/* Empty state */}\r\n-      {!loading && categories.length === 0 && (\r\n-        <div className=\"d-none d-lg-block\">\r\n-          <div className=\"container-fluid\" style={{ backgroundColor: '#f0d9b3', borderTop: '1px solid #ddd', borderBottom: '1px solid #ddd' }}>\r\n-            <div className=\"container\">\r\n-              <div className=\"row\">\r\n-                <div className=\"col-12\">\r\n-                  <div className=\"d-flex justify-content-center align-items-center\" style={{ height: '80px' }}>\r\n-                    <span className=\"text-muted\">No categories available</span>\r\n-                  </div>\r\n-                </div>\r\n-              </div>\r\n-            </div>\r\n-          </div>\r\n-        </div>\r\n-      )}\r\n-    </>\r\n-  );\r\n-}\r\n-\r\n-\r\n-\r\n-\"use client\";\r\n-\r\n-import Link from \"next/link\";\r\n-import { useEffect, useState } from \"react\";\r\n-import { giftPageCategories } from \"@/data/giftPageCategories\";\r\n-\r\n export default function GiftCategories() {\r\n   const [activeCategory, setActiveCategory] = useState(null);\r\n   const [activeSubcategory, setActiveSubcategory] = useState(null);\r\n   const [categories, setCategories] = useState([]);\r\n"
                },
                {
                    "date": 1753211973895,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -6,10 +6,10 @@\n import Link from \"next/link\";\r\n import { useEffect, useState } from \"react\";\r\n import { giftPageCategories } from \"@/data/giftPageCategories\";\r\n \r\n-console.log('🚨 === GIFT CATEGORIES FILE LOADED ===')\r\n \r\n+\r\n export default function GiftCategories() {\r\n   const [activeCategory, setActiveCategory] = useState(null);\r\n   const [activeSubcategory, setActiveSubcategory] = useState(null);\r\n   const [categories, setCategories] = useState([]);\r\n"
                },
                {
                    "date": 1753211987109,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,4 @@\n-\r\n-\r\n-\r\n \"use client\";\r\n \r\n import Link from \"next/link\";\r\n import { useEffect, useState } from \"react\";\r\n"
                },
                {
                    "date": 1753240251887,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,23 +1,24 @@\n \"use client\";\r\n \r\n import Link from \"next/link\";\r\n-import { useEffect, useState } from \"react\";\r\n-import { giftPageCategories } from \"@/data/giftPageCategories\";\r\n+import { useState } from \"react\";\r\n+import { giftPageCategories, giftCategoriesMetadata } from \"@/data/giftPageCategories\";\r\n \r\n+console.log('🚨 === GIFT CATEGORIES FILE LOADED ===')\r\n \r\n-\r\n export default function GiftCategories() {\r\n+  console.log('🚨 === GIFT CATEGORIES COMPONENT FUNCTION CALLED ===')\r\n+  \r\n   const [activeCategory, setActiveCategory] = useState(null);\r\n   const [activeSubcategory, setActiveSubcategory] = useState(null);\r\n-  const [categories, setCategories] = useState([]);\r\n-  const [loading, setLoading] = useState(true);\r\n+  const [categories] = useState(giftPageCategories); // ✨ Pure static data, no API calls\r\n \r\n-  useEffect(() => {\r\n-    // Load static categories\r\n-    setCategories(giftPageCategories);\r\n-    setLoading(false);\r\n-  }, []);\r\n+  console.log('📊 GiftCategories loaded:', {\r\n+    source: giftCategoriesMetadata?.source || 'static',\r\n+    lastUpdated: giftCategoriesMetadata?.lastUpdated,\r\n+    categoriesCount: categories.length\r\n+  });\r\n \r\n   // Calculate dynamic spacing based on number of categories\r\n   const getSpacing = () => {\r\n     const categoryCount = categories.length;\r\n@@ -42,29 +43,21 @@\n   };\r\n \r\n   return (\r\n     <>\r\n-      {/* Loading state */}\r\n-      {loading && (\r\n-        <div className=\"d-none d-lg-block\">\r\n-          <div className=\"container-fluid\" style={{ backgroundColor: '#f0d9b3', borderTop: '1px solid #ddd', borderBottom: '1px solid #ddd' }}>\r\n-            <div className=\"container\">\r\n-              <div className=\"row\">\r\n-                <div className=\"col-12\">\r\n-                  <div className=\"d-flex justify-content-center align-items-center\" style={{ height: '80px' }}>\r\n-                    <div className=\"spinner-border text-primary\" role=\"status\">\r\n-                      <span className=\"visually-hidden\">Loading categories...</span>\r\n-                    </div>\r\n-                  </div>\r\n-                </div>\r\n-              </div>\r\n-            </div>\r\n-          </div>\r\n+      {/* Simple debug info */}\r\n+      {process.env.NODE_ENV === 'development' && (\r\n+        <div className=\"position-fixed top-0 end-0 bg-success text-white p-2 small\" style={{ zIndex: 9999, fontSize: '10px' }}>\r\n+          <div><strong>GiftCategories:</strong></div>\r\n+          <div>📁 Static File</div>\r\n+          <div>📊 {categories.length} categories</div>\r\n+          <div>🕒 {giftCategoriesMetadata?.lastUpdated ? new Date(giftCategoriesMetadata.lastUpdated).toLocaleTimeString() : 'Unknown'}</div>\r\n+          <div>🎯 {giftCategoriesMetadata?.source || 'Unknown'}</div>\r\n         </div>\r\n       )}\r\n \r\n-      {/* Desktop view with dynamic spacing */}\r\n-      {!loading && categories.length > 0 && (\r\n+      {/* Desktop view */}\r\n+      {categories.length > 0 && (\r\n         <div className=\"d-none d-lg-block\">\r\n           <div className=\"container-fluid\" style={{ backgroundColor: '#f0d9b3', borderTop: '1px solid #ddd', borderBottom: '1px solid #ddd' }}>\r\n             <div className=\"container\">\r\n               <div className=\"row\">\r\n@@ -165,9 +158,9 @@\n         </div>\r\n       )}\r\n \r\n       {/* Tablet view */}\r\n-      {!loading && categories.length > 0 && (\r\n+      {categories.length > 0 && (\r\n         <div className=\"d-none d-md-block d-lg-none\">\r\n           <div className=\"container-fluid\" style={{ backgroundColor: '#f0d9b3', borderTop: '1px solid #ddd', borderBottom: '1px solid #ddd' }}>\r\n             <div className=\"container\">\r\n               <div className=\"row\">\r\n@@ -211,24 +204,9 @@\n           </div>\r\n         </div>\r\n       )}\r\n \r\n-      {/* Empty state */}\r\n-      {!loading && categories.length === 0 && (\r\n-        <div className=\"d-none d-lg-block\">\r\n-          <div className=\"container-fluid\" style={{ backgroundColor: '#f0d9b3', borderTop: '1px solid #ddd', borderBottom: '1px solid #ddd' }}>\r\n-            <div className=\"container\">\r\n-              <div className=\"row\">\r\n-                <div className=\"col-12\">\r\n-                  <div className=\"d-flex justify-content-center align-items-center\" style={{ height: '80px' }}>\r\n-                    <span className=\"text-muted\">No categories available</span>\r\n-                  </div>\r\n-                </div>\r\n-              </div>\r\n-            </div>\r\n-          </div>\r\n-        </div>\r\n-      )}\r\n+      {console.log('🎬 === GIFT CATEGORIES COMPONENT RENDER END ===')}\r\n     </>\r\n   );\r\n }\r\n \r\n"
                },
                {
                    "date": 1753281027899,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,8 @@\n \"use client\";\r\n \r\n import Link from \"next/link\";\r\n-import { useState } from \"react\";\r\n+import { useState, useEffect } from \"react\";\r\n import { giftPageCategories, giftCategoriesMetadata } from \"@/data/giftPageCategories\";\r\n \r\n console.log('🚨 === GIFT CATEGORIES FILE LOADED ===')\r\n \r\n@@ -11,9 +11,15 @@\n   \r\n   const [activeCategory, setActiveCategory] = useState(null);\r\n   const [activeSubcategory, setActiveSubcategory] = useState(null);\r\n   const [categories] = useState(giftPageCategories); // ✨ Pure static data, no API calls\r\n+  const [isClient, setIsClient] = useState(false); // Track if we're on client\r\n \r\n+  // Ensure we're on the client before showing time-dependent content\r\n+  useEffect(() => {\r\n+    setIsClient(true);\r\n+  }, []);\r\n+\r\n   console.log('📊 GiftCategories loaded:', {\r\n     source: giftCategoriesMetadata?.source || 'static',\r\n     lastUpdated: giftCategoriesMetadata?.lastUpdated,\r\n     categoriesCount: categories.length\r\n@@ -43,15 +49,15 @@\n   };\r\n \r\n   return (\r\n     <>\r\n-      {/* Simple debug info */}\r\n-      {process.env.NODE_ENV === 'development' && (\r\n+      {/* Fixed debug info - only show on client and remove time display */}\r\n+      {process.env.NODE_ENV === 'development' && isClient && (\r\n         <div className=\"position-fixed top-0 end-0 bg-success text-white p-2 small\" style={{ zIndex: 9999, fontSize: '10px' }}>\r\n           <div><strong>GiftCategories:</strong></div>\r\n           <div>📁 Static File</div>\r\n           <div>📊 {categories.length} categories</div>\r\n-          <div>🕒 {giftCategoriesMetadata?.lastUpdated ? new Date(giftCategoriesMetadata.lastUpdated).toLocaleTimeString() : 'Unknown'}</div>\r\n+          <div>📅 {giftCategoriesMetadata?.lastUpdated ? new Date(giftCategoriesMetadata.lastUpdated).toLocaleDateString() : 'Unknown'}</div>\r\n           <div>🎯 {giftCategoriesMetadata?.source || 'Unknown'}</div>\r\n         </div>\r\n       )}\r\n \r\n@@ -80,11 +86,14 @@\n                         onMouseOut={(e) => e.currentTarget.style.transform = 'scale(1)'}\r\n                       >\r\n                         <div className=\"d-flex flex-column align-items-center\" style={{ gap: '2px' }}>\r\n                           <img\r\n-                            src={category.icon}\r\n+                            src={category.icon || category.image}\r\n                             alt={category.name}\r\n                             style={{ width: '40px', height: '40px', objectFit: 'contain' }}\r\n+                            onError={(e) => {\r\n+                              e.target.src = '/assets/img/product/category/default-category.svg'\r\n+                            }}\r\n                           />\r\n                           <span style={{ \r\n                             fontSize: '11px', \r\n                             fontWeight: '500', \r\n@@ -111,9 +120,9 @@\n                             }}\r\n                           >\r\n                             {category.subcategories.map((sub, index) => (\r\n                               <div\r\n-                                key={index}\r\n+                                key={sub.id || index}\r\n                                 className=\"position-relative\"\r\n                                 style={{ padding: '6px 10px', whiteSpace: 'nowrap' }}\r\n                                 onMouseEnter={() => handleMouseEnterSubcategory(sub.name)}\r\n                                 onMouseLeave={() => setActiveSubcategory(null)}\r\n@@ -179,11 +188,14 @@\n                         onMouseLeave={handleMouseLeaveCategory}\r\n                       >\r\n                         <div className=\"d-flex flex-column align-items-center\" style={{ gap: '2px' }}>\r\n                           <img\r\n-                            src={category.icon}\r\n+                            src={category.icon || category.image}\r\n                             alt={category.name}\r\n                             style={{ width: '30px', height: '30px', objectFit: 'contain' }}\r\n+                            onError={(e) => {\r\n+                              e.target.src = '/assets/img/product/category/default-category.svg'\r\n+                            }}\r\n                           />\r\n                           <span style={{ \r\n                             fontSize: '10px', \r\n                             fontWeight: '500', \r\n@@ -207,6 +219,5 @@\n \r\n       {console.log('🎬 === GIFT CATEGORIES COMPONENT RENDER END ===')}\r\n     </>\r\n   );\r\n-}\r\n-\r\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1753444479559,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,8 +2,9 @@\n \r\n import Link from \"next/link\";\r\n import { useState, useEffect } from \"react\";\r\n import { giftPageCategories, giftCategoriesMetadata } from \"@/data/giftPageCategories\";\r\n+import styles from './GiftCategories.module.css';\r\n \r\n console.log('🚨 === GIFT CATEGORIES FILE LOADED ===')\r\n \r\n export default function GiftCategories() {\r\n@@ -25,14 +26,16 @@\n     categoriesCount: categories.length\r\n   });\r\n \r\n   // Calculate dynamic spacing based on number of categories\r\n-  const getSpacing = () => {\r\n+  const getSpacingClass = () => {\r\n     const categoryCount = categories.length;\r\n-    if (categoryCount <= 3) return 'mx-4';\r\n-    else if (categoryCount <= 4) return 'mx-3';\r\n-    else if (categoryCount <= 6) return 'mx-2';\r\n-    else return 'mx-1';\r\n+    if (categoryCount <= 3) return styles.spacing1;\r\n+    else if (categoryCount <= 4) return styles.spacing2;\r\n+    else if (categoryCount <= 5) return styles.spacing3;\r\n+    else if (categoryCount <= 6) return styles.spacing4;\r\n+    else if (categoryCount <= 8) return styles.spacing5;\r\n+    else return styles.spacing6;\r\n   };\r\n \r\n   const handleMouseEnterCategory = (id) => {\r\n     setActiveCategory(id);\r\n@@ -51,9 +54,9 @@\n   return (\r\n     <>\r\n       {/* Fixed debug info - only show on client and remove time display */}\r\n       {process.env.NODE_ENV === 'development' && isClient && (\r\n-        <div className=\"position-fixed top-0 end-0 bg-success text-white p-2 small\" style={{ zIndex: 9999, fontSize: '10px' }}>\r\n+        <div className={styles.debugInfo}>\r\n           <div><strong>GiftCategories:</strong></div>\r\n           <div>📁 Static File</div>\r\n           <div>📊 {categories.length} categories</div>\r\n           <div>📅 {giftCategoriesMetadata?.lastUpdated ? new Date(giftCategoriesMetadata.lastUpdated).toLocaleDateString() : 'Unknown'}</div>\r\n@@ -63,93 +66,58 @@\n \r\n       {/* Desktop view */}\r\n       {categories.length > 0 && (\r\n         <div className=\"d-none d-lg-block\">\r\n-          <div className=\"container-fluid\" style={{ backgroundColor: '#f0d9b3', borderTop: '1px solid #ddd', borderBottom: '1px solid #ddd' }}>\r\n+          <div className={`container-fluid ${styles.giftCategoriesContainer}`}>\r\n             <div className=\"container\">\r\n               <div className=\"row\">\r\n                 <div className=\"col-12\">\r\n-                  <div className=\"d-flex justify-content-center align-items-center\" style={{ height: '80px' }}>\r\n+                  <div className={styles.categoriesWrapper}>\r\n                     {categories.map((category) => (\r\n                       <div\r\n                         key={category.id}\r\n-                        className={`position-relative d-flex flex-column align-items-center justify-content-center ${getSpacing()}`}\r\n-                        style={{ \r\n-                          height: '100%',\r\n-                          padding: '0 5px',\r\n-                          cursor: 'pointer',\r\n-                          transition: 'transform 0.2s ease',\r\n-                          minWidth: '60px'\r\n-                        }}\r\n+                        className={`${styles.categoryItem} ${getSpacingClass()}`}\r\n                         onMouseEnter={() => handleMouseEnterCategory(category.id)}\r\n                         onMouseLeave={handleMouseLeaveCategory}\r\n-                        onMouseOver={(e) => e.currentTarget.style.transform = 'scale(1.08)'}\r\n-                        onMouseOut={(e) => e.currentTarget.style.transform = 'scale(1)'}\r\n                       >\r\n-                        <div className=\"d-flex flex-column align-items-center\" style={{ gap: '2px' }}>\r\n+                        <div className={styles.categoryContent}>\r\n                           <img\r\n                             src={category.icon || category.image}\r\n                             alt={category.name}\r\n-                            style={{ width: '40px', height: '40px', objectFit: 'contain' }}\r\n+                            className={styles.categoryImage}\r\n                             onError={(e) => {\r\n                               e.target.src = '/assets/img/product/category/default-category.svg'\r\n                             }}\r\n                           />\r\n-                          <span style={{ \r\n-                            fontSize: '11px', \r\n-                            fontWeight: '500', \r\n-                            whiteSpace: 'nowrap', \r\n-                            color: '#333', \r\n-                            textAlign: 'center', \r\n-                            lineHeight: '1.1' \r\n-                          }}>\r\n+                          <span className={styles.categoryLabel}>\r\n                             {category.name}\r\n                           </span>\r\n                         </div>\r\n \r\n                         {/* Subcategories dropdown */}\r\n                         {activeCategory === category.id && category.subcategories && category.subcategories.length > 0 && (\r\n-                          <div \r\n-                            className=\"position-absolute bg-white shadow-lg d-flex flex-column\"\r\n-                            style={{\r\n-                              top: '80px',\r\n-                              left: '0',\r\n-                              padding: '10px 15px',\r\n-                              minWidth: '200px',\r\n-                              zIndex: 1000,\r\n-                              boxShadow: '0 2px 12px rgba(0, 0, 0, 0.15)'\r\n-                            }}\r\n-                          >\r\n+                          <div className={styles.subcategoriesDropdown}>\r\n                             {category.subcategories.map((sub, index) => (\r\n                               <div\r\n                                 key={sub.id || index}\r\n-                                className=\"position-relative\"\r\n-                                style={{ padding: '6px 10px', whiteSpace: 'nowrap' }}\r\n+                                className={styles.subcategoryItem}\r\n                                 onMouseEnter={() => handleMouseEnterSubcategory(sub.name)}\r\n                                 onMouseLeave={() => setActiveSubcategory(null)}\r\n                               >\r\n-                                <Link href={`/shop?category=${category.id}&subcategory=${encodeURIComponent(sub.name)}`} className=\"text-decoration-none\">\r\n-                                  <span className=\"d-inline-flex align-items-center justify-content-between w-100\" style={{ fontSize: '13px', color: '#222' }}>\r\n-                                    {sub.name}\r\n-                                    {sub.children && <span style={{ marginLeft: '6px', fontWeight: 'bold' }}>›</span>}\r\n-                                  </span>\r\n+                                <Link href={`/shop?category=${category.id}&subcategory=${encodeURIComponent(sub.name)}`} className={styles.subcategoryLink}>\r\n+                                  <span>{sub.name}</span>\r\n+                                  {sub.children && <span className={styles.subcategoryArrow}>›</span>}\r\n                                 </Link>\r\n \r\n                                 {sub.children && activeSubcategory === sub.name && (\r\n-                                  <div \r\n-                                    className=\"position-absolute bg-white shadow d-flex flex-column\"\r\n-                                    style={{\r\n-                                      top: '0',\r\n-                                      left: '100%',\r\n-                                      padding: '8px 12px',\r\n-                                      boxShadow: '2px 2px 8px rgba(0, 0, 0, 0.12)'\r\n-                                    }}\r\n-                                  >\r\n+                                  <div className={styles.subSubcategoriesDropdown}>\r\n                                     {sub.children.map((child, idx) => (\r\n-                                      <Link key={idx} href={`/shop?category=${category.id}&subcategory=${encodeURIComponent(sub.name)}&child=${encodeURIComponent(child)}`} className=\"text-decoration-none\">\r\n-                                        <span style={{ padding: '4px 0', fontSize: '13px', color: '#333' }}>\r\n-                                          {child}\r\n-                                        </span>\r\n+                                      <Link \r\n+                                        key={idx} \r\n+                                        href={`/shop?category=${category.id}&subcategory=${encodeURIComponent(sub.name)}&child=${encodeURIComponent(child)}`} \r\n+                                        className={styles.subSubcategoryLink}\r\n+                                      >\r\n+                                        {child}\r\n                                       </Link>\r\n                                     ))}\r\n                                   </div>\r\n                                 )}\r\n@@ -169,42 +137,30 @@\n \r\n       {/* Tablet view */}\r\n       {categories.length > 0 && (\r\n         <div className=\"d-none d-md-block d-lg-none\">\r\n-          <div className=\"container-fluid\" style={{ backgroundColor: '#f0d9b3', borderTop: '1px solid #ddd', borderBottom: '1px solid #ddd' }}>\r\n+          <div className={`container-fluid ${styles.giftCategoriesContainer}`}>\r\n             <div className=\"container\">\r\n               <div className=\"row\">\r\n                 <div className=\"col-12\">\r\n-                  <div className=\"d-flex justify-content-center align-items-center flex-wrap\" style={{ height: '70px', gap: '15px', padding: '10px 0' }}>\r\n+                  <div className={styles.categoriesWrapper}>\r\n                     {categories.map((category) => (\r\n                       <div\r\n                         key={category.id}\r\n-                        className=\"position-relative d-flex flex-column align-items-center justify-content-center\"\r\n-                        style={{ \r\n-                          cursor: 'pointer',\r\n-                          transition: 'transform 0.2s ease',\r\n-                          minWidth: '50px'\r\n-                        }}\r\n+                        className={styles.categoryItem}\r\n                         onMouseEnter={() => handleMouseEnterCategory(category.id)}\r\n                         onMouseLeave={handleMouseLeaveCategory}\r\n                       >\r\n-                        <div className=\"d-flex flex-column align-items-center\" style={{ gap: '2px' }}>\r\n+                        <div className={styles.categoryContent}>\r\n                           <img\r\n                             src={category.icon || category.image}\r\n                             alt={category.name}\r\n-                            style={{ width: '30px', height: '30px', objectFit: 'contain' }}\r\n+                            className={styles.categoryImage}\r\n                             onError={(e) => {\r\n                               e.target.src = '/assets/img/product/category/default-category.svg'\r\n                             }}\r\n                           />\r\n-                          <span style={{ \r\n-                            fontSize: '10px', \r\n-                            fontWeight: '500', \r\n-                            whiteSpace: 'nowrap', \r\n-                            color: '#333', \r\n-                            textAlign: 'center', \r\n-                            lineHeight: '1.1' \r\n-                          }}>\r\n+                          <span className={styles.categoryLabel}>\r\n                             {category.name}\r\n                           </span>\r\n                         </div>\r\n                       </div>\r\n@@ -216,8 +172,45 @@\n           </div>\r\n         </div>\r\n       )}\r\n \r\n+      {/* Mobile view */}\r\n+      {categories.length > 0 && (\r\n+        <div className=\"d-block d-md-none\">\r\n+          <div className={`container-fluid ${styles.giftCategoriesContainer}`}>\r\n+            <div className=\"container\">\r\n+              <div className=\"row\">\r\n+                <div className=\"col-12\">\r\n+                  <div className={styles.categoriesWrapper}>\r\n+                    {categories.map((category) => (\r\n+                      <Link\r\n+                        key={category.id}\r\n+                        href={`/shop?category=${category.id}`}\r\n+                        className={styles.categoryItem}\r\n+                      >\r\n+                        <div className={styles.categoryContent}>\r\n+                          <img\r\n+                            src={category.icon || category.image}\r\n+                            alt={category.name}\r\n+                            className={styles.categoryImage}\r\n+                            onError={(e) => {\r\n+                              e.target.src = '/assets/img/product/category/default-category.svg'\r\n+                            }}\r\n+                          />\r\n+                          <span className={styles.categoryLabel}>\r\n+                            {category.name}\r\n+                          </span>\r\n+                        </div>\r\n+                      </Link>\r\n+                    ))}\r\n+                  </div>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+          </div>\r\n+        </div>\r\n+      )}\r\n+\r\n       {console.log('🎬 === GIFT CATEGORIES COMPONENT RENDER END ===')}\r\n     </>\r\n   );\r\n }\n\\ No newline at end of file\n"
                }
            ],
            "date": 1752766211981,
            "name": "Commit-0",
            "content": "\"use client\";\r\n\r\nimport Link from \"next/link\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { giftPageCategories } from \"@/data/giftPageCategories\";\r\n\r\nexport default function GiftCategories() {\r\n\r\n  const [activeCategory, setActiveCategory] = useState(null);\r\n  const [activeSubcategory, setActiveSubcategory] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const checkWidth = () => setIsMobile(window.innerWidth <= 768);\r\n    checkWidth();\r\n    window.addEventListener(\"resize\", checkWidth);\r\n    return () => window.removeEventListener(\"resize\", checkWidth);\r\n  }, []);\r\n\r\n  if (isMobile) return null;\r\n\r\n  const handleMouseEnterCategory = (id) => {\r\n    setActiveCategory(id);\r\n    setActiveSubcategory(null);\r\n  };\r\n\r\n  const handleMouseLeaveCategory = () => {\r\n    setActiveCategory(null);\r\n    setActiveSubcategory(null);\r\n  };\r\n\r\n  const handleMouseEnterSubcategory = (name) => {\r\n    setActiveSubcategory(name);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"gift-nav-container\">\r\n        <div className=\"gift-category-bar\">\r\n          {giftPageCategories.map((category) => (\r\n            <div\r\n              key={category.id}\r\n              className=\"gift-category-item\"\r\n              onMouseEnter={() => handleMouseEnterCategory(category.id)}\r\n              onMouseLeave={handleMouseLeaveCategory}\r\n            >\r\n              <div className=\"gift-icon-title\">\r\n                <img\r\n                  src={category.icon}\r\n                  alt={category.name}\r\n                  className=\"gift-icon\"\r\n                />\r\n                <span className=\"gift-title\">{category.name}</span>\r\n              </div>\r\n\r\n              {activeCategory === category.id && (\r\n                <div className=\"gift-subcategories\">\r\n                  {category.subcategories.map((sub, index) => (\r\n                    <div\r\n                      key={index}\r\n                      className=\"gift-subcategory-item\"\r\n                      onMouseEnter={() => handleMouseEnterSubcategory(sub.name)}\r\n                      onMouseLeave={() => setActiveSubcategory(null)}\r\n                    >\r\n                      <Link href=\"/shop\">\r\n                        <span className=\"gift-subcategory-text\">\r\n                          {sub.name}\r\n                          {sub.children && <span className=\"gift-arrow\">›</span>}\r\n                        </span>\r\n                      </Link>\r\n\r\n                      {sub.children && activeSubcategory === sub.name && (\r\n                        <div className=\"gift-sub-subcategories\">\r\n                          {sub.children.map((child, idx) => (\r\n                            <Link key={idx} href=\"/shop\">\r\n                              <span className=\"gift-sub-subcategory-text\">\r\n                                {child}\r\n                              </span>\r\n                            </Link>\r\n                          ))}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      <style jsx>{`\r\n        .gift-nav-container {\r\n          display: flex;\r\n          align-items: center;\r\n          background: white;\r\n          height: 80px;\r\n          border-top: 1px solid #ddd;\r\n          border-bottom: 1px solid #ddd;\r\n          padding: 0 2px;\r\n          background-color: #f0d9b3;\r\n          flex-wrap: wrap;\r\n        }\r\n\r\n        .gift-category-bar {\r\n          display: flex;\r\n          flex: 1;\r\n          justify-content: flex-end;\r\n          align-items: center;\r\n          margin-right: 15%;\r\n          height: 60px;\r\n          padding: 0 10px;\r\n          gap: 40px;\r\n          flex-wrap: wrap;\r\n        }\r\n\r\n        .gift-category-item {\r\n          position: relative;\r\n          display: flex;\r\n          flex-direction: column;\r\n          align-items: center;\r\n          justify-content: center;\r\n          margin-right: 10px;\r\n          height: 100%;\r\n          padding: 0 5px;\r\n          cursor: pointer;\r\n          transition: transform 0.2s ease, box-shadow 0.2s ease;\r\n          min-width: 60px;\r\n        }\r\n\r\n        .gift-category-item:hover {\r\n          transform: scale(1.08);\r\n          z-index: 2;\r\n        }\r\n\r\n        .gift-icon-title {\r\n          display: flex;\r\n          flex-direction: column;\r\n          align-items: center;\r\n          gap: 2px;\r\n        }\r\n\r\n        .gift-icon {\r\n          width: 40px;\r\n          height: 40px;\r\n          object-fit: contain;\r\n        }\r\n\r\n        .gift-title {\r\n          font-size: 11px;\r\n          font-weight: 500;\r\n          white-space: nowrap;\r\n          color: #333;\r\n          text-align: center;\r\n          line-height: 1.1;\r\n        }\r\n\r\n        .gift-subcategories {\r\n          position: absolute;\r\n          top: 80px;\r\n          left: 0;\r\n          background-color: white;\r\n          padding: 10px 15px;\r\n          box-shadow: 0 2px 12px rgba(0, 0, 0, 0.15);\r\n          min-width: 200px;\r\n          display: flex;\r\n          flex-direction: column;\r\n          z-index: 1000;\r\n        }\r\n\r\n        .gift-subcategory-item {\r\n          position: relative;\r\n          padding: 6px 10px;\r\n          white-space: nowrap;\r\n        }\r\n\r\n        .gift-subcategory-text {\r\n          font-size: 13px;\r\n          color: #222;\r\n          display: inline-flex;\r\n          align-items: center;\r\n          justify-content: space-between;\r\n          width: 100%;\r\n        }\r\n\r\n        .gift-arrow {\r\n          margin-left: 6px;\r\n          font-weight: bold;\r\n        }\r\n\r\n        .gift-sub-subcategories {\r\n          position: absolute;\r\n          top: 0;\r\n          left: 100%;\r\n          background-color: #fff;\r\n          box-shadow: 2px 2px 8px rgba(0, 0, 0, 0.12);\r\n          padding: 8px 12px;\r\n          display: flex;\r\n          flex-direction: column;\r\n        }\r\n\r\n        .gift-sub-subcategory-text {\r\n          padding: 4px 0;\r\n          font-size: 13px;\r\n          color: #333;\r\n        }\r\n\r\n        @media (max-width: 1024px) {\r\n          .gift-category-bar {\r\n            gap: 20px;\r\n            justify-content: center;\r\n            margin-right: 0;\r\n            padding: 10px 0;\r\n          }\r\n\r\n          .gift-title {\r\n            font-size: 10px;\r\n          }\r\n\r\n          .gift-icon {\r\n            width: 30px;\r\n            height: 30px;\r\n          }\r\n\r\n          .gift-subcategories {\r\n            top: 60px;\r\n          }\r\n        }\r\n\r\n        @media (max-width: 600px) {\r\n          .gift-nav-container {\r\n            flex-direction: column;\r\n            height: auto;\r\n            padding: 10px;\r\n          }\r\n\r\n          .gift-category-bar {\r\n            flex-direction: column;\r\n            align-items: flex-start;\r\n            gap: 12px;\r\n            padding: 10px 0;\r\n          }\r\n\r\n          .gift-category-item {\r\n            flex-direction: row;\r\n            gap: 8px;\r\n            padding: 6px;\r\n          }\r\n\r\n          .gift-icon-title {\r\n            flex-direction: row;\r\n          }\r\n\r\n          .gift-title {\r\n            font-size: 12px;\r\n          }\r\n        }\r\n      `}</style>\r\n    </>\r\n  );\r\n}\r\n"
        }
    ]
}