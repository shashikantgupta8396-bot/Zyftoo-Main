{
    "sourceFile": "Ninico/app/corporate-shop/page.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1753714246213,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1753719228564,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -141,10 +141,9 @@\n         )\n     }\n \n     return (\n-        <CorporateProtectedRoute>\n-            <Layout headerStyle={1} footerStyle={2}>\n+        <Layout headerStyle={1} footerStyle={1} breadcrumbTitle=\"Corporate Shop\">\n                 {/* Header Section */}\n                 <section className=\"corporate-products-header py-5 bg-primary text-white\">\n                     <div className=\"container\">\n                         <div className=\"row\">\n@@ -361,7 +360,6 @@\n                         box-shadow: 0 4px 12px rgba(0,0,0,0.1);\n                     }\n                 `}</style>\n             </Layout>\n-        </CorporateProtectedRoute>\n     )\n }\n\\ No newline at end of file\n"
                }
            ],
            "date": 1753714246213,
            "name": "Commit-0",
            "content": "'use client'\nimport Layout from \"@/components/layout/Layout\"\nimport CorporateProtectedRoute from '@/components/auth/CorporateProtectedRoute'\nimport Link from \"next/link\"\nimport { useState, useEffect, useContext } from \"react\"\nimport AuthContext from '@/components/context/AuthContext'\nimport { getDisplayPrice, formatPrice, shouldShowCorporatePricing } from '@/util/productPricingHelper'\n\nexport default function CorporateShop() {\n    const [products, setProducts] = useState([])\n    const [loading, setLoading] = useState(true)\n    const [filter, setFilter] = useState('all')\n    const { user } = useContext(AuthContext)\n\n    useEffect(() => {\n        loadCorporateProducts()\n    }, [])\n\n    const loadCorporateProducts = async () => {\n        setLoading(true)\n        try {\n            // In production, this would fetch from /api/products/corporate\n            // For now, using sample data with corporate pricing\n            const sampleProducts = [\n                {\n                    id: 1,\n                    name: \"Corporate Gift Package - Premium Set\",\n                    price: 499,\n                    retailPrice: {\n                        mrp: 699,\n                        sellingPrice: 499,\n                        discount: 10,\n                        currency: 'INR'\n                    },\n                    corporatePricing: {\n                        enabled: true,\n                        minimumOrderQuantity: 50,\n                        priceTiers: [\n                            { minQuantity: 50, maxQuantity: 99, pricePerUnit: 450, discount: 10 },\n                            { minQuantity: 100, maxQuantity: 499, pricePerUnit: 399, discount: 20 },\n                            { minQuantity: 500, maxQuantity: null, pricePerUnit: 349, discount: 30 }\n                        ]\n                    },\n                    image: \"/assets/img/product/product-1.jpg\",\n                    category: \"Corporate Gifts\",\n                    minOrder: 50,\n                    specifications: {\n                        material: \"Premium Quality\",\n                        customization: \"Logo Printing Available\",\n                        packaging: \"Gift Box\",\n                        warranty: \"1 Year\"\n                    }\n                },\n                {\n                    id: 2,\n                    name: \"Branded Corporate Merchandise\",\n                    price: 299,\n                    retailPrice: {\n                        mrp: 399,\n                        sellingPrice: 299,\n                        discount: 5,\n                        currency: 'INR'\n                    },\n                    corporatePricing: {\n                        enabled: true,\n                        minimumOrderQuantity: 100,\n                        priceTiers: [\n                            { minQuantity: 100, maxQuantity: 249, pricePerUnit: 270, discount: 10 },\n                            { minQuantity: 250, maxQuantity: 499, pricePerUnit: 249, discount: 17 },\n                            { minQuantity: 500, maxQuantity: null, pricePerUnit: 220, discount: 26 }\n                        ]\n                    },\n                    image: \"/assets/img/product/product-2.jpg\",\n                    category: \"Branded Items\",\n                    minOrder: 100,\n                    specifications: {\n                        material: \"Cotton Blend\",\n                        customization: \"Embroidery/Screen Print\",\n                        packaging: \"Poly Bags\",\n                        warranty: \"6 Months\"\n                    }\n                },\n                {\n                    id: 3,\n                    name: \"Executive Office Supplies Bundle\",\n                    price: 199,\n                    retailPrice: {\n                        mrp: 299,\n                        sellingPrice: 199,\n                        discount: 15,\n                        currency: 'INR'\n                    },\n                    corporatePricing: {\n                        enabled: true,\n                        minimumOrderQuantity: 25,\n                        priceTiers: [\n                            { minQuantity: 25, maxQuantity: 49, pricePerUnit: 180, discount: 10 },\n                            { minQuantity: 50, maxQuantity: 99, pricePerUnit: 160, discount: 20 },\n                            { minQuantity: 100, maxQuantity: null, pricePerUnit: 140, discount: 30 }\n                        ]\n                    },\n                    image: \"/assets/img/product/product-3.jpg\",\n                    category: \"Office Supplies\",\n                    minOrder: 25,\n                    specifications: {\n                        material: \"High Quality Paper/Metal\",\n                        customization: \"Logo Engraving\",\n                        packaging: \"Presentation Box\",\n                        warranty: \"2 Years\"\n                    }\n                }\n            ]\n            \n            setProducts(sampleProducts)\n        } catch (error) {\n            console.error('Error loading corporate products:', error)\n        } finally {\n            setLoading(false)\n        }\n    }\n\n    const filteredProducts = products.filter(product => {\n        if (filter === 'all') return true\n        return product.category.toLowerCase().includes(filter.toLowerCase())\n    })\n\n    if (loading) {\n        return (\n            <CorporateProtectedRoute>\n                <Layout headerStyle={1} footerStyle={2}>\n                    <div className=\"container py-5\">\n                        <div className=\"text-center\">\n                            <div className=\"spinner-border text-primary\" role=\"status\">\n                                <span className=\"visually-hidden\">Loading...</span>\n                            </div>\n                            <p className=\"mt-3\">Loading corporate products...</p>\n                        </div>\n                    </div>\n                </Layout>\n            </CorporateProtectedRoute>\n        )\n    }\n\n    return (\n        <CorporateProtectedRoute>\n            <Layout headerStyle={1} footerStyle={2}>\n                {/* Header Section */}\n                <section className=\"corporate-products-header py-5 bg-primary text-white\">\n                    <div className=\"container\">\n                        <div className=\"row\">\n                            <div className=\"col-lg-8\">\n                                <h1 className=\"display-5 fw-bold\">Corporate Products</h1>\n                                <p className=\"lead\">\n                                    Exclusive bulk pricing for corporate clients. Save more with larger quantities.\n                                </p>\n                            </div>\n                            <div className=\"col-lg-4\">\n                                <div className=\"corporate-benefits-box bg-white text-dark p-4 rounded\">\n                                    <h6 className=\"fw-bold text-primary\">Corporate Benefits</h6>\n                                    <ul className=\"list-unstyled small mb-0\">\n                                        <li>✓ Volume discounts up to 40%</li>\n                                        <li>✓ Custom packaging</li>\n                                        <li>✓ Priority support</li>\n                                        <li>✓ Flexible payment terms</li>\n                                    </ul>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </section>\n\n                {/* Filter Section */}\n                <section className=\"py-4 bg-light\">\n                    <div className=\"container\">\n                        <div className=\"row align-items-center\">\n                            <div className=\"col-md-6\">\n                                <h5 className=\"mb-3 mb-md-0\">Filter Products</h5>\n                            </div>\n                            <div className=\"col-md-6\">\n                                <div className=\"d-flex gap-2 flex-wrap\">\n                                    <button \n                                        className={`btn ${filter === 'all' ? 'btn-primary' : 'btn-outline-primary'} btn-sm`}\n                                        onClick={() => setFilter('all')}\n                                    >\n                                        All Products\n                                    </button>\n                                    <button \n                                        className={`btn ${filter === 'gifts' ? 'btn-primary' : 'btn-outline-primary'} btn-sm`}\n                                        onClick={() => setFilter('gifts')}\n                                    >\n                                        Corporate Gifts\n                                    </button>\n                                    <button \n                                        className={`btn ${filter === 'branded' ? 'btn-primary' : 'btn-outline-primary'} btn-sm`}\n                                        onClick={() => setFilter('branded')}\n                                    >\n                                        Branded Items\n                                    </button>\n                                    <button \n                                        className={`btn ${filter === 'office' ? 'btn-primary' : 'btn-outline-primary'} btn-sm`}\n                                        onClick={() => setFilter('office')}\n                                    >\n                                        Office Supplies\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </section>\n\n                {/* Products Grid */}\n                <section className=\"py-5\">\n                    <div className=\"container\">\n                        <div className=\"row\">\n                            {filteredProducts.map(product => {\n                                const pricingInfo = getDisplayPrice(product, user, product.minOrder)\n                                const lowestTierPrice = product.corporatePricing?.priceTiers?.length > 0 ? \n                                    Math.min(...product.corporatePricing.priceTiers.map(t => t.pricePerUnit)) : pricingInfo.price\n\n                                return (\n                                    <div key={product.id} className=\"col-lg-4 col-md-6 mb-4\">\n                                        <div className=\"card h-100 corporate-product-card\">\n                                            <div className=\"position-relative\">\n                                                <img \n                                                    src={product.image} \n                                                    className=\"card-img-top\" \n                                                    alt={product.name}\n                                                    style={{ height: '250px', objectFit: 'cover' }}\n                                                />\n                                                <div className=\"position-absolute top-0 start-0 m-2\">\n                                                    <span className=\"badge bg-primary\">Corporate Exclusive</span>\n                                                </div>\n                                                {product.corporatePricing?.priceTiers?.length > 0 && (\n                                                    <div className=\"position-absolute top-0 end-0 m-2\">\n                                                        <span className=\"badge bg-success\">\n                                                            Up to {Math.max(...product.corporatePricing.priceTiers.map(t => t.discount))}% Off\n                                                        </span>\n                                                    </div>\n                                                )}\n                                            </div>\n                                            \n                                            <div className=\"card-body d-flex flex-column\">\n                                                <h5 className=\"card-title\">{product.name}</h5>\n                                                <p className=\"text-muted small\">{product.category}</p>\n                                                \n                                                {/* Pricing Display */}\n                                                <div className=\"pricing-section mb-3\">\n                                                    <div className=\"retail-price text-muted small\">\n                                                        Retail: <span className=\"text-decoration-line-through\">₹{pricingInfo.originalPrice}</span>\n                                                    </div>\n                                                    <div className=\"corporate-price\">\n                                                        <span className=\"h6 text-primary mb-0\">\n                                                            From ₹{lowestTierPrice}/unit\n                                                        </span>\n                                                    </div>\n                                                    <div className=\"min-order text-muted small\">\n                                                        Min. order: {product.minOrder} units\n                                                    </div>\n                                                </div>\n\n                                                {/* Tier Preview */}\n                                                {shouldShowCorporatePricing(user, product) && (\n                                                    <div className=\"tiers-preview mb-3\">\n                                                        <small className=\"text-muted\">Bulk Pricing:</small>\n                                                        <div className=\"small\">\n                                                            {product.corporatePricing.priceTiers.slice(0, 2).map((tier, index) => (\n                                                                <div key={index} className=\"d-flex justify-content-between\">\n                                                                    <span>{tier.minQuantity}+ units:</span>\n                                                                    <span className=\"text-primary fw-bold\">₹{tier.pricePerUnit}</span>\n                                                                </div>\n                                                            ))}\n                                                            {product.corporatePricing.priceTiers.length > 2 && (\n                                                                <div className=\"text-center\">\n                                                                    <small className=\"text-muted\">...and more tiers</small>\n                                                                </div>\n                                                            )}\n                                                        </div>\n                                                    </div>\n                                                )}\n\n                                                <div className=\"mt-auto\">\n                                                    <Link \n                                                        href={`/corporate-shop/${product.id}`}\n                                                        className=\"btn btn-primary w-100\"\n                                                    >\n                                                        View Details & Order\n                                                    </Link>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                )\n                            })}\n                        </div>\n\n                        {filteredProducts.length === 0 && (\n                            <div className=\"text-center py-5\">\n                                <h4>No products found</h4>\n                                <p className=\"text-muted\">Try adjusting your filters or contact support for custom requirements.</p>\n                                <button \n                                    className=\"btn btn-primary\"\n                                    onClick={() => setFilter('all')}\n                                >\n                                    View All Products\n                                </button>\n                            </div>\n                        )}\n                    </div>\n                </section>\n\n                {/* CTA Section */}\n                <section className=\"py-5 bg-light\">\n                    <div className=\"container\">\n                        <div className=\"row text-center\">\n                            <div className=\"col-lg-8 mx-auto\">\n                                <h3>Need Custom Solutions?</h3>\n                                <p className=\"lead\">\n                                    Our corporate team can help you with custom packaging, branding, and special requirements.\n                                </p>\n                                <div className=\"d-flex gap-3 justify-content-center flex-wrap\">\n                                    <button className=\"btn btn-primary btn-lg\">\n                                        <i className=\"fal fa-phone me-2\"></i>\n                                        Contact Corporate Team\n                                    </button>\n                                    <button className=\"btn btn-outline-primary btn-lg\">\n                                        <i className=\"fal fa-file-alt me-2\"></i>\n                                        Request Custom Quote\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </section>\n\n                <style jsx>{`\n                    .corporate-product-card {\n                        transition: transform 0.3s ease, box-shadow 0.3s ease;\n                        border: none;\n                        box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n                    }\n                    \n                    .corporate-product-card:hover {\n                        transform: translateY(-5px);\n                        box-shadow: 0 8px 25px rgba(0,0,0,0.15);\n                    }\n                    \n                    .pricing-section {\n                        background: #f8f9fa;\n                        padding: 1rem;\n                        border-radius: 8px;\n                        border-left: 4px solid #007bff;\n                    }\n                    \n                    .tiers-preview {\n                        background: #e3f2fd;\n                        padding: 0.75rem;\n                        border-radius: 6px;\n                    }\n                    \n                    .corporate-benefits-box {\n                        box-shadow: 0 4px 12px rgba(0,0,0,0.1);\n                    }\n                `}</style>\n            </Layout>\n        </CorporateProtectedRoute>\n    )\n}"
        }
    ]
}