{
    "sourceFile": "server.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1752664592317,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1752664592317,
            "name": "Commit-0",
            "content": "const express = require('express');\r\nconst path = require('path');\r\nconst dotenv = require('dotenv');\r\nconst connectDB = require('./src/config/db');\r\nconst authRoutes = require('./src/routes/authRoutes');\r\nconst userRoutes = require('./src/routes/userRoutes');\r\nconst otpRoutes = require('./src/routes/otpRoutes');\r\nconst cors = require('cors');\r\n\r\nconst productRoutes = require('./src/routes/productRoutes');\r\nconst orderRoutes = require('./src/routes/orderRoutes');\r\nconst wishlistRoutes = require('./src/routes/wishlistRoutes');\r\nconst cartRoutes = require('./src/routes/cartRoutes');\r\nconst addressRoutes = require('./src/routes/addressRoutes');\r\nconst corporateRoutes = require('./src/routes/corporateRoutes');\r\nconst trackOrderRoutes = require('./src/routes/trackOrderRoutes');\r\nconst categoryRoutes = require('./src/routes/categoryRoutes');\r\n\r\n\r\n\r\n\r\ndotenv.config();\r\nconst app = express();\r\nconnectDB();\r\napp.use(cors({\r\n  origin: ['http://localhost:3000', 'http://localhost:3001', 'http://127.0.0.1:3000', 'http://127.0.0.1:3001'], \r\n  credentials: true\r\n}));\r\n\r\n\r\napp.use(express.json());\r\n\r\n// Serve static files from public directory\r\napp.use(express.static(path.join(__dirname, 'public')));\r\n\r\n// Request logging middleware for debugging\r\napp.use((req, res, next) => {\r\n  console.log(`${req.method} ${req.path} - Origin: ${req.get('Origin')}`);\r\n  next();\r\n});\r\n\r\n\r\napp.use('/api/auth', authRoutes);\r\napp.use('/api/user', userRoutes);\r\napp.use('/api/otp', otpRoutes);\r\napp.use('/api/users', userRoutes);\r\napp.use('/api/products', productRoutes);\r\napp.use('/api/orders', orderRoutes);\r\napp.use('/api/wishlist', wishlistRoutes);\r\napp.use('/api/cart', cartRoutes);\r\napp.use('/api/address', addressRoutes);\r\napp.use('/api/corporate', corporateRoutes);\r\napp.use('/api', trackOrderRoutes);\r\napp.use('/api/categories', categoryRoutes);\r\n\r\n\r\n\r\napp.get('/', (req, res) => {\r\n  res.send('API is running...');\r\n});\r\n\r\n// Test route for debugging\r\napp.get('/api/test', (req, res) => {\r\n  res.json({ message: 'API test successful', timestamp: new Date().toISOString() });\r\n});\r\n\r\n// Routes (added later)\r\n\r\n\r\n\r\nconst PORT = process.env.PORT || 5000;\r\napp.listen(PORT, () => {\r\n  console.log(`Server running on port ${PORT}`);\r\n});\r\n"
        }
    ]
}